/home/h/projects/webServer/src/Base/BasicSchema.hs:(61,93)-(97,2): Splicing expression
    Language.Haskell.TH.Quote.quoteExp
      PTH.persistLowerCase
      "\n\
      \ User sql=users\n\
      \  name T.Text\n\
      \  login T.Text\n\
      \  quasiPassword T.Text\n\
      \  created UTCTime\n\
      \  isAdmin Bool\n\
      \  isPublisher Bool\n\
      \  UniqueUser login\n\
      \  deriving Eq Show\n\
      \ Category sql=categories\n\
      \  label T.Text\n\
      \  parent CategoryId Maybe\n\
      \  UniqueCategory label\n\
      \  deriving Eq Show\n\
      \ News sql=news\n\
      \  title T.Text\n\
      \  created UTCTime\n\
      \  userId UserId\n\
      \  categoryId CategoryId\n\
      \  content T.Text\n\
      \  imagesIds [ImageId]\n\
      \  isPublish Bool\n\
      \  UniqueNews title\n\
      \  deriving Eq Show\n\
      \ Image sql=images\n\
      \  header T.Text\n\
      \  base64 T.Text\n\
      \  UniqueImage header base64\n\
      \  deriving Eq Show\n\
      \ ImageBank sql=images_bank -- for tests.\n\
      \  newsId NewsId\n\
      \  imageId ImageId\n\
      \  -- UniqueImageBank newsId imageId\n\
      \  Primary newsId imageId\n\
      \  deriving Eq Show\n"
  ======>
    [(((Database.Persist.Quasi.Internal.UnboundEntityDef [])
         (Database.Persist.Quasi.Internal.DefaultKey
            (FieldNameDB (T.pack "id"))))
        (((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                     (EntityNameHS (T.pack "User")))
                    (EntityNameDB (T.pack "users")))
                   (EntityIdField
                      (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                  (FieldNameDB (T.pack "id")))
                                 ((FTTypeCon Nothing) (T.pack "UserId")))
                                SqlInt64)
                               [])
                              True)
                             NoReference)
                            ((FieldCascade Nothing) Nothing))
                           Nothing)
                          Nothing)
                         True)))
                  [T.pack "sql=users"])
                 [])
                [(((UniqueDef (ConstraintNameHS (T.pack "UniqueUser")))
                     (ConstraintNameDB (T.pack "unique_user")))
                    ((FieldNameHS (T.pack "login"), FieldNameDB (T.pack "login"))
                       GHC.Base.:| []))
                   []])
               [])
              [T.pack "Eq", T.pack "Show"])
             Data.Map.Internal.Tip)
            False)
           Nothing))
       [(((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "name")))
                (FieldNameDB (T.pack "name")))
               [])
              True)
             ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "login")))
                (FieldNameDB (T.pack "login")))
               [])
              True)
             ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "quasiPassword")))
                (FieldNameDB (T.pack "quasi_password")))
               [])
              True)
             ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "created")))
                (FieldNameDB (T.pack "created")))
               [])
              True)
             ((FTTypeCon Nothing) (T.pack "UTCTime")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "isAdmin")))
                (FieldNameDB (T.pack "is_admin")))
               [])
              True)
             ((FTTypeCon Nothing) (T.pack "Bool")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "isPublisher")))
                (FieldNameDB (T.pack "is_publisher")))
               [])
              True)
             ((FTTypeCon Nothing) (T.pack "Bool")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing],
     (((Database.Persist.Quasi.Internal.UnboundEntityDef [])
         (Database.Persist.Quasi.Internal.DefaultKey
            (FieldNameDB (T.pack "id"))))
        (((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                     (EntityNameHS (T.pack "Category")))
                    (EntityNameDB (T.pack "categories")))
                   (EntityIdField
                      (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                  (FieldNameDB (T.pack "id")))
                                 ((FTTypeCon Nothing) (T.pack "CategoryId")))
                                SqlInt64)
                               [])
                              True)
                             NoReference)
                            ((FieldCascade Nothing) Nothing))
                           Nothing)
                          Nothing)
                         True)))
                  [T.pack "sql=categories"])
                 [])
                [(((UniqueDef (ConstraintNameHS (T.pack "UniqueCategory")))
                     (ConstraintNameDB (T.pack "unique_category")))
                    ((FieldNameHS (T.pack "label"), FieldNameDB (T.pack "label"))
                       GHC.Base.:| []))
                   []])
               [])
              [T.pack "Eq", T.pack "Show"])
             Data.Map.Internal.Tip)
            False)
           Nothing))
       [(((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "label")))
                (FieldNameDB (T.pack "label")))
               [])
              True)
             ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "parent")))
                (FieldNameDB (T.pack "parent")))
               [FieldAttrMaybe])
              True)
             ((FTTypeCon Nothing) (T.pack "CategoryId")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing],
     (((Database.Persist.Quasi.Internal.UnboundEntityDef [])
         (Database.Persist.Quasi.Internal.DefaultKey
            (FieldNameDB (T.pack "id"))))
        (((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                     (EntityNameHS (T.pack "News")))
                    (EntityNameDB (T.pack "news")))
                   (EntityIdField
                      (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                  (FieldNameDB (T.pack "id")))
                                 ((FTTypeCon Nothing) (T.pack "NewsId")))
                                SqlInt64)
                               [])
                              True)
                             NoReference)
                            ((FieldCascade Nothing) Nothing))
                           Nothing)
                          Nothing)
                         True)))
                  [T.pack "sql=news"])
                 [])
                [(((UniqueDef (ConstraintNameHS (T.pack "UniqueNews")))
                     (ConstraintNameDB (T.pack "unique_news")))
                    ((FieldNameHS (T.pack "title"), FieldNameDB (T.pack "title"))
                       GHC.Base.:| []))
                   []])
               [])
              [T.pack "Eq", T.pack "Show"])
             Data.Map.Internal.Tip)
            False)
           Nothing))
       [(((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "title")))
                (FieldNameDB (T.pack "title")))
               [])
              True)
             ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "created")))
                (FieldNameDB (T.pack "created")))
               [])
              True)
             ((FTTypeCon Nothing) (T.pack "UTCTime")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "userId")))
                (FieldNameDB (T.pack "user_id")))
               [])
              True)
             ((FTTypeCon Nothing) (T.pack "UserId")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "categoryId")))
                (FieldNameDB (T.pack "category_id")))
               [])
              True)
             ((FTTypeCon Nothing) (T.pack "CategoryId")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "content")))
                (FieldNameDB (T.pack "content")))
               [])
              True)
             ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "imagesIds")))
                (FieldNameDB (T.pack "images_ids")))
               [])
              True)
             (FTList ((FTTypeCon Nothing) (T.pack "ImageId"))))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "isPublish")))
                (FieldNameDB (T.pack "is_publish")))
               [])
              True)
             ((FTTypeCon Nothing) (T.pack "Bool")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing],
     (((Database.Persist.Quasi.Internal.UnboundEntityDef [])
         (Database.Persist.Quasi.Internal.DefaultKey
            (FieldNameDB (T.pack "id"))))
        (((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                     (EntityNameHS (T.pack "Image")))
                    (EntityNameDB (T.pack "images")))
                   (EntityIdField
                      (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                  (FieldNameDB (T.pack "id")))
                                 ((FTTypeCon Nothing) (T.pack "ImageId")))
                                SqlInt64)
                               [])
                              True)
                             NoReference)
                            ((FieldCascade Nothing) Nothing))
                           Nothing)
                          Nothing)
                         True)))
                  [T.pack "sql=images"])
                 [])
                [(((UniqueDef (ConstraintNameHS (T.pack "UniqueImage")))
                     (ConstraintNameDB (T.pack "unique_image")))
                    ((FieldNameHS (T.pack "header"), FieldNameDB (T.pack "header"))
                       GHC.Base.:|
                         [(FieldNameHS (T.pack "base64"), FieldNameDB (T.pack "base64"))]))
                   []])
               [])
              [T.pack "Eq", T.pack "Show"])
             Data.Map.Internal.Tip)
            False)
           Nothing))
       [(((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "header")))
                (FieldNameDB (T.pack "header")))
               [])
              True)
             ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "base64")))
                (FieldNameDB (T.pack "base64")))
               [])
              True)
             ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing],
     (((Database.Persist.Quasi.Internal.UnboundEntityDef [])
         (Database.Persist.Quasi.Internal.NaturalKey
            ((Database.Persist.Quasi.Internal.UnboundCompositeDef
                [FieldNameHS (T.pack "newsId"), FieldNameHS (T.pack "imageId")])
               [])))
        (((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                     (EntityNameHS (T.pack "ImageBank")))
                    (EntityNameDB (T.pack "images_bank")))
                   (EntityIdField
                      (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                  (FieldNameDB (T.pack "id")))
                                 ((FTTypeCon Nothing) (T.pack "ImageBankId")))
                                (SqlOther (T.pack "Primary Key")))
                               [])
                              True)
                             NoReference)
                            ((FieldCascade Nothing) Nothing))
                           Nothing)
                          Nothing)
                         True)))
                  [T.pack "sql=images_bank"])
                 [])
                [])
               [])
              [T.pack "Eq", T.pack "Show"])
             Data.Map.Internal.Tip)
            False)
           Nothing))
       [(((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "newsId")))
                (FieldNameDB (T.pack "news_id")))
               [])
              True)
             ((FTTypeCon Nothing) (T.pack "NewsId")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "imageId")))
                (FieldNameDB (T.pack "image_id")))
               [])
              True)
             ((FTTypeCon Nothing) (T.pack "ImageId")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing]]
/home/h/projects/webServer/src/Base/BasicSchema.hs:(61,1)-(97,2): Splicing declarations
    PTH.share
      [PTH.mkPersist PTH.sqlSettings, PTH.mkMigrate "migrateAll"]
      ([(((Database.Persist.Quasi.Internal.UnboundEntityDef [])
            (Database.Persist.Quasi.Internal.DefaultKey
               (FieldNameDB (T.pack "id"))))
           (((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                        (EntityNameHS (T.pack "User")))
                       (EntityNameDB (T.pack "users")))
                      (EntityIdField
                         (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                     (FieldNameDB (T.pack "id")))
                                    ((FTTypeCon Nothing) (T.pack "UserId")))
                                   SqlInt64)
                                  [])
                                 True)
                                NoReference)
                               ((FieldCascade Nothing) Nothing))
                              Nothing)
                             Nothing)
                            True)))
                     [T.pack "sql=users"])
                    [])
                   [(((UniqueDef (ConstraintNameHS (T.pack "UniqueUser")))
                        (ConstraintNameDB (T.pack "unique_user")))
                       ((FieldNameHS (T.pack "login"), FieldNameDB (T.pack "login"))
                          GHC.Base.:| []))
                      []])
                  [])
                 [T.pack "Eq", T.pack "Show"])
                Data.Map.Internal.Tip)
               False)
              Nothing))
          [(((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "name")))
                   (FieldNameDB (T.pack "name")))
                  [])
                 True)
                ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "login")))
                   (FieldNameDB (T.pack "login")))
                  [])
                 True)
                ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "quasiPassword")))
                   (FieldNameDB (T.pack "quasi_password")))
                  [])
                 True)
                ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "created")))
                   (FieldNameDB (T.pack "created")))
                  [])
                 True)
                ((FTTypeCon Nothing) (T.pack "UTCTime")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "isAdmin")))
                   (FieldNameDB (T.pack "is_admin")))
                  [])
                 True)
                ((FTTypeCon Nothing) (T.pack "Bool")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "isPublisher")))
                   (FieldNameDB (T.pack "is_publisher")))
                  [])
                 True)
                ((FTTypeCon Nothing) (T.pack "Bool")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing],
        (((Database.Persist.Quasi.Internal.UnboundEntityDef [])
            (Database.Persist.Quasi.Internal.DefaultKey
               (FieldNameDB (T.pack "id"))))
           (((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                        (EntityNameHS (T.pack "Category")))
                       (EntityNameDB (T.pack "categories")))
                      (EntityIdField
                         (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                     (FieldNameDB (T.pack "id")))
                                    ((FTTypeCon Nothing) (T.pack "CategoryId")))
                                   SqlInt64)
                                  [])
                                 True)
                                NoReference)
                               ((FieldCascade Nothing) Nothing))
                              Nothing)
                             Nothing)
                            True)))
                     [T.pack "sql=categories"])
                    [])
                   [(((UniqueDef (ConstraintNameHS (T.pack "UniqueCategory")))
                        (ConstraintNameDB (T.pack "unique_category")))
                       ((FieldNameHS (T.pack "label"), FieldNameDB (T.pack "label"))
                          GHC.Base.:| []))
                      []])
                  [])
                 [T.pack "Eq", T.pack "Show"])
                Data.Map.Internal.Tip)
               False)
              Nothing))
          [(((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "label")))
                   (FieldNameDB (T.pack "label")))
                  [])
                 True)
                ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "parent")))
                   (FieldNameDB (T.pack "parent")))
                  [FieldAttrMaybe])
                 True)
                ((FTTypeCon Nothing) (T.pack "CategoryId")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing],
        (((Database.Persist.Quasi.Internal.UnboundEntityDef [])
            (Database.Persist.Quasi.Internal.DefaultKey
               (FieldNameDB (T.pack "id"))))
           (((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                        (EntityNameHS (T.pack "News")))
                       (EntityNameDB (T.pack "news")))
                      (EntityIdField
                         (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                     (FieldNameDB (T.pack "id")))
                                    ((FTTypeCon Nothing) (T.pack "NewsId")))
                                   SqlInt64)
                                  [])
                                 True)
                                NoReference)
                               ((FieldCascade Nothing) Nothing))
                              Nothing)
                             Nothing)
                            True)))
                     [T.pack "sql=news"])
                    [])
                   [(((UniqueDef (ConstraintNameHS (T.pack "UniqueNews")))
                        (ConstraintNameDB (T.pack "unique_news")))
                       ((FieldNameHS (T.pack "title"), FieldNameDB (T.pack "title"))
                          GHC.Base.:| []))
                      []])
                  [])
                 [T.pack "Eq", T.pack "Show"])
                Data.Map.Internal.Tip)
               False)
              Nothing))
          [(((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "title")))
                   (FieldNameDB (T.pack "title")))
                  [])
                 True)
                ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "created")))
                   (FieldNameDB (T.pack "created")))
                  [])
                 True)
                ((FTTypeCon Nothing) (T.pack "UTCTime")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "userId")))
                   (FieldNameDB (T.pack "user_id")))
                  [])
                 True)
                ((FTTypeCon Nothing) (T.pack "UserId")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "categoryId")))
                   (FieldNameDB (T.pack "category_id")))
                  [])
                 True)
                ((FTTypeCon Nothing) (T.pack "CategoryId")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "content")))
                   (FieldNameDB (T.pack "content")))
                  [])
                 True)
                ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "imagesIds")))
                   (FieldNameDB (T.pack "images_ids")))
                  [])
                 True)
                (FTList ((FTTypeCon Nothing) (T.pack "ImageId"))))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "isPublish")))
                   (FieldNameDB (T.pack "is_publish")))
                  [])
                 True)
                ((FTTypeCon Nothing) (T.pack "Bool")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing],
        (((Database.Persist.Quasi.Internal.UnboundEntityDef [])
            (Database.Persist.Quasi.Internal.DefaultKey
               (FieldNameDB (T.pack "id"))))
           (((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                        (EntityNameHS (T.pack "Image")))
                       (EntityNameDB (T.pack "images")))
                      (EntityIdField
                         (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                     (FieldNameDB (T.pack "id")))
                                    ((FTTypeCon Nothing) (T.pack "ImageId")))
                                   SqlInt64)
                                  [])
                                 True)
                                NoReference)
                               ((FieldCascade Nothing) Nothing))
                              Nothing)
                             Nothing)
                            True)))
                     [T.pack "sql=images"])
                    [])
                   [(((UniqueDef (ConstraintNameHS (T.pack "UniqueImage")))
                        (ConstraintNameDB (T.pack "unique_image")))
                       ((FieldNameHS (T.pack "header"), FieldNameDB (T.pack "header"))
                          GHC.Base.:|
                            [(FieldNameHS (T.pack "base64"), FieldNameDB (T.pack "base64"))]))
                      []])
                  [])
                 [T.pack "Eq", T.pack "Show"])
                Data.Map.Internal.Tip)
               False)
              Nothing))
          [(((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "header")))
                   (FieldNameDB (T.pack "header")))
                  [])
                 True)
                ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "base64")))
                   (FieldNameDB (T.pack "base64")))
                  [])
                 True)
                ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing],
        (((Database.Persist.Quasi.Internal.UnboundEntityDef [])
            (Database.Persist.Quasi.Internal.NaturalKey
               ((Database.Persist.Quasi.Internal.UnboundCompositeDef
                   [FieldNameHS (T.pack "newsId"), FieldNameHS (T.pack "imageId")])
                  [])))
           (((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                        (EntityNameHS (T.pack "ImageBank")))
                       (EntityNameDB (T.pack "images_bank")))
                      (EntityIdField
                         (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                     (FieldNameDB (T.pack "id")))
                                    ((FTTypeCon Nothing) (T.pack "ImageBankId")))
                                   (SqlOther (T.pack "Primary Key")))
                                  [])
                                 True)
                                NoReference)
                               ((FieldCascade Nothing) Nothing))
                              Nothing)
                             Nothing)
                            True)))
                     [T.pack "sql=images_bank"])
                    [])
                   [])
                  [])
                 [T.pack "Eq", T.pack "Show"])
                Data.Map.Internal.Tip)
               False)
              Nothing))
          [(((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "newsId")))
                   (FieldNameDB (T.pack "news_id")))
                  [])
                 True)
                ((FTTypeCon Nothing) (T.pack "NewsId")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "imageId")))
                   (FieldNameDB (T.pack "image_id")))
                  [])
                 True)
                ((FTTypeCon Nothing) (T.pack "ImageId")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing]])
  ======>
    instance PersistField User where
      toPersistValue = Database.Persist.TH.entityToPersistValueHelper
      fromPersistValue
        = Database.Persist.TH.entityFromPersistValueHelper
            ["name", "login", "quasiPassword", "created", "isAdmin",
             "isPublisher"]
    instance persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.PersistFieldSql User where
      persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
        _
        = SqlString
    instance PersistField Category where
      toPersistValue = Database.Persist.TH.entityToPersistValueHelper
      fromPersistValue
        = Database.Persist.TH.entityFromPersistValueHelper
            ["label", "parent"]
    instance persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.PersistFieldSql Category where
      persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
        _
        = SqlString
    instance PersistField News where
      toPersistValue = Database.Persist.TH.entityToPersistValueHelper
      fromPersistValue
        = Database.Persist.TH.entityFromPersistValueHelper
            ["title", "created", "userId", "categoryId", "content",
             "imagesIds", "isPublish"]
    instance persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.PersistFieldSql News where
      persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
        _
        = SqlString
    instance PersistField Image where
      toPersistValue = Database.Persist.TH.entityToPersistValueHelper
      fromPersistValue
        = Database.Persist.TH.entityFromPersistValueHelper
            ["header", "base64"]
    instance persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.PersistFieldSql Image where
      persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
        _
        = SqlString
    instance PersistField ImageBank where
      toPersistValue = Database.Persist.TH.entityToPersistValueHelper
      fromPersistValue
        = Database.Persist.TH.entityFromPersistValueHelper
            ["newsId", "imageId"]
    instance persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.PersistFieldSql ImageBank where
      persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
        _
        = SqlString
    data User
      = User {userName :: !T.Text,
              userLogin :: !T.Text,
              userQuasiPassword :: !T.Text,
              userCreated :: !UTCTime,
              userIsAdmin :: !Bool,
              userIsPublisher :: !Bool}
      deriving stock (Eq, Show)
    type UserId = Database.Persist.Key User
    instance PersistEntity User where
      type PersistEntityBackend User = Database.Persist.SqlBackend.Internal.SqlBackend
      data Unique User = UniqueUser T.Text
      newtype Database.Persist.Key User
        = UserKey {unUserKey :: (BackendKey Database.Persist.SqlBackend.Internal.SqlBackend)}
        deriving stock Show
        deriving stock Read
        deriving newtype Eq
        deriving newtype Ord
        deriving newtype path-pieces-0.2.1-E15XfVOwfTfIr2VliI4YGA:Web.PathPieces.PathPiece
        deriving newtype http-api-data-0.4.3-8AwfdtQImWAISYRgwZNRi0:Web.Internal.HttpApiData.ToHttpApiData
        deriving newtype http-api-data-0.4.3-8AwfdtQImWAISYRgwZNRi0:Web.Internal.HttpApiData.FromHttpApiData
        deriving newtype PersistField
        deriving newtype persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.PersistFieldSql
        deriving newtype ToJSON
        deriving newtype FromJSON
      data EntityField User typ
        = (typ ~ UserId) => UserId |
          (typ ~ T.Text) => UserName |
          (typ ~ T.Text) => UserLogin |
          (typ ~ T.Text) => UserQuasiPassword |
          (typ ~ UTCTime) => UserCreated |
          (typ ~ Bool) => UserIsAdmin |
          (typ ~ Bool) => UserIsPublisher
      keyToValues
        = ((: []) . (toPersistValue . (\ UserKey {unUserKey = x} -> x)))
      keyFromValues
        = (fmap UserKey
             . (fromPersistValue . Database.Persist.TH.headNote))
      keyFromRecordM = Nothing
      entityDef _
        = ((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                      (EntityNameHS (T.pack "User")))
                     (EntityNameDB (T.pack "users")))
                    (EntityIdField
                       (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                   (FieldNameDB (T.pack "id")))
                                  ((FTTypeCon Nothing) (T.pack "UserId")))
                                 SqlInt64)
                                [])
                               True)
                              NoReference)
                             ((FieldCascade Nothing) Nothing))
                            Nothing)
                           Nothing)
                          True)))
                   [T.pack "sql=users"])
                  [])
                 [(((UniqueDef (ConstraintNameHS (T.pack "UniqueUser")))
                      (ConstraintNameDB (T.pack "unique_user")))
                     ((FieldNameHS (T.pack "login"), FieldNameDB (T.pack "login"))
                        GHC.Base.:| []))
                    []])
                [])
               [T.pack "Eq", T.pack "Show"])
              Data.Map.Internal.Tip)
             False)
            Nothing
            {persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityFields = [FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "name"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "name"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      (Just
                                                                                                                         (T.pack
                                                                                                                            "T")))
                                                                                                                     (T.pack
                                                                                                                        "Text"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy T.Text),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "login"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "login"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      (Just
                                                                                                                         (T.pack
                                                                                                                            "T")))
                                                                                                                     (T.pack
                                                                                                                        "Text"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy T.Text),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "quasiPassword"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "quasi_password"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      (Just
                                                                                                                         (T.pack
                                                                                                                            "T")))
                                                                                                                     (T.pack
                                                                                                                        "Text"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy T.Text),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "created"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "created"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      Nothing)
                                                                                                                     (T.pack
                                                                                                                        "UTCTime"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy UTCTime),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "isAdmin"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "is_admin"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      Nothing)
                                                                                                                     (T.pack
                                                                                                                        "Bool"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy Bool),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "isPublisher"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "is_publisher"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      Nothing)
                                                                                                                     (T.pack
                                                                                                                        "Bool"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy Bool),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False}],
             persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityId = EntityIdField
                                                                                                 (((((((((((FieldDef
                                                                                                              (FieldNameHS
                                                                                                                 (T.pack
                                                                                                                    "Id")))
                                                                                                             (FieldNameDB
                                                                                                                (T.pack
                                                                                                                   "id")))
                                                                                                            ((FTTypeCon
                                                                                                                Nothing)
                                                                                                               (T.pack
                                                                                                                  "UserId")))
                                                                                                           SqlInt64)
                                                                                                          [])
                                                                                                         True)
                                                                                                        NoReference)
                                                                                                       ((FieldCascade
                                                                                                           Nothing)
                                                                                                          Nothing))
                                                                                                      Nothing)
                                                                                                     Nothing)
                                                                                                    True),
             persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityForeigns = []}
      toPersistFields (User x_a8QG x_a8QH x_a8QI x_a8QJ x_a8QK x_a8QL)
        = [SomePersistField x_a8QG, SomePersistField x_a8QH,
           SomePersistField x_a8QI, SomePersistField x_a8QJ,
           SomePersistField x_a8QK, SomePersistField x_a8QL]
      fromPersistValues
        [x1_a8QN, x2_a8QO, x3_a8QP, x4_a8QQ, x5_a8QR, x6_a8QS]
        = User
            <$>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "users")) (T.pack "name"))
                 . fromPersistValue)
                x1_a8QN
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "users")) (T.pack "login"))
                 . fromPersistValue)
                x2_a8QO
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "users")) (T.pack "quasiPassword"))
                 . fromPersistValue)
                x3_a8QP
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "users")) (T.pack "created"))
                 . fromPersistValue)
                x4_a8QQ
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "users")) (T.pack "isAdmin"))
                 . fromPersistValue)
                x5_a8QR
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "users")) (T.pack "isPublisher"))
                 . fromPersistValue)
                x6_a8QS
      fromPersistValues x_a8QM
        = (Left
             $ (mappend (T.pack "User: fromPersistValues failed on: "))
                 (T.pack $ show x_a8QM))
      persistUniqueToFieldNames UniqueUser {}
        = ((FieldNameHS (T.pack "login"), FieldNameDB (T.pack "login"))
             GHC.Base.:| [])
      persistUniqueToValues (UniqueUser x_a8QT) = [toPersistValue x_a8QT]
      persistUniqueKeys
        (User _name_a8QU _login_a8QV _quasiPassword_a8QW _created_a8QX
              _isAdmin_a8QY _isPublisher_a8QZ)
        = [UniqueUser _login_a8QV]
      persistFieldDef UserId
        = Database.Persist.TH.stripIdFieldImpl
            (EntityIdField
               (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                           (FieldNameDB (T.pack "id")))
                          ((FTTypeCon Nothing) (T.pack "UserId")))
                         SqlInt64)
                        [])
                       True)
                      NoReference)
                     ((FieldCascade Nothing) Nothing))
                    Nothing)
                   Nothing)
                  True))
      persistFieldDef UserName
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy User))
            (FieldNameHS (T.pack "name"))
      persistFieldDef UserLogin
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy User))
            (FieldNameHS (T.pack "login"))
      persistFieldDef UserQuasiPassword
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy User))
            (FieldNameHS (T.pack "quasiPassword"))
      persistFieldDef UserCreated
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy User))
            (FieldNameHS (T.pack "created"))
      persistFieldDef UserIsAdmin
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy User))
            (FieldNameHS (T.pack "isAdmin"))
      persistFieldDef UserIsPublisher
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy User))
            (FieldNameHS (T.pack "isPublisher"))
      persistIdField = UserId
      fieldLens UserId
        = (PTH.lensPTH entityKey)
            (\ (Entity _ value_a8R1) key_a8R2 -> (Entity key_a8R2) value_a8R1)
      fieldLens UserName
        = (PTH.lensPTH ((\ User {userName = x} -> x) . entityVal))
            (\ (Entity key_a8R3 value_a8R4) x_a8R5
               -> (Entity key_a8R3)
                    (case value_a8R4 of
                       User {userLogin = userLogin, userQuasiPassword = userQuasiPassword,
                             userCreated = userCreated, userIsAdmin = userIsAdmin,
                             userIsPublisher = userIsPublisher}
                         -> User
                              {userName = x_a8R5, userLogin = userLogin,
                               userQuasiPassword = userQuasiPassword, userCreated = userCreated,
                               userIsAdmin = userIsAdmin, userIsPublisher = userIsPublisher}))
      fieldLens UserLogin
        = (PTH.lensPTH ((\ User {userLogin = x} -> x) . entityVal))
            (\ (Entity key_a8R3 value_a8R4) x_a8R5
               -> (Entity key_a8R3)
                    (case value_a8R4 of
                       User {userName = userName, userQuasiPassword = userQuasiPassword,
                             userCreated = userCreated, userIsAdmin = userIsAdmin,
                             userIsPublisher = userIsPublisher}
                         -> User
                              {userName = userName, userLogin = x_a8R5,
                               userQuasiPassword = userQuasiPassword, userCreated = userCreated,
                               userIsAdmin = userIsAdmin, userIsPublisher = userIsPublisher}))
      fieldLens UserQuasiPassword
        = (PTH.lensPTH ((\ User {userQuasiPassword = x} -> x) . entityVal))
            (\ (Entity key_a8R3 value_a8R4) x_a8R5
               -> (Entity key_a8R3)
                    (case value_a8R4 of
                       User {userName = userName, userLogin = userLogin,
                             userCreated = userCreated, userIsAdmin = userIsAdmin,
                             userIsPublisher = userIsPublisher}
                         -> User
                              {userName = userName, userLogin = userLogin,
                               userQuasiPassword = x_a8R5, userCreated = userCreated,
                               userIsAdmin = userIsAdmin, userIsPublisher = userIsPublisher}))
      fieldLens UserCreated
        = (PTH.lensPTH ((\ User {userCreated = x} -> x) . entityVal))
            (\ (Entity key_a8R3 value_a8R4) x_a8R5
               -> (Entity key_a8R3)
                    (case value_a8R4 of
                       User {userName = userName, userLogin = userLogin,
                             userQuasiPassword = userQuasiPassword, userIsAdmin = userIsAdmin,
                             userIsPublisher = userIsPublisher}
                         -> User
                              {userName = userName, userLogin = userLogin,
                               userQuasiPassword = userQuasiPassword, userCreated = x_a8R5,
                               userIsAdmin = userIsAdmin, userIsPublisher = userIsPublisher}))
      fieldLens UserIsAdmin
        = (PTH.lensPTH ((\ User {userIsAdmin = x} -> x) . entityVal))
            (\ (Entity key_a8R3 value_a8R4) x_a8R5
               -> (Entity key_a8R3)
                    (case value_a8R4 of
                       User {userName = userName, userLogin = userLogin,
                             userQuasiPassword = userQuasiPassword, userCreated = userCreated,
                             userIsPublisher = userIsPublisher}
                         -> User
                              {userName = userName, userLogin = userLogin,
                               userQuasiPassword = userQuasiPassword, userCreated = userCreated,
                               userIsAdmin = x_a8R5, userIsPublisher = userIsPublisher}))
      fieldLens UserIsPublisher
        = (PTH.lensPTH ((\ User {userIsPublisher = x} -> x) . entityVal))
            (\ (Entity key_a8R3 value_a8R4) x_a8R5
               -> (Entity key_a8R3)
                    (case value_a8R4 of
                       User {userName = userName, userLogin = userLogin,
                             userQuasiPassword = userQuasiPassword, userCreated = userCreated,
                             userIsAdmin = userIsAdmin}
                         -> User
                              {userName = userName, userLogin = userLogin,
                               userQuasiPassword = userQuasiPassword, userCreated = userCreated,
                               userIsAdmin = userIsAdmin, userIsPublisher = x_a8R5}))
    instance ToBackendKey Database.Persist.SqlBackend.Internal.SqlBackend User where
      toBackendKey = \ UserKey {unUserKey = x} -> x
      fromBackendKey = UserKey
    data Category
      = Category {categoryLabel :: !T.Text,
                  categoryParent :: !(Maybe CategoryId)}
      deriving stock (Eq, Show)
    type CategoryId = Database.Persist.Key Category
    instance PersistEntity Category where
      type PersistEntityBackend Category = Database.Persist.SqlBackend.Internal.SqlBackend
      data Unique Category = UniqueCategory T.Text
      newtype Database.Persist.Key Category
        = CategoryKey {unCategoryKey :: (BackendKey Database.Persist.SqlBackend.Internal.SqlBackend)}
        deriving stock Show
        deriving stock Read
        deriving newtype Eq
        deriving newtype Ord
        deriving newtype path-pieces-0.2.1-E15XfVOwfTfIr2VliI4YGA:Web.PathPieces.PathPiece
        deriving newtype http-api-data-0.4.3-8AwfdtQImWAISYRgwZNRi0:Web.Internal.HttpApiData.ToHttpApiData
        deriving newtype http-api-data-0.4.3-8AwfdtQImWAISYRgwZNRi0:Web.Internal.HttpApiData.FromHttpApiData
        deriving newtype PersistField
        deriving newtype persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.PersistFieldSql
        deriving newtype ToJSON
        deriving newtype FromJSON
      data EntityField Category typ
        = (typ ~ CategoryId) => CategoryId |
          (typ ~ T.Text) => CategoryLabel |
          (typ ~ Maybe CategoryId) => CategoryParent
      keyToValues
        = ((: [])
             . (toPersistValue . (\ CategoryKey {unCategoryKey = x} -> x)))
      keyFromValues
        = (fmap CategoryKey
             . (fromPersistValue . Database.Persist.TH.headNote))
      keyFromRecordM = Nothing
      entityDef _
        = ((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                      (EntityNameHS (T.pack "Category")))
                     (EntityNameDB (T.pack "categories")))
                    (EntityIdField
                       (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                   (FieldNameDB (T.pack "id")))
                                  ((FTTypeCon Nothing) (T.pack "CategoryId")))
                                 SqlInt64)
                                [])
                               True)
                              NoReference)
                             ((FieldCascade Nothing) Nothing))
                            Nothing)
                           Nothing)
                          True)))
                   [T.pack "sql=categories"])
                  [])
                 [(((UniqueDef (ConstraintNameHS (T.pack "UniqueCategory")))
                      (ConstraintNameDB (T.pack "unique_category")))
                     ((FieldNameHS (T.pack "label"), FieldNameDB (T.pack "label"))
                        GHC.Base.:| []))
                    []])
                [])
               [T.pack "Eq", T.pack "Show"])
              Data.Map.Internal.Tip)
             False)
            Nothing
            {persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityFields = [FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "label"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "label"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      (Just
                                                                                                                         (T.pack
                                                                                                                            "T")))
                                                                                                                     (T.pack
                                                                                                                        "Text"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy T.Text),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "parent"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "parent"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      Nothing)
                                                                                                                     (T.pack
                                                                                                                        "CategoryId"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy CategoryId),
                                                                                                       fieldAttrs = [FieldAttrMaybe],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = ForeignRef
                                                                                                                          (EntityNameHS
                                                                                                                             (T.pack
                                                                                                                                "Category")),
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False}],
             persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityId = EntityIdField
                                                                                                 (((((((((((FieldDef
                                                                                                              (FieldNameHS
                                                                                                                 (T.pack
                                                                                                                    "Id")))
                                                                                                             (FieldNameDB
                                                                                                                (T.pack
                                                                                                                   "id")))
                                                                                                            ((FTTypeCon
                                                                                                                Nothing)
                                                                                                               (T.pack
                                                                                                                  "CategoryId")))
                                                                                                           SqlInt64)
                                                                                                          [])
                                                                                                         True)
                                                                                                        NoReference)
                                                                                                       ((FieldCascade
                                                                                                           Nothing)
                                                                                                          Nothing))
                                                                                                      Nothing)
                                                                                                     Nothing)
                                                                                                    True),
             persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityForeigns = []}
      toPersistFields (Category x_a8R6 x_a8R7)
        = [SomePersistField x_a8R6, SomePersistField x_a8R7]
      fromPersistValues [x1_a8R9, x2_a8Ra]
        = Category
            <$>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "categories")) (T.pack "label"))
                 . fromPersistValue)
                x1_a8R9
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "categories")) (T.pack "parent"))
                 . fromPersistValue)
                x2_a8Ra
      fromPersistValues x_a8R8
        = (Left
             $ (mappend (T.pack "Category: fromPersistValues failed on: "))
                 (T.pack $ show x_a8R8))
      persistUniqueToFieldNames UniqueCategory {}
        = ((FieldNameHS (T.pack "label"), FieldNameDB (T.pack "label"))
             GHC.Base.:| [])
      persistUniqueToValues (UniqueCategory x_a8Rb)
        = [toPersistValue x_a8Rb]
      persistUniqueKeys (Category _label_a8Rc _parent_a8Rd)
        = [UniqueCategory _label_a8Rc]
      persistFieldDef CategoryId
        = Database.Persist.TH.stripIdFieldImpl
            (EntityIdField
               (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                           (FieldNameDB (T.pack "id")))
                          ((FTTypeCon Nothing) (T.pack "CategoryId")))
                         SqlInt64)
                        [])
                       True)
                      NoReference)
                     ((FieldCascade Nothing) Nothing))
                    Nothing)
                   Nothing)
                  True))
      persistFieldDef CategoryLabel
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy Category))
            (FieldNameHS (T.pack "label"))
      persistFieldDef CategoryParent
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy Category))
            (FieldNameHS (T.pack "parent"))
      persistIdField = CategoryId
      fieldLens CategoryId
        = (PTH.lensPTH entityKey)
            (\ (Entity _ value_a8Rf) key_a8Rg -> (Entity key_a8Rg) value_a8Rf)
      fieldLens CategoryLabel
        = (PTH.lensPTH ((\ Category {categoryLabel = x} -> x) . entityVal))
            (\ (Entity key_a8Rh value_a8Ri) x_a8Rj
               -> (Entity key_a8Rh)
                    (case value_a8Ri of
                       Category {categoryParent = categoryParent}
                         -> Category
                              {categoryLabel = x_a8Rj, categoryParent = categoryParent}))
      fieldLens CategoryParent
        = (PTH.lensPTH
             ((\ Category {categoryParent = x} -> x) . entityVal))
            (\ (Entity key_a8Rh value_a8Ri) x_a8Rj
               -> (Entity key_a8Rh)
                    (case value_a8Ri of
                       Category {categoryLabel = categoryLabel}
                         -> Category
                              {categoryLabel = categoryLabel, categoryParent = x_a8Rj}))
    instance ToBackendKey Database.Persist.SqlBackend.Internal.SqlBackend Category where
      toBackendKey = \ CategoryKey {unCategoryKey = x} -> x
      fromBackendKey = CategoryKey
    data News
      = News {newsTitle :: !T.Text,
              newsCreated :: !UTCTime,
              newsUserId :: !UserId,
              newsCategoryId :: !CategoryId,
              newsContent :: !T.Text,
              newsImagesIds :: ![ImageId],
              newsIsPublish :: !Bool}
      deriving stock (Eq, Show)
    type NewsId = Database.Persist.Key News
    instance PersistEntity News where
      type PersistEntityBackend News = Database.Persist.SqlBackend.Internal.SqlBackend
      data Unique News = UniqueNews T.Text
      newtype Database.Persist.Key News
        = NewsKey {unNewsKey :: (BackendKey Database.Persist.SqlBackend.Internal.SqlBackend)}
        deriving stock Show
        deriving stock Read
        deriving newtype Eq
        deriving newtype Ord
        deriving newtype path-pieces-0.2.1-E15XfVOwfTfIr2VliI4YGA:Web.PathPieces.PathPiece
        deriving newtype http-api-data-0.4.3-8AwfdtQImWAISYRgwZNRi0:Web.Internal.HttpApiData.ToHttpApiData
        deriving newtype http-api-data-0.4.3-8AwfdtQImWAISYRgwZNRi0:Web.Internal.HttpApiData.FromHttpApiData
        deriving newtype PersistField
        deriving newtype persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.PersistFieldSql
        deriving newtype ToJSON
        deriving newtype FromJSON
      data EntityField News typ
        = (typ ~ NewsId) => NewsId |
          (typ ~ T.Text) => NewsTitle |
          (typ ~ UTCTime) => NewsCreated |
          (typ ~ UserId) => NewsUserId |
          (typ ~ CategoryId) => NewsCategoryId |
          (typ ~ T.Text) => NewsContent |
          (typ ~ [ImageId]) => NewsImagesIds |
          (typ ~ Bool) => NewsIsPublish
      keyToValues
        = ((: []) . (toPersistValue . (\ NewsKey {unNewsKey = x} -> x)))
      keyFromValues
        = (fmap NewsKey
             . (fromPersistValue . Database.Persist.TH.headNote))
      keyFromRecordM = Nothing
      entityDef _
        = ((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                      (EntityNameHS (T.pack "News")))
                     (EntityNameDB (T.pack "news")))
                    (EntityIdField
                       (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                   (FieldNameDB (T.pack "id")))
                                  ((FTTypeCon Nothing) (T.pack "NewsId")))
                                 SqlInt64)
                                [])
                               True)
                              NoReference)
                             ((FieldCascade Nothing) Nothing))
                            Nothing)
                           Nothing)
                          True)))
                   [T.pack "sql=news"])
                  [])
                 [(((UniqueDef (ConstraintNameHS (T.pack "UniqueNews")))
                      (ConstraintNameDB (T.pack "unique_news")))
                     ((FieldNameHS (T.pack "title"), FieldNameDB (T.pack "title"))
                        GHC.Base.:| []))
                    []])
                [])
               [T.pack "Eq", T.pack "Show"])
              Data.Map.Internal.Tip)
             False)
            Nothing
            {persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityFields = [FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "title"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "title"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      (Just
                                                                                                                         (T.pack
                                                                                                                            "T")))
                                                                                                                     (T.pack
                                                                                                                        "Text"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy T.Text),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "created"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "created"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      Nothing)
                                                                                                                     (T.pack
                                                                                                                        "UTCTime"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy UTCTime),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "userId"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "user_id"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      Nothing)
                                                                                                                     (T.pack
                                                                                                                        "UserId"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy UserId),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = ForeignRef
                                                                                                                          (EntityNameHS
                                                                                                                             (T.pack
                                                                                                                                "User")),
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "categoryId"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "category_id"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      Nothing)
                                                                                                                     (T.pack
                                                                                                                        "CategoryId"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy CategoryId),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = ForeignRef
                                                                                                                          (EntityNameHS
                                                                                                                             (T.pack
                                                                                                                                "Category")),
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "content"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "content"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      (Just
                                                                                                                         (T.pack
                                                                                                                            "T")))
                                                                                                                     (T.pack
                                                                                                                        "Text"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy T.Text),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "imagesIds"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "images_ids"),
                                                                                                       fieldType = FTList
                                                                                                                     ((FTTypeCon
                                                                                                                         Nothing)
                                                                                                                        (T.pack
                                                                                                                           "ImageId")),
                                                                                                       fieldSqlType = SqlString,
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "isPublish"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "is_publish"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      Nothing)
                                                                                                                     (T.pack
                                                                                                                        "Bool"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy Bool),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False}],
             persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityId = EntityIdField
                                                                                                 (((((((((((FieldDef
                                                                                                              (FieldNameHS
                                                                                                                 (T.pack
                                                                                                                    "Id")))
                                                                                                             (FieldNameDB
                                                                                                                (T.pack
                                                                                                                   "id")))
                                                                                                            ((FTTypeCon
                                                                                                                Nothing)
                                                                                                               (T.pack
                                                                                                                  "NewsId")))
                                                                                                           SqlInt64)
                                                                                                          [])
                                                                                                         True)
                                                                                                        NoReference)
                                                                                                       ((FieldCascade
                                                                                                           Nothing)
                                                                                                          Nothing))
                                                                                                      Nothing)
                                                                                                     Nothing)
                                                                                                    True),
             persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityForeigns = []}
      toPersistFields
        (News x_a8Rk x_a8Rl x_a8Rm x_a8Rn x_a8Ro x_a8Rp x_a8Rq)
        = [SomePersistField x_a8Rk, SomePersistField x_a8Rl,
           SomePersistField x_a8Rm, SomePersistField x_a8Rn,
           SomePersistField x_a8Ro, SomePersistField x_a8Rp,
           SomePersistField x_a8Rq]
      fromPersistValues
        [x1_a8Rs, x2_a8Rt, x3_a8Ru, x4_a8Rv, x5_a8Rw, x6_a8Rx, x7_a8Ry]
        = News
            <$>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "news")) (T.pack "title"))
                 . fromPersistValue)
                x1_a8Rs
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "news")) (T.pack "created"))
                 . fromPersistValue)
                x2_a8Rt
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "news")) (T.pack "userId"))
                 . fromPersistValue)
                x3_a8Ru
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "news")) (T.pack "categoryId"))
                 . fromPersistValue)
                x4_a8Rv
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "news")) (T.pack "content"))
                 . fromPersistValue)
                x5_a8Rw
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "news")) (T.pack "imagesIds"))
                 . fromPersistValue)
                x6_a8Rx
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "news")) (T.pack "isPublish"))
                 . fromPersistValue)
                x7_a8Ry
      fromPersistValues x_a8Rr
        = (Left
             $ (mappend (T.pack "News: fromPersistValues failed on: "))
                 (T.pack $ show x_a8Rr))
      persistUniqueToFieldNames UniqueNews {}
        = ((FieldNameHS (T.pack "title"), FieldNameDB (T.pack "title"))
             GHC.Base.:| [])
      persistUniqueToValues (UniqueNews x_a8Rz) = [toPersistValue x_a8Rz]
      persistUniqueKeys
        (News _title_a8RA _created_a8RB _userId_a8RC _categoryId_a8RD
              _content_a8RE _imagesIds_a8RF _isPublish_a8RG)
        = [UniqueNews _title_a8RA]
      persistFieldDef NewsId
        = Database.Persist.TH.stripIdFieldImpl
            (EntityIdField
               (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                           (FieldNameDB (T.pack "id")))
                          ((FTTypeCon Nothing) (T.pack "NewsId")))
                         SqlInt64)
                        [])
                       True)
                      NoReference)
                     ((FieldCascade Nothing) Nothing))
                    Nothing)
                   Nothing)
                  True))
      persistFieldDef NewsTitle
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy News))
            (FieldNameHS (T.pack "title"))
      persistFieldDef NewsCreated
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy News))
            (FieldNameHS (T.pack "created"))
      persistFieldDef NewsUserId
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy News))
            (FieldNameHS (T.pack "userId"))
      persistFieldDef NewsCategoryId
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy News))
            (FieldNameHS (T.pack "categoryId"))
      persistFieldDef NewsContent
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy News))
            (FieldNameHS (T.pack "content"))
      persistFieldDef NewsImagesIds
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy News))
            (FieldNameHS (T.pack "imagesIds"))
      persistFieldDef NewsIsPublish
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy News))
            (FieldNameHS (T.pack "isPublish"))
      persistIdField = NewsId
      fieldLens NewsId
        = (PTH.lensPTH entityKey)
            (\ (Entity _ value_a8RI) key_a8RJ -> (Entity key_a8RJ) value_a8RI)
      fieldLens NewsTitle
        = (PTH.lensPTH ((\ News {newsTitle = x} -> x) . entityVal))
            (\ (Entity key_a8RK value_a8RL) x_a8RM
               -> (Entity key_a8RK)
                    (case value_a8RL of
                       News {newsCreated = newsCreated, newsUserId = newsUserId,
                             newsCategoryId = newsCategoryId, newsContent = newsContent,
                             newsImagesIds = newsImagesIds, newsIsPublish = newsIsPublish}
                         -> News
                              {newsTitle = x_a8RM, newsCreated = newsCreated,
                               newsUserId = newsUserId, newsCategoryId = newsCategoryId,
                               newsContent = newsContent, newsImagesIds = newsImagesIds,
                               newsIsPublish = newsIsPublish}))
      fieldLens NewsCreated
        = (PTH.lensPTH ((\ News {newsCreated = x} -> x) . entityVal))
            (\ (Entity key_a8RK value_a8RL) x_a8RM
               -> (Entity key_a8RK)
                    (case value_a8RL of
                       News {newsTitle = newsTitle, newsUserId = newsUserId,
                             newsCategoryId = newsCategoryId, newsContent = newsContent,
                             newsImagesIds = newsImagesIds, newsIsPublish = newsIsPublish}
                         -> News
                              {newsTitle = newsTitle, newsCreated = x_a8RM,
                               newsUserId = newsUserId, newsCategoryId = newsCategoryId,
                               newsContent = newsContent, newsImagesIds = newsImagesIds,
                               newsIsPublish = newsIsPublish}))
      fieldLens NewsUserId
        = (PTH.lensPTH ((\ News {newsUserId = x} -> x) . entityVal))
            (\ (Entity key_a8RK value_a8RL) x_a8RM
               -> (Entity key_a8RK)
                    (case value_a8RL of
                       News {newsTitle = newsTitle, newsCreated = newsCreated,
                             newsCategoryId = newsCategoryId, newsContent = newsContent,
                             newsImagesIds = newsImagesIds, newsIsPublish = newsIsPublish}
                         -> News
                              {newsTitle = newsTitle, newsCreated = newsCreated,
                               newsUserId = x_a8RM, newsCategoryId = newsCategoryId,
                               newsContent = newsContent, newsImagesIds = newsImagesIds,
                               newsIsPublish = newsIsPublish}))
      fieldLens NewsCategoryId
        = (PTH.lensPTH ((\ News {newsCategoryId = x} -> x) . entityVal))
            (\ (Entity key_a8RK value_a8RL) x_a8RM
               -> (Entity key_a8RK)
                    (case value_a8RL of
                       News {newsTitle = newsTitle, newsCreated = newsCreated,
                             newsUserId = newsUserId, newsContent = newsContent,
                             newsImagesIds = newsImagesIds, newsIsPublish = newsIsPublish}
                         -> News
                              {newsTitle = newsTitle, newsCreated = newsCreated,
                               newsUserId = newsUserId, newsCategoryId = x_a8RM,
                               newsContent = newsContent, newsImagesIds = newsImagesIds,
                               newsIsPublish = newsIsPublish}))
      fieldLens NewsContent
        = (PTH.lensPTH ((\ News {newsContent = x} -> x) . entityVal))
            (\ (Entity key_a8RK value_a8RL) x_a8RM
               -> (Entity key_a8RK)
                    (case value_a8RL of
                       News {newsTitle = newsTitle, newsCreated = newsCreated,
                             newsUserId = newsUserId, newsCategoryId = newsCategoryId,
                             newsImagesIds = newsImagesIds, newsIsPublish = newsIsPublish}
                         -> News
                              {newsTitle = newsTitle, newsCreated = newsCreated,
                               newsUserId = newsUserId, newsCategoryId = newsCategoryId,
                               newsContent = x_a8RM, newsImagesIds = newsImagesIds,
                               newsIsPublish = newsIsPublish}))
      fieldLens NewsImagesIds
        = (PTH.lensPTH ((\ News {newsImagesIds = x} -> x) . entityVal))
            (\ (Entity key_a8RK value_a8RL) x_a8RM
               -> (Entity key_a8RK)
                    (case value_a8RL of
                       News {newsTitle = newsTitle, newsCreated = newsCreated,
                             newsUserId = newsUserId, newsCategoryId = newsCategoryId,
                             newsContent = newsContent, newsIsPublish = newsIsPublish}
                         -> News
                              {newsTitle = newsTitle, newsCreated = newsCreated,
                               newsUserId = newsUserId, newsCategoryId = newsCategoryId,
                               newsContent = newsContent, newsImagesIds = x_a8RM,
                               newsIsPublish = newsIsPublish}))
      fieldLens NewsIsPublish
        = (PTH.lensPTH ((\ News {newsIsPublish = x} -> x) . entityVal))
            (\ (Entity key_a8RK value_a8RL) x_a8RM
               -> (Entity key_a8RK)
                    (case value_a8RL of
                       News {newsTitle = newsTitle, newsCreated = newsCreated,
                             newsUserId = newsUserId, newsCategoryId = newsCategoryId,
                             newsContent = newsContent, newsImagesIds = newsImagesIds}
                         -> News
                              {newsTitle = newsTitle, newsCreated = newsCreated,
                               newsUserId = newsUserId, newsCategoryId = newsCategoryId,
                               newsContent = newsContent, newsImagesIds = newsImagesIds,
                               newsIsPublish = x_a8RM}))
    instance ToBackendKey Database.Persist.SqlBackend.Internal.SqlBackend News where
      toBackendKey = \ NewsKey {unNewsKey = x} -> x
      fromBackendKey = NewsKey
    data Image
      = Image {imageHeader :: !T.Text, imageBase64 :: !T.Text}
      deriving stock (Eq, Show)
    type ImageId = Database.Persist.Key Image
    instance PersistEntity Image where
      type PersistEntityBackend Image = Database.Persist.SqlBackend.Internal.SqlBackend
      data Unique Image = UniqueImage T.Text T.Text
      newtype Database.Persist.Key Image
        = ImageKey {unImageKey :: (BackendKey Database.Persist.SqlBackend.Internal.SqlBackend)}
        deriving stock Show
        deriving stock Read
        deriving newtype Eq
        deriving newtype Ord
        deriving newtype path-pieces-0.2.1-E15XfVOwfTfIr2VliI4YGA:Web.PathPieces.PathPiece
        deriving newtype http-api-data-0.4.3-8AwfdtQImWAISYRgwZNRi0:Web.Internal.HttpApiData.ToHttpApiData
        deriving newtype http-api-data-0.4.3-8AwfdtQImWAISYRgwZNRi0:Web.Internal.HttpApiData.FromHttpApiData
        deriving newtype PersistField
        deriving newtype persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.PersistFieldSql
        deriving newtype ToJSON
        deriving newtype FromJSON
      data EntityField Image typ
        = (typ ~ ImageId) => ImageId |
          (typ ~ T.Text) => ImageHeader |
          (typ ~ T.Text) => ImageBase64
      keyToValues
        = ((: []) . (toPersistValue . (\ ImageKey {unImageKey = x} -> x)))
      keyFromValues
        = (fmap ImageKey
             . (fromPersistValue . Database.Persist.TH.headNote))
      keyFromRecordM = Nothing
      entityDef _
        = ((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                      (EntityNameHS (T.pack "Image")))
                     (EntityNameDB (T.pack "images")))
                    (EntityIdField
                       (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                   (FieldNameDB (T.pack "id")))
                                  ((FTTypeCon Nothing) (T.pack "ImageId")))
                                 SqlInt64)
                                [])
                               True)
                              NoReference)
                             ((FieldCascade Nothing) Nothing))
                            Nothing)
                           Nothing)
                          True)))
                   [T.pack "sql=images"])
                  [])
                 [(((UniqueDef (ConstraintNameHS (T.pack "UniqueImage")))
                      (ConstraintNameDB (T.pack "unique_image")))
                     ((FieldNameHS (T.pack "header"), FieldNameDB (T.pack "header"))
                        GHC.Base.:|
                          [(FieldNameHS (T.pack "base64"), FieldNameDB (T.pack "base64"))]))
                    []])
                [])
               [T.pack "Eq", T.pack "Show"])
              Data.Map.Internal.Tip)
             False)
            Nothing
            {persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityFields = [FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "header"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "header"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      (Just
                                                                                                                         (T.pack
                                                                                                                            "T")))
                                                                                                                     (T.pack
                                                                                                                        "Text"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy T.Text),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "base64"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "base64"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      (Just
                                                                                                                         (T.pack
                                                                                                                            "T")))
                                                                                                                     (T.pack
                                                                                                                        "Text"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy T.Text),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False}],
             persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityId = EntityIdField
                                                                                                 (((((((((((FieldDef
                                                                                                              (FieldNameHS
                                                                                                                 (T.pack
                                                                                                                    "Id")))
                                                                                                             (FieldNameDB
                                                                                                                (T.pack
                                                                                                                   "id")))
                                                                                                            ((FTTypeCon
                                                                                                                Nothing)
                                                                                                               (T.pack
                                                                                                                  "ImageId")))
                                                                                                           SqlInt64)
                                                                                                          [])
                                                                                                         True)
                                                                                                        NoReference)
                                                                                                       ((FieldCascade
                                                                                                           Nothing)
                                                                                                          Nothing))
                                                                                                      Nothing)
                                                                                                     Nothing)
                                                                                                    True),
             persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityForeigns = []}
      toPersistFields (Image x_a8RN x_a8RO)
        = [SomePersistField x_a8RN, SomePersistField x_a8RO]
      fromPersistValues [x1_a8RQ, x2_a8RR]
        = Image
            <$>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "images")) (T.pack "header"))
                 . fromPersistValue)
                x1_a8RQ
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "images")) (T.pack "base64"))
                 . fromPersistValue)
                x2_a8RR
      fromPersistValues x_a8RP
        = (Left
             $ (mappend (T.pack "Image: fromPersistValues failed on: "))
                 (T.pack $ show x_a8RP))
      persistUniqueToFieldNames UniqueImage {}
        = ((FieldNameHS (T.pack "header"), FieldNameDB (T.pack "header"))
             GHC.Base.:|
               [(FieldNameHS (T.pack "base64"), FieldNameDB (T.pack "base64"))])
      persistUniqueToValues (UniqueImage x_a8RS x_a8RT)
        = [toPersistValue x_a8RS, toPersistValue x_a8RT]
      persistUniqueKeys (Image _header_a8RU _base64_a8RV)
        = [(UniqueImage _header_a8RU) _base64_a8RV]
      persistFieldDef ImageId
        = Database.Persist.TH.stripIdFieldImpl
            (EntityIdField
               (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                           (FieldNameDB (T.pack "id")))
                          ((FTTypeCon Nothing) (T.pack "ImageId")))
                         SqlInt64)
                        [])
                       True)
                      NoReference)
                     ((FieldCascade Nothing) Nothing))
                    Nothing)
                   Nothing)
                  True))
      persistFieldDef ImageHeader
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy Image))
            (FieldNameHS (T.pack "header"))
      persistFieldDef ImageBase64
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy Image))
            (FieldNameHS (T.pack "base64"))
      persistIdField = ImageId
      fieldLens ImageId
        = (PTH.lensPTH entityKey)
            (\ (Entity _ value_a8RX) key_a8RY -> (Entity key_a8RY) value_a8RX)
      fieldLens ImageHeader
        = (PTH.lensPTH ((\ Image {imageHeader = x} -> x) . entityVal))
            (\ (Entity key_a8RZ value_a8S0) x_a8S1
               -> (Entity key_a8RZ)
                    (case value_a8S0 of
                       Image {imageBase64 = imageBase64}
                         -> Image {imageHeader = x_a8S1, imageBase64 = imageBase64}))
      fieldLens ImageBase64
        = (PTH.lensPTH ((\ Image {imageBase64 = x} -> x) . entityVal))
            (\ (Entity key_a8RZ value_a8S0) x_a8S1
               -> (Entity key_a8RZ)
                    (case value_a8S0 of
                       Image {imageHeader = imageHeader}
                         -> Image {imageHeader = imageHeader, imageBase64 = x_a8S1}))
    instance ToBackendKey Database.Persist.SqlBackend.Internal.SqlBackend Image where
      toBackendKey = \ ImageKey {unImageKey = x} -> x
      fromBackendKey = ImageKey
    data ImageBank
      = ImageBank {imageBankNewsId :: !NewsId,
                   imageBankImageId :: !ImageId}
      deriving stock (Eq, Show)
    type ImageBankId = Database.Persist.Key ImageBank
    instance PersistEntity ImageBank where
      type PersistEntityBackend ImageBank = Database.Persist.SqlBackend.Internal.SqlBackend
      data Unique ImageBank
      data Database.Persist.Key ImageBank
        = ImageBankKey {imageBankKeynewsId :: NewsId,
                        imageBankKeyimageId :: ImageId}
        deriving stock Show
        deriving stock Read
        deriving stock Eq
        deriving stock Ord
        deriving stock Generic
      data EntityField ImageBank typ
        = (typ ~ ImageBankId) => ImageBankId |
          (typ ~ NewsId) => ImageBankNewsId |
          (typ ~ ImageId) => ImageBankImageId
      keyToValues record_a8Sb
        = [toPersistValue (imageBankKeynewsId record_a8Sb),
           toPersistValue (imageBankKeyimageId record_a8Sb)]
      keyFromValues [x1_a8Sd, x2_a8Se]
        = ImageBankKey
            <$>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "images_bank")) (T.pack "newsId"))
                 . fromPersistValue)
                x1_a8Sd
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "images_bank")) (T.pack "imageId"))
                 . fromPersistValue)
                x2_a8Se
      keyFromValues x_a8Sc
        = (Left
             $ (mappend (T.pack "ImageBank: keyFromValues failed on: "))
                 (T.pack $ show x_a8Sc))
      keyFromRecordM
        = Just
            (\ record_a8Sk
               -> (ImageBankKey (imageBankNewsId record_a8Sk))
                    (imageBankImageId record_a8Sk))
      entityDef _
        = ((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                      (EntityNameHS (T.pack "ImageBank")))
                     (EntityNameDB (T.pack "images_bank")))
                    (EntityIdField
                       (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                   (FieldNameDB (T.pack "id")))
                                  ((FTTypeCon Nothing) (T.pack "ImageBankId")))
                                 (SqlOther (T.pack "Primary Key")))
                                [])
                               True)
                              NoReference)
                             ((FieldCascade Nothing) Nothing))
                            Nothing)
                           Nothing)
                          True)))
                   [T.pack "sql=images_bank"])
                  [])
                 [])
                [])
               [T.pack "Eq", T.pack "Show"])
              Data.Map.Internal.Tip)
             False)
            Nothing
            {persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityFields = [FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "newsId"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "news_id"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      Nothing)
                                                                                                                     (T.pack
                                                                                                                        "NewsId"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy NewsId),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = ForeignRef
                                                                                                                          (EntityNameHS
                                                                                                                             (T.pack
                                                                                                                                "News")),
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "imageId"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "image_id"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      Nothing)
                                                                                                                     (T.pack
                                                                                                                        "ImageId"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy ImageId),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = ForeignRef
                                                                                                                          (EntityNameHS
                                                                                                                             (T.pack
                                                                                                                                "Image")),
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False}],
             persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityId = EntityIdNaturalKey
                                                                                                 CompositeDef
                                                                                                   {compositeFields = Data.List.NonEmpty.fromList
                                                                                                                        [(Database.Persist.TH.lookupEntityField
                                                                                                                            (Data.Proxy.Proxy ::
                                                                                                                               Data.Proxy.Proxy ImageBank))
                                                                                                                           (FieldNameHS
                                                                                                                              (T.pack
                                                                                                                                 "newsId")),
                                                                                                                         (Database.Persist.TH.lookupEntityField
                                                                                                                            (Data.Proxy.Proxy ::
                                                                                                                               Data.Proxy.Proxy ImageBank))
                                                                                                                           (FieldNameHS
                                                                                                                              (T.pack
                                                                                                                                 "imageId"))],
                                                                                                    compositeAttrs = []},
             persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityForeigns = []}
      toPersistFields (ImageBank x_a8S2 x_a8S3)
        = [SomePersistField x_a8S2, SomePersistField x_a8S3]
      fromPersistValues [x1_a8S5, x2_a8S6]
        = ImageBank
            <$>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "images_bank")) (T.pack "newsId"))
                 . fromPersistValue)
                x1_a8S5
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "images_bank")) (T.pack "imageId"))
                 . fromPersistValue)
                x2_a8S6
      fromPersistValues x_a8S4
        = (Left
             $ (mappend (T.pack "ImageBank: fromPersistValues failed on: "))
                 (T.pack $ show x_a8S4))
      persistUniqueToFieldNames _
        = error "Degenerate case, should never happen"
      persistUniqueToValues _
        = error "Degenerate case, should never happen"
      persistUniqueKeys (ImageBank _newsId_a8S7 _imageId_a8S8) = []
      persistFieldDef ImageBankId
        = Database.Persist.TH.stripIdFieldImpl
            (EntityIdNaturalKey
               CompositeDef
                 {compositeFields = Data.List.NonEmpty.fromList
                                      [(Database.Persist.TH.lookupEntityField
                                          (Data.Proxy.Proxy :: Data.Proxy.Proxy ImageBank))
                                         (FieldNameHS (T.pack "newsId")),
                                       (Database.Persist.TH.lookupEntityField
                                          (Data.Proxy.Proxy :: Data.Proxy.Proxy ImageBank))
                                         (FieldNameHS (T.pack "imageId"))],
                  compositeAttrs = []})
      persistFieldDef ImageBankNewsId
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy ImageBank))
            (FieldNameHS (T.pack "newsId"))
      persistFieldDef ImageBankImageId
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy ImageBank))
            (FieldNameHS (T.pack "imageId"))
      persistIdField = ImageBankId
      fieldLens ImageBankId
        = (PTH.lensPTH entityKey)
            (\ (Entity _ value_a8Sf) key_a8Sg -> (Entity key_a8Sg) value_a8Sf)
      fieldLens ImageBankNewsId
        = (PTH.lensPTH
             ((\ ImageBank {imageBankNewsId = x} -> x) . entityVal))
            (\ (Entity key_a8Sh value_a8Si) x_a8Sj
               -> (Entity key_a8Sh)
                    (case value_a8Si of
                       ImageBank {imageBankImageId = imageBankImageId}
                         -> ImageBank
                              {imageBankNewsId = x_a8Sj, imageBankImageId = imageBankImageId}))
      fieldLens ImageBankImageId
        = (PTH.lensPTH
             ((\ ImageBank {imageBankImageId = x} -> x) . entityVal))
            (\ (Entity key_a8Sh value_a8Si) x_a8Sj
               -> (Entity key_a8Sh)
                    (case value_a8Si of
                       ImageBank {imageBankNewsId = imageBankNewsId}
                         -> ImageBank
                              {imageBankNewsId = imageBankNewsId, imageBankImageId = x_a8Sj}))
    instance PersistField (Database.Persist.Key ImageBank) where
      toPersistValue = (PersistList . keyToValues)
      fromPersistValue (PersistList l_a8S9) = keyFromValues l_a8S9
      fromPersistValue got_a8Sa
        = (error
             $ ("fromPersistValue: expected PersistList, got: "
                  `mappend` show got_a8Sa))
    instance persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.PersistFieldSql (Database.Persist.Key ImageBank) where
      persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
        _
        = SqlString
    instance ToJSON (Database.Persist.Key ImageBank)
    instance FromJSON (Database.Persist.Key ImageBank)
    instance OnlyOneUniqueKey User where
      onlyUniqueP = (head . persistUniqueKeys)
    instance AtLeastOneUniqueKey User where
      requireUniquesP = (Data.List.NonEmpty.fromList . persistUniqueKeys)
    instance OnlyOneUniqueKey Category where
      onlyUniqueP = (head . persistUniqueKeys)
    instance AtLeastOneUniqueKey Category where
      requireUniquesP = (Data.List.NonEmpty.fromList . persistUniqueKeys)
    instance OnlyOneUniqueKey News where
      onlyUniqueP = (head . persistUniqueKeys)
    instance AtLeastOneUniqueKey News where
      requireUniquesP = (Data.List.NonEmpty.fromList . persistUniqueKeys)
    instance OnlyOneUniqueKey Image where
      onlyUniqueP = (head . persistUniqueKeys)
    instance AtLeastOneUniqueKey Image where
      requireUniquesP = (Data.List.NonEmpty.fromList . persistUniqueKeys)
    instance GHC.TypeLits.TypeError (NoUniqueKeysError ImageBank) =>
             OnlyOneUniqueKey ImageBank where
      onlyUniqueP _ = error "impossible"
    instance GHC.TypeLits.TypeError (MultipleUniqueKeysError ImageBank) =>
             AtLeastOneUniqueKey ImageBank where
      requireUniquesP _ = error "impossible"
    instance SymbolToField "id" User (Database.Persist.Key User) where
      symbolToField = UserId
    instance SymbolToField "name" User T.Text where
      symbolToField = UserName
    instance SymbolToField "login" User T.Text where
      symbolToField = UserLogin
    instance SymbolToField "quasiPassword" User T.Text where
      symbolToField = UserQuasiPassword
    instance SymbolToField "created" User UTCTime where
      symbolToField = UserCreated
    instance SymbolToField "isAdmin" User Bool where
      symbolToField = UserIsAdmin
    instance SymbolToField "isPublisher" User Bool where
      symbolToField = UserIsPublisher
    instance SymbolToField "id" Category (Database.Persist.Key Category) where
      symbolToField = CategoryId
    instance SymbolToField "label" Category T.Text where
      symbolToField = CategoryLabel
    instance SymbolToField "parent" Category (Maybe CategoryId) where
      symbolToField = CategoryParent
    instance SymbolToField "id" News (Database.Persist.Key News) where
      symbolToField = NewsId
    instance SymbolToField "title" News T.Text where
      symbolToField = NewsTitle
    instance SymbolToField "created" News UTCTime where
      symbolToField = NewsCreated
    instance SymbolToField "userId" News UserId where
      symbolToField = NewsUserId
    instance SymbolToField "categoryId" News CategoryId where
      symbolToField = NewsCategoryId
    instance SymbolToField "content" News T.Text where
      symbolToField = NewsContent
    instance SymbolToField "imagesIds" News [ImageId] where
      symbolToField = NewsImagesIds
    instance SymbolToField "isPublish" News Bool where
      symbolToField = NewsIsPublish
    instance SymbolToField "id" Image (Database.Persist.Key Image) where
      symbolToField = ImageId
    instance SymbolToField "header" Image T.Text where
      symbolToField = ImageHeader
    instance SymbolToField "base64" Image T.Text where
      symbolToField = ImageBase64
    instance SymbolToField "newsId" ImageBank NewsId where
      symbolToField = ImageBankNewsId
    instance SymbolToField "imageId" ImageBank ImageId where
      symbolToField = ImageBankImageId
    entityDefListFormigrateAll :: [EntityDef]
    entityDefListFormigrateAll
      = [entityDef (Data.Proxy.Proxy :: Data.Proxy.Proxy User),
         entityDef (Data.Proxy.Proxy :: Data.Proxy.Proxy Category),
         entityDef (Data.Proxy.Proxy :: Data.Proxy.Proxy News),
         entityDef (Data.Proxy.Proxy :: Data.Proxy.Proxy Image),
         entityDef (Data.Proxy.Proxy :: Data.Proxy.Proxy ImageBank)]
    migrateAll :: Database.Persist.Sql.Migration.Migration
    migrateAll = PTH.migrateModels entityDefListFormigrateAll
/home/h/projects/webServer/src/Base/BasicSchema.hs:(61,93)-(97,2): Splicing expression
    Language.Haskell.TH.Quote.quoteExp
      PTH.persistLowerCase
      "\n\
      \ User sql=users\n\
      \  name T.Text\n\
      \  login T.Text\n\
      \  quasiPassword T.Text\n\
      \  created UTCTime\n\
      \  isAdmin Bool\n\
      \  isPublisher Bool\n\
      \  UniqueUser login\n\
      \  deriving Eq Show\n\
      \ Category sql=categories\n\
      \  label T.Text\n\
      \  parent CategoryId Maybe\n\
      \  UniqueCategory label\n\
      \  deriving Eq Show\n\
      \ News sql=news\n\
      \  title T.Text\n\
      \  created UTCTime\n\
      \  userId UserId\n\
      \  categoryId CategoryId\n\
      \  content T.Text\n\
      \  imagesIds [ImageId]\n\
      \  isPublish Bool\n\
      \  UniqueNews title\n\
      \  deriving Eq Show\n\
      \ Image sql=images\n\
      \  header T.Text\n\
      \  base64 T.Text\n\
      \  UniqueImage header base64\n\
      \  deriving Eq Show\n\
      \ ImageBank sql=images_bank -- for tests.\n\
      \  newsId NewsId\n\
      \  imageId ImageId\n\
      \  -- UniqueImageBank newsId imageId\n\
      \  Primary newsId imageId\n\
      \  deriving Eq Show\n"
  ======>
    [(((Database.Persist.Quasi.Internal.UnboundEntityDef [])
         (Database.Persist.Quasi.Internal.DefaultKey
            (FieldNameDB (T.pack "id"))))
        (((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                     (EntityNameHS (T.pack "User")))
                    (EntityNameDB (T.pack "users")))
                   (EntityIdField
                      (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                  (FieldNameDB (T.pack "id")))
                                 ((FTTypeCon Nothing) (T.pack "UserId")))
                                SqlInt64)
                               [])
                              True)
                             NoReference)
                            ((FieldCascade Nothing) Nothing))
                           Nothing)
                          Nothing)
                         True)))
                  [T.pack "sql=users"])
                 [])
                [(((UniqueDef (ConstraintNameHS (T.pack "UniqueUser")))
                     (ConstraintNameDB (T.pack "unique_user")))
                    ((FieldNameHS (T.pack "login"), FieldNameDB (T.pack "login"))
                       GHC.Base.:| []))
                   []])
               [])
              [T.pack "Eq", T.pack "Show"])
             Data.Map.Internal.Tip)
            False)
           Nothing))
       [(((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "name")))
                (FieldNameDB (T.pack "name")))
               [])
              True)
             ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "login")))
                (FieldNameDB (T.pack "login")))
               [])
              True)
             ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "quasiPassword")))
                (FieldNameDB (T.pack "quasi_password")))
               [])
              True)
             ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "created")))
                (FieldNameDB (T.pack "created")))
               [])
              True)
             ((FTTypeCon Nothing) (T.pack "UTCTime")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "isAdmin")))
                (FieldNameDB (T.pack "is_admin")))
               [])
              True)
             ((FTTypeCon Nothing) (T.pack "Bool")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "isPublisher")))
                (FieldNameDB (T.pack "is_publisher")))
               [])
              True)
             ((FTTypeCon Nothing) (T.pack "Bool")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing],
     (((Database.Persist.Quasi.Internal.UnboundEntityDef [])
         (Database.Persist.Quasi.Internal.DefaultKey
            (FieldNameDB (T.pack "id"))))
        (((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                     (EntityNameHS (T.pack "Category")))
                    (EntityNameDB (T.pack "categories")))
                   (EntityIdField
                      (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                  (FieldNameDB (T.pack "id")))
                                 ((FTTypeCon Nothing) (T.pack "CategoryId")))
                                SqlInt64)
                               [])
                              True)
                             NoReference)
                            ((FieldCascade Nothing) Nothing))
                           Nothing)
                          Nothing)
                         True)))
                  [T.pack "sql=categories"])
                 [])
                [(((UniqueDef (ConstraintNameHS (T.pack "UniqueCategory")))
                     (ConstraintNameDB (T.pack "unique_category")))
                    ((FieldNameHS (T.pack "label"), FieldNameDB (T.pack "label"))
                       GHC.Base.:| []))
                   []])
               [])
              [T.pack "Eq", T.pack "Show"])
             Data.Map.Internal.Tip)
            False)
           Nothing))
       [(((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "label")))
                (FieldNameDB (T.pack "label")))
               [])
              True)
             ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "parent")))
                (FieldNameDB (T.pack "parent")))
               [FieldAttrMaybe])
              True)
             ((FTTypeCon Nothing) (T.pack "CategoryId")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing],
     (((Database.Persist.Quasi.Internal.UnboundEntityDef [])
         (Database.Persist.Quasi.Internal.DefaultKey
            (FieldNameDB (T.pack "id"))))
        (((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                     (EntityNameHS (T.pack "News")))
                    (EntityNameDB (T.pack "news")))
                   (EntityIdField
                      (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                  (FieldNameDB (T.pack "id")))
                                 ((FTTypeCon Nothing) (T.pack "NewsId")))
                                SqlInt64)
                               [])
                              True)
                             NoReference)
                            ((FieldCascade Nothing) Nothing))
                           Nothing)
                          Nothing)
                         True)))
                  [T.pack "sql=news"])
                 [])
                [(((UniqueDef (ConstraintNameHS (T.pack "UniqueNews")))
                     (ConstraintNameDB (T.pack "unique_news")))
                    ((FieldNameHS (T.pack "title"), FieldNameDB (T.pack "title"))
                       GHC.Base.:| []))
                   []])
               [])
              [T.pack "Eq", T.pack "Show"])
             Data.Map.Internal.Tip)
            False)
           Nothing))
       [(((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "title")))
                (FieldNameDB (T.pack "title")))
               [])
              True)
             ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "created")))
                (FieldNameDB (T.pack "created")))
               [])
              True)
             ((FTTypeCon Nothing) (T.pack "UTCTime")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "userId")))
                (FieldNameDB (T.pack "user_id")))
               [])
              True)
             ((FTTypeCon Nothing) (T.pack "UserId")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "categoryId")))
                (FieldNameDB (T.pack "category_id")))
               [])
              True)
             ((FTTypeCon Nothing) (T.pack "CategoryId")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "content")))
                (FieldNameDB (T.pack "content")))
               [])
              True)
             ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "imagesIds")))
                (FieldNameDB (T.pack "images_ids")))
               [])
              True)
             (FTList ((FTTypeCon Nothing) (T.pack "ImageId"))))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "isPublish")))
                (FieldNameDB (T.pack "is_publish")))
               [])
              True)
             ((FTTypeCon Nothing) (T.pack "Bool")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing],
     (((Database.Persist.Quasi.Internal.UnboundEntityDef [])
         (Database.Persist.Quasi.Internal.DefaultKey
            (FieldNameDB (T.pack "id"))))
        (((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                     (EntityNameHS (T.pack "Image")))
                    (EntityNameDB (T.pack "images")))
                   (EntityIdField
                      (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                  (FieldNameDB (T.pack "id")))
                                 ((FTTypeCon Nothing) (T.pack "ImageId")))
                                SqlInt64)
                               [])
                              True)
                             NoReference)
                            ((FieldCascade Nothing) Nothing))
                           Nothing)
                          Nothing)
                         True)))
                  [T.pack "sql=images"])
                 [])
                [(((UniqueDef (ConstraintNameHS (T.pack "UniqueImage")))
                     (ConstraintNameDB (T.pack "unique_image")))
                    ((FieldNameHS (T.pack "header"), FieldNameDB (T.pack "header"))
                       GHC.Base.:|
                         [(FieldNameHS (T.pack "base64"), FieldNameDB (T.pack "base64"))]))
                   []])
               [])
              [T.pack "Eq", T.pack "Show"])
             Data.Map.Internal.Tip)
            False)
           Nothing))
       [(((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "header")))
                (FieldNameDB (T.pack "header")))
               [])
              True)
             ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "base64")))
                (FieldNameDB (T.pack "base64")))
               [])
              True)
             ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing],
     (((Database.Persist.Quasi.Internal.UnboundEntityDef [])
         (Database.Persist.Quasi.Internal.NaturalKey
            ((Database.Persist.Quasi.Internal.UnboundCompositeDef
                [FieldNameHS (T.pack "newsId"), FieldNameHS (T.pack "imageId")])
               [])))
        (((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                     (EntityNameHS (T.pack "ImageBank")))
                    (EntityNameDB (T.pack "images_bank")))
                   (EntityIdField
                      (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                  (FieldNameDB (T.pack "id")))
                                 ((FTTypeCon Nothing) (T.pack "ImageBankId")))
                                (SqlOther (T.pack "Primary Key")))
                               [])
                              True)
                             NoReference)
                            ((FieldCascade Nothing) Nothing))
                           Nothing)
                          Nothing)
                         True)))
                  [T.pack "sql=images_bank"])
                 [])
                [])
               [])
              [T.pack "Eq", T.pack "Show"])
             Data.Map.Internal.Tip)
            False)
           Nothing))
       [(((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "newsId")))
                (FieldNameDB (T.pack "news_id")))
               [])
              True)
             ((FTTypeCon Nothing) (T.pack "NewsId")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "imageId")))
                (FieldNameDB (T.pack "image_id")))
               [])
              True)
             ((FTTypeCon Nothing) (T.pack "ImageId")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing]]
/home/h/projects/webServer/src/Base/BasicSchema.hs:(61,1)-(97,2): Splicing declarations
    PTH.share
      [PTH.mkPersist PTH.sqlSettings, PTH.mkMigrate "migrateAll"]
      ([(((Database.Persist.Quasi.Internal.UnboundEntityDef [])
            (Database.Persist.Quasi.Internal.DefaultKey
               (FieldNameDB (T.pack "id"))))
           (((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                        (EntityNameHS (T.pack "User")))
                       (EntityNameDB (T.pack "users")))
                      (EntityIdField
                         (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                     (FieldNameDB (T.pack "id")))
                                    ((FTTypeCon Nothing) (T.pack "UserId")))
                                   SqlInt64)
                                  [])
                                 True)
                                NoReference)
                               ((FieldCascade Nothing) Nothing))
                              Nothing)
                             Nothing)
                            True)))
                     [T.pack "sql=users"])
                    [])
                   [(((UniqueDef (ConstraintNameHS (T.pack "UniqueUser")))
                        (ConstraintNameDB (T.pack "unique_user")))
                       ((FieldNameHS (T.pack "login"), FieldNameDB (T.pack "login"))
                          GHC.Base.:| []))
                      []])
                  [])
                 [T.pack "Eq", T.pack "Show"])
                Data.Map.Internal.Tip)
               False)
              Nothing))
          [(((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "name")))
                   (FieldNameDB (T.pack "name")))
                  [])
                 True)
                ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "login")))
                   (FieldNameDB (T.pack "login")))
                  [])
                 True)
                ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "quasiPassword")))
                   (FieldNameDB (T.pack "quasi_password")))
                  [])
                 True)
                ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "created")))
                   (FieldNameDB (T.pack "created")))
                  [])
                 True)
                ((FTTypeCon Nothing) (T.pack "UTCTime")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "isAdmin")))
                   (FieldNameDB (T.pack "is_admin")))
                  [])
                 True)
                ((FTTypeCon Nothing) (T.pack "Bool")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "isPublisher")))
                   (FieldNameDB (T.pack "is_publisher")))
                  [])
                 True)
                ((FTTypeCon Nothing) (T.pack "Bool")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing],
        (((Database.Persist.Quasi.Internal.UnboundEntityDef [])
            (Database.Persist.Quasi.Internal.DefaultKey
               (FieldNameDB (T.pack "id"))))
           (((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                        (EntityNameHS (T.pack "Category")))
                       (EntityNameDB (T.pack "categories")))
                      (EntityIdField
                         (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                     (FieldNameDB (T.pack "id")))
                                    ((FTTypeCon Nothing) (T.pack "CategoryId")))
                                   SqlInt64)
                                  [])
                                 True)
                                NoReference)
                               ((FieldCascade Nothing) Nothing))
                              Nothing)
                             Nothing)
                            True)))
                     [T.pack "sql=categories"])
                    [])
                   [(((UniqueDef (ConstraintNameHS (T.pack "UniqueCategory")))
                        (ConstraintNameDB (T.pack "unique_category")))
                       ((FieldNameHS (T.pack "label"), FieldNameDB (T.pack "label"))
                          GHC.Base.:| []))
                      []])
                  [])
                 [T.pack "Eq", T.pack "Show"])
                Data.Map.Internal.Tip)
               False)
              Nothing))
          [(((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "label")))
                   (FieldNameDB (T.pack "label")))
                  [])
                 True)
                ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "parent")))
                   (FieldNameDB (T.pack "parent")))
                  [FieldAttrMaybe])
                 True)
                ((FTTypeCon Nothing) (T.pack "CategoryId")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing],
        (((Database.Persist.Quasi.Internal.UnboundEntityDef [])
            (Database.Persist.Quasi.Internal.DefaultKey
               (FieldNameDB (T.pack "id"))))
           (((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                        (EntityNameHS (T.pack "News")))
                       (EntityNameDB (T.pack "news")))
                      (EntityIdField
                         (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                     (FieldNameDB (T.pack "id")))
                                    ((FTTypeCon Nothing) (T.pack "NewsId")))
                                   SqlInt64)
                                  [])
                                 True)
                                NoReference)
                               ((FieldCascade Nothing) Nothing))
                              Nothing)
                             Nothing)
                            True)))
                     [T.pack "sql=news"])
                    [])
                   [(((UniqueDef (ConstraintNameHS (T.pack "UniqueNews")))
                        (ConstraintNameDB (T.pack "unique_news")))
                       ((FieldNameHS (T.pack "title"), FieldNameDB (T.pack "title"))
                          GHC.Base.:| []))
                      []])
                  [])
                 [T.pack "Eq", T.pack "Show"])
                Data.Map.Internal.Tip)
               False)
              Nothing))
          [(((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "title")))
                   (FieldNameDB (T.pack "title")))
                  [])
                 True)
                ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "created")))
                   (FieldNameDB (T.pack "created")))
                  [])
                 True)
                ((FTTypeCon Nothing) (T.pack "UTCTime")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "userId")))
                   (FieldNameDB (T.pack "user_id")))
                  [])
                 True)
                ((FTTypeCon Nothing) (T.pack "UserId")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "categoryId")))
                   (FieldNameDB (T.pack "category_id")))
                  [])
                 True)
                ((FTTypeCon Nothing) (T.pack "CategoryId")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "content")))
                   (FieldNameDB (T.pack "content")))
                  [])
                 True)
                ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "imagesIds")))
                   (FieldNameDB (T.pack "images_ids")))
                  [])
                 True)
                (FTList ((FTTypeCon Nothing) (T.pack "ImageId"))))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "isPublish")))
                   (FieldNameDB (T.pack "is_publish")))
                  [])
                 True)
                ((FTTypeCon Nothing) (T.pack "Bool")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing],
        (((Database.Persist.Quasi.Internal.UnboundEntityDef [])
            (Database.Persist.Quasi.Internal.DefaultKey
               (FieldNameDB (T.pack "id"))))
           (((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                        (EntityNameHS (T.pack "Image")))
                       (EntityNameDB (T.pack "images")))
                      (EntityIdField
                         (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                     (FieldNameDB (T.pack "id")))
                                    ((FTTypeCon Nothing) (T.pack "ImageId")))
                                   SqlInt64)
                                  [])
                                 True)
                                NoReference)
                               ((FieldCascade Nothing) Nothing))
                              Nothing)
                             Nothing)
                            True)))
                     [T.pack "sql=images"])
                    [])
                   [(((UniqueDef (ConstraintNameHS (T.pack "UniqueImage")))
                        (ConstraintNameDB (T.pack "unique_image")))
                       ((FieldNameHS (T.pack "header"), FieldNameDB (T.pack "header"))
                          GHC.Base.:|
                            [(FieldNameHS (T.pack "base64"), FieldNameDB (T.pack "base64"))]))
                      []])
                  [])
                 [T.pack "Eq", T.pack "Show"])
                Data.Map.Internal.Tip)
               False)
              Nothing))
          [(((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "header")))
                   (FieldNameDB (T.pack "header")))
                  [])
                 True)
                ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "base64")))
                   (FieldNameDB (T.pack "base64")))
                  [])
                 True)
                ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing],
        (((Database.Persist.Quasi.Internal.UnboundEntityDef [])
            (Database.Persist.Quasi.Internal.NaturalKey
               ((Database.Persist.Quasi.Internal.UnboundCompositeDef
                   [FieldNameHS (T.pack "newsId"), FieldNameHS (T.pack "imageId")])
                  [])))
           (((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                        (EntityNameHS (T.pack "ImageBank")))
                       (EntityNameDB (T.pack "images_bank")))
                      (EntityIdField
                         (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                     (FieldNameDB (T.pack "id")))
                                    ((FTTypeCon Nothing) (T.pack "ImageBankId")))
                                   (SqlOther (T.pack "Primary Key")))
                                  [])
                                 True)
                                NoReference)
                               ((FieldCascade Nothing) Nothing))
                              Nothing)
                             Nothing)
                            True)))
                     [T.pack "sql=images_bank"])
                    [])
                   [])
                  [])
                 [T.pack "Eq", T.pack "Show"])
                Data.Map.Internal.Tip)
               False)
              Nothing))
          [(((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "newsId")))
                   (FieldNameDB (T.pack "news_id")))
                  [])
                 True)
                ((FTTypeCon Nothing) (T.pack "NewsId")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "imageId")))
                   (FieldNameDB (T.pack "image_id")))
                  [])
                 True)
                ((FTTypeCon Nothing) (T.pack "ImageId")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing]])
  ======>
    instance PersistField User where
      toPersistValue = Database.Persist.TH.entityToPersistValueHelper
      fromPersistValue
        = Database.Persist.TH.entityFromPersistValueHelper
            ["name", "login", "quasiPassword", "created", "isAdmin",
             "isPublisher"]
    instance persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.PersistFieldSql User where
      persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
        _
        = SqlString
    instance PersistField Category where
      toPersistValue = Database.Persist.TH.entityToPersistValueHelper
      fromPersistValue
        = Database.Persist.TH.entityFromPersistValueHelper
            ["label", "parent"]
    instance persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.PersistFieldSql Category where
      persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
        _
        = SqlString
    instance PersistField News where
      toPersistValue = Database.Persist.TH.entityToPersistValueHelper
      fromPersistValue
        = Database.Persist.TH.entityFromPersistValueHelper
            ["title", "created", "userId", "categoryId", "content",
             "imagesIds", "isPublish"]
    instance persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.PersistFieldSql News where
      persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
        _
        = SqlString
    instance PersistField Image where
      toPersistValue = Database.Persist.TH.entityToPersistValueHelper
      fromPersistValue
        = Database.Persist.TH.entityFromPersistValueHelper
            ["header", "base64"]
    instance persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.PersistFieldSql Image where
      persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
        _
        = SqlString
    instance PersistField ImageBank where
      toPersistValue = Database.Persist.TH.entityToPersistValueHelper
      fromPersistValue
        = Database.Persist.TH.entityFromPersistValueHelper
            ["newsId", "imageId"]
    instance persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.PersistFieldSql ImageBank where
      persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
        _
        = SqlString
    data User
      = User {userName :: !T.Text,
              userLogin :: !T.Text,
              userQuasiPassword :: !T.Text,
              userCreated :: !UTCTime,
              userIsAdmin :: !Bool,
              userIsPublisher :: !Bool}
      deriving stock (Eq, Show)
    type UserId = Database.Persist.Key User
    instance PersistEntity User where
      type PersistEntityBackend User = Database.Persist.SqlBackend.Internal.SqlBackend
      data Unique User = UniqueUser T.Text
      newtype Database.Persist.Key User
        = UserKey {unUserKey :: (BackendKey Database.Persist.SqlBackend.Internal.SqlBackend)}
        deriving stock Show
        deriving stock Read
        deriving newtype Eq
        deriving newtype Ord
        deriving newtype path-pieces-0.2.1-E15XfVOwfTfIr2VliI4YGA:Web.PathPieces.PathPiece
        deriving newtype http-api-data-0.4.3-8AwfdtQImWAISYRgwZNRi0:Web.Internal.HttpApiData.ToHttpApiData
        deriving newtype http-api-data-0.4.3-8AwfdtQImWAISYRgwZNRi0:Web.Internal.HttpApiData.FromHttpApiData
        deriving newtype PersistField
        deriving newtype persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.PersistFieldSql
        deriving newtype ToJSON
        deriving newtype FromJSON
      data EntityField User typ
        = (typ ~ UserId) => UserId |
          (typ ~ T.Text) => UserName |
          (typ ~ T.Text) => UserLogin |
          (typ ~ T.Text) => UserQuasiPassword |
          (typ ~ UTCTime) => UserCreated |
          (typ ~ Bool) => UserIsAdmin |
          (typ ~ Bool) => UserIsPublisher
      keyToValues
        = ((: []) . (toPersistValue . (\ UserKey {unUserKey = x} -> x)))
      keyFromValues
        = (fmap UserKey
             . (fromPersistValue . Database.Persist.TH.headNote))
      keyFromRecordM = Nothing
      entityDef _
        = ((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                      (EntityNameHS (T.pack "User")))
                     (EntityNameDB (T.pack "users")))
                    (EntityIdField
                       (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                   (FieldNameDB (T.pack "id")))
                                  ((FTTypeCon Nothing) (T.pack "UserId")))
                                 SqlInt64)
                                [])
                               True)
                              NoReference)
                             ((FieldCascade Nothing) Nothing))
                            Nothing)
                           Nothing)
                          True)))
                   [T.pack "sql=users"])
                  [])
                 [(((UniqueDef (ConstraintNameHS (T.pack "UniqueUser")))
                      (ConstraintNameDB (T.pack "unique_user")))
                     ((FieldNameHS (T.pack "login"), FieldNameDB (T.pack "login"))
                        GHC.Base.:| []))
                    []])
                [])
               [T.pack "Eq", T.pack "Show"])
              Data.Map.Internal.Tip)
             False)
            Nothing
            {persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityFields = [FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "name"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "name"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      (Just
                                                                                                                         (T.pack
                                                                                                                            "T")))
                                                                                                                     (T.pack
                                                                                                                        "Text"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy T.Text),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "login"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "login"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      (Just
                                                                                                                         (T.pack
                                                                                                                            "T")))
                                                                                                                     (T.pack
                                                                                                                        "Text"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy T.Text),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "quasiPassword"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "quasi_password"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      (Just
                                                                                                                         (T.pack
                                                                                                                            "T")))
                                                                                                                     (T.pack
                                                                                                                        "Text"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy T.Text),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "created"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "created"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      Nothing)
                                                                                                                     (T.pack
                                                                                                                        "UTCTime"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy UTCTime),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "isAdmin"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "is_admin"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      Nothing)
                                                                                                                     (T.pack
                                                                                                                        "Bool"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy Bool),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "isPublisher"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "is_publisher"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      Nothing)
                                                                                                                     (T.pack
                                                                                                                        "Bool"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy Bool),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False}],
             persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityId = EntityIdField
                                                                                                 (((((((((((FieldDef
                                                                                                              (FieldNameHS
                                                                                                                 (T.pack
                                                                                                                    "Id")))
                                                                                                             (FieldNameDB
                                                                                                                (T.pack
                                                                                                                   "id")))
                                                                                                            ((FTTypeCon
                                                                                                                Nothing)
                                                                                                               (T.pack
                                                                                                                  "UserId")))
                                                                                                           SqlInt64)
                                                                                                          [])
                                                                                                         True)
                                                                                                        NoReference)
                                                                                                       ((FieldCascade
                                                                                                           Nothing)
                                                                                                          Nothing))
                                                                                                      Nothing)
                                                                                                     Nothing)
                                                                                                    True),
             persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityForeigns = []}
      toPersistFields (User x_aoV4 x_aoV5 x_aoV6 x_aoV7 x_aoV8 x_aoV9)
        = [SomePersistField x_aoV4, SomePersistField x_aoV5,
           SomePersistField x_aoV6, SomePersistField x_aoV7,
           SomePersistField x_aoV8, SomePersistField x_aoV9]
      fromPersistValues
        [x1_aoVb, x2_aoVc, x3_aoVd, x4_aoVe, x5_aoVf, x6_aoVg]
        = User
            <$>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "users")) (T.pack "name"))
                 . fromPersistValue)
                x1_aoVb
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "users")) (T.pack "login"))
                 . fromPersistValue)
                x2_aoVc
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "users")) (T.pack "quasiPassword"))
                 . fromPersistValue)
                x3_aoVd
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "users")) (T.pack "created"))
                 . fromPersistValue)
                x4_aoVe
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "users")) (T.pack "isAdmin"))
                 . fromPersistValue)
                x5_aoVf
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "users")) (T.pack "isPublisher"))
                 . fromPersistValue)
                x6_aoVg
      fromPersistValues x_aoVa
        = (Left
             $ (mappend (T.pack "User: fromPersistValues failed on: "))
                 (T.pack $ show x_aoVa))
      persistUniqueToFieldNames UniqueUser {}
        = ((FieldNameHS (T.pack "login"), FieldNameDB (T.pack "login"))
             GHC.Base.:| [])
      persistUniqueToValues (UniqueUser x_aoVh) = [toPersistValue x_aoVh]
      persistUniqueKeys
        (User _name_aoVi _login_aoVj _quasiPassword_aoVk _created_aoVl
              _isAdmin_aoVm _isPublisher_aoVn)
        = [UniqueUser _login_aoVj]
      persistFieldDef UserId
        = Database.Persist.TH.stripIdFieldImpl
            (EntityIdField
               (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                           (FieldNameDB (T.pack "id")))
                          ((FTTypeCon Nothing) (T.pack "UserId")))
                         SqlInt64)
                        [])
                       True)
                      NoReference)
                     ((FieldCascade Nothing) Nothing))
                    Nothing)
                   Nothing)
                  True))
      persistFieldDef UserName
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy User))
            (FieldNameHS (T.pack "name"))
      persistFieldDef UserLogin
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy User))
            (FieldNameHS (T.pack "login"))
      persistFieldDef UserQuasiPassword
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy User))
            (FieldNameHS (T.pack "quasiPassword"))
      persistFieldDef UserCreated
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy User))
            (FieldNameHS (T.pack "created"))
      persistFieldDef UserIsAdmin
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy User))
            (FieldNameHS (T.pack "isAdmin"))
      persistFieldDef UserIsPublisher
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy User))
            (FieldNameHS (T.pack "isPublisher"))
      persistIdField = UserId
      fieldLens UserId
        = (PTH.lensPTH entityKey)
            (\ (Entity _ value_aoVp) key_aoVq -> (Entity key_aoVq) value_aoVp)
      fieldLens UserName
        = (PTH.lensPTH ((\ User {userName = x} -> x) . entityVal))
            (\ (Entity key_aoVr value_aoVs) x_aoVt
               -> (Entity key_aoVr)
                    (case value_aoVs of
                       User {userLogin = userLogin, userQuasiPassword = userQuasiPassword,
                             userCreated = userCreated, userIsAdmin = userIsAdmin,
                             userIsPublisher = userIsPublisher}
                         -> User
                              {userName = x_aoVt, userLogin = userLogin,
                               userQuasiPassword = userQuasiPassword, userCreated = userCreated,
                               userIsAdmin = userIsAdmin, userIsPublisher = userIsPublisher}))
      fieldLens UserLogin
        = (PTH.lensPTH ((\ User {userLogin = x} -> x) . entityVal))
            (\ (Entity key_aoVr value_aoVs) x_aoVt
               -> (Entity key_aoVr)
                    (case value_aoVs of
                       User {userName = userName, userQuasiPassword = userQuasiPassword,
                             userCreated = userCreated, userIsAdmin = userIsAdmin,
                             userIsPublisher = userIsPublisher}
                         -> User
                              {userName = userName, userLogin = x_aoVt,
                               userQuasiPassword = userQuasiPassword, userCreated = userCreated,
                               userIsAdmin = userIsAdmin, userIsPublisher = userIsPublisher}))
      fieldLens UserQuasiPassword
        = (PTH.lensPTH ((\ User {userQuasiPassword = x} -> x) . entityVal))
            (\ (Entity key_aoVr value_aoVs) x_aoVt
               -> (Entity key_aoVr)
                    (case value_aoVs of
                       User {userName = userName, userLogin = userLogin,
                             userCreated = userCreated, userIsAdmin = userIsAdmin,
                             userIsPublisher = userIsPublisher}
                         -> User
                              {userName = userName, userLogin = userLogin,
                               userQuasiPassword = x_aoVt, userCreated = userCreated,
                               userIsAdmin = userIsAdmin, userIsPublisher = userIsPublisher}))
      fieldLens UserCreated
        = (PTH.lensPTH ((\ User {userCreated = x} -> x) . entityVal))
            (\ (Entity key_aoVr value_aoVs) x_aoVt
               -> (Entity key_aoVr)
                    (case value_aoVs of
                       User {userName = userName, userLogin = userLogin,
                             userQuasiPassword = userQuasiPassword, userIsAdmin = userIsAdmin,
                             userIsPublisher = userIsPublisher}
                         -> User
                              {userName = userName, userLogin = userLogin,
                               userQuasiPassword = userQuasiPassword, userCreated = x_aoVt,
                               userIsAdmin = userIsAdmin, userIsPublisher = userIsPublisher}))
      fieldLens UserIsAdmin
        = (PTH.lensPTH ((\ User {userIsAdmin = x} -> x) . entityVal))
            (\ (Entity key_aoVr value_aoVs) x_aoVt
               -> (Entity key_aoVr)
                    (case value_aoVs of
                       User {userName = userName, userLogin = userLogin,
                             userQuasiPassword = userQuasiPassword, userCreated = userCreated,
                             userIsPublisher = userIsPublisher}
                         -> User
                              {userName = userName, userLogin = userLogin,
                               userQuasiPassword = userQuasiPassword, userCreated = userCreated,
                               userIsAdmin = x_aoVt, userIsPublisher = userIsPublisher}))
      fieldLens UserIsPublisher
        = (PTH.lensPTH ((\ User {userIsPublisher = x} -> x) . entityVal))
            (\ (Entity key_aoVr value_aoVs) x_aoVt
               -> (Entity key_aoVr)
                    (case value_aoVs of
                       User {userName = userName, userLogin = userLogin,
                             userQuasiPassword = userQuasiPassword, userCreated = userCreated,
                             userIsAdmin = userIsAdmin}
                         -> User
                              {userName = userName, userLogin = userLogin,
                               userQuasiPassword = userQuasiPassword, userCreated = userCreated,
                               userIsAdmin = userIsAdmin, userIsPublisher = x_aoVt}))
    instance ToBackendKey Database.Persist.SqlBackend.Internal.SqlBackend User where
      toBackendKey = \ UserKey {unUserKey = x} -> x
      fromBackendKey = UserKey
    data Category
      = Category {categoryLabel :: !T.Text,
                  categoryParent :: !(Maybe CategoryId)}
      deriving stock (Eq, Show)
    type CategoryId = Database.Persist.Key Category
    instance PersistEntity Category where
      type PersistEntityBackend Category = Database.Persist.SqlBackend.Internal.SqlBackend
      data Unique Category = UniqueCategory T.Text
      newtype Database.Persist.Key Category
        = CategoryKey {unCategoryKey :: (BackendKey Database.Persist.SqlBackend.Internal.SqlBackend)}
        deriving stock Show
        deriving stock Read
        deriving newtype Eq
        deriving newtype Ord
        deriving newtype path-pieces-0.2.1-E15XfVOwfTfIr2VliI4YGA:Web.PathPieces.PathPiece
        deriving newtype http-api-data-0.4.3-8AwfdtQImWAISYRgwZNRi0:Web.Internal.HttpApiData.ToHttpApiData
        deriving newtype http-api-data-0.4.3-8AwfdtQImWAISYRgwZNRi0:Web.Internal.HttpApiData.FromHttpApiData
        deriving newtype PersistField
        deriving newtype persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.PersistFieldSql
        deriving newtype ToJSON
        deriving newtype FromJSON
      data EntityField Category typ
        = (typ ~ CategoryId) => CategoryId |
          (typ ~ T.Text) => CategoryLabel |
          (typ ~ Maybe CategoryId) => CategoryParent
      keyToValues
        = ((: [])
             . (toPersistValue . (\ CategoryKey {unCategoryKey = x} -> x)))
      keyFromValues
        = (fmap CategoryKey
             . (fromPersistValue . Database.Persist.TH.headNote))
      keyFromRecordM = Nothing
      entityDef _
        = ((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                      (EntityNameHS (T.pack "Category")))
                     (EntityNameDB (T.pack "categories")))
                    (EntityIdField
                       (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                   (FieldNameDB (T.pack "id")))
                                  ((FTTypeCon Nothing) (T.pack "CategoryId")))
                                 SqlInt64)
                                [])
                               True)
                              NoReference)
                             ((FieldCascade Nothing) Nothing))
                            Nothing)
                           Nothing)
                          True)))
                   [T.pack "sql=categories"])
                  [])
                 [(((UniqueDef (ConstraintNameHS (T.pack "UniqueCategory")))
                      (ConstraintNameDB (T.pack "unique_category")))
                     ((FieldNameHS (T.pack "label"), FieldNameDB (T.pack "label"))
                        GHC.Base.:| []))
                    []])
                [])
               [T.pack "Eq", T.pack "Show"])
              Data.Map.Internal.Tip)
             False)
            Nothing
            {persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityFields = [FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "label"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "label"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      (Just
                                                                                                                         (T.pack
                                                                                                                            "T")))
                                                                                                                     (T.pack
                                                                                                                        "Text"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy T.Text),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "parent"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "parent"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      Nothing)
                                                                                                                     (T.pack
                                                                                                                        "CategoryId"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy CategoryId),
                                                                                                       fieldAttrs = [FieldAttrMaybe],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = ForeignRef
                                                                                                                          (EntityNameHS
                                                                                                                             (T.pack
                                                                                                                                "Category")),
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False}],
             persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityId = EntityIdField
                                                                                                 (((((((((((FieldDef
                                                                                                              (FieldNameHS
                                                                                                                 (T.pack
                                                                                                                    "Id")))
                                                                                                             (FieldNameDB
                                                                                                                (T.pack
                                                                                                                   "id")))
                                                                                                            ((FTTypeCon
                                                                                                                Nothing)
                                                                                                               (T.pack
                                                                                                                  "CategoryId")))
                                                                                                           SqlInt64)
                                                                                                          [])
                                                                                                         True)
                                                                                                        NoReference)
                                                                                                       ((FieldCascade
                                                                                                           Nothing)
                                                                                                          Nothing))
                                                                                                      Nothing)
                                                                                                     Nothing)
                                                                                                    True),
             persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityForeigns = []}
      toPersistFields (Category x_aoVu x_aoVv)
        = [SomePersistField x_aoVu, SomePersistField x_aoVv]
      fromPersistValues [x1_aoVx, x2_aoVy]
        = Category
            <$>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "categories")) (T.pack "label"))
                 . fromPersistValue)
                x1_aoVx
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "categories")) (T.pack "parent"))
                 . fromPersistValue)
                x2_aoVy
      fromPersistValues x_aoVw
        = (Left
             $ (mappend (T.pack "Category: fromPersistValues failed on: "))
                 (T.pack $ show x_aoVw))
      persistUniqueToFieldNames UniqueCategory {}
        = ((FieldNameHS (T.pack "label"), FieldNameDB (T.pack "label"))
             GHC.Base.:| [])
      persistUniqueToValues (UniqueCategory x_aoVz)
        = [toPersistValue x_aoVz]
      persistUniqueKeys (Category _label_aoVA _parent_aoVB)
        = [UniqueCategory _label_aoVA]
      persistFieldDef CategoryId
        = Database.Persist.TH.stripIdFieldImpl
            (EntityIdField
               (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                           (FieldNameDB (T.pack "id")))
                          ((FTTypeCon Nothing) (T.pack "CategoryId")))
                         SqlInt64)
                        [])
                       True)
                      NoReference)
                     ((FieldCascade Nothing) Nothing))
                    Nothing)
                   Nothing)
                  True))
      persistFieldDef CategoryLabel
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy Category))
            (FieldNameHS (T.pack "label"))
      persistFieldDef CategoryParent
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy Category))
            (FieldNameHS (T.pack "parent"))
      persistIdField = CategoryId
      fieldLens CategoryId
        = (PTH.lensPTH entityKey)
            (\ (Entity _ value_aoVD) key_aoVE -> (Entity key_aoVE) value_aoVD)
      fieldLens CategoryLabel
        = (PTH.lensPTH ((\ Category {categoryLabel = x} -> x) . entityVal))
            (\ (Entity key_aoVF value_aoVG) x_aoVH
               -> (Entity key_aoVF)
                    (case value_aoVG of
                       Category {categoryParent = categoryParent}
                         -> Category
                              {categoryLabel = x_aoVH, categoryParent = categoryParent}))
      fieldLens CategoryParent
        = (PTH.lensPTH
             ((\ Category {categoryParent = x} -> x) . entityVal))
            (\ (Entity key_aoVF value_aoVG) x_aoVH
               -> (Entity key_aoVF)
                    (case value_aoVG of
                       Category {categoryLabel = categoryLabel}
                         -> Category
                              {categoryLabel = categoryLabel, categoryParent = x_aoVH}))
    instance ToBackendKey Database.Persist.SqlBackend.Internal.SqlBackend Category where
      toBackendKey = \ CategoryKey {unCategoryKey = x} -> x
      fromBackendKey = CategoryKey
    data News
      = News {newsTitle :: !T.Text,
              newsCreated :: !UTCTime,
              newsUserId :: !UserId,
              newsCategoryId :: !CategoryId,
              newsContent :: !T.Text,
              newsImagesIds :: ![ImageId],
              newsIsPublish :: !Bool}
      deriving stock (Eq, Show)
    type NewsId = Database.Persist.Key News
    instance PersistEntity News where
      type PersistEntityBackend News = Database.Persist.SqlBackend.Internal.SqlBackend
      data Unique News = UniqueNews T.Text
      newtype Database.Persist.Key News
        = NewsKey {unNewsKey :: (BackendKey Database.Persist.SqlBackend.Internal.SqlBackend)}
        deriving stock Show
        deriving stock Read
        deriving newtype Eq
        deriving newtype Ord
        deriving newtype path-pieces-0.2.1-E15XfVOwfTfIr2VliI4YGA:Web.PathPieces.PathPiece
        deriving newtype http-api-data-0.4.3-8AwfdtQImWAISYRgwZNRi0:Web.Internal.HttpApiData.ToHttpApiData
        deriving newtype http-api-data-0.4.3-8AwfdtQImWAISYRgwZNRi0:Web.Internal.HttpApiData.FromHttpApiData
        deriving newtype PersistField
        deriving newtype persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.PersistFieldSql
        deriving newtype ToJSON
        deriving newtype FromJSON
      data EntityField News typ
        = (typ ~ NewsId) => NewsId |
          (typ ~ T.Text) => NewsTitle |
          (typ ~ UTCTime) => NewsCreated |
          (typ ~ UserId) => NewsUserId |
          (typ ~ CategoryId) => NewsCategoryId |
          (typ ~ T.Text) => NewsContent |
          (typ ~ [ImageId]) => NewsImagesIds |
          (typ ~ Bool) => NewsIsPublish
      keyToValues
        = ((: []) . (toPersistValue . (\ NewsKey {unNewsKey = x} -> x)))
      keyFromValues
        = (fmap NewsKey
             . (fromPersistValue . Database.Persist.TH.headNote))
      keyFromRecordM = Nothing
      entityDef _
        = ((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                      (EntityNameHS (T.pack "News")))
                     (EntityNameDB (T.pack "news")))
                    (EntityIdField
                       (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                   (FieldNameDB (T.pack "id")))
                                  ((FTTypeCon Nothing) (T.pack "NewsId")))
                                 SqlInt64)
                                [])
                               True)
                              NoReference)
                             ((FieldCascade Nothing) Nothing))
                            Nothing)
                           Nothing)
                          True)))
                   [T.pack "sql=news"])
                  [])
                 [(((UniqueDef (ConstraintNameHS (T.pack "UniqueNews")))
                      (ConstraintNameDB (T.pack "unique_news")))
                     ((FieldNameHS (T.pack "title"), FieldNameDB (T.pack "title"))
                        GHC.Base.:| []))
                    []])
                [])
               [T.pack "Eq", T.pack "Show"])
              Data.Map.Internal.Tip)
             False)
            Nothing
            {persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityFields = [FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "title"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "title"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      (Just
                                                                                                                         (T.pack
                                                                                                                            "T")))
                                                                                                                     (T.pack
                                                                                                                        "Text"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy T.Text),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "created"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "created"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      Nothing)
                                                                                                                     (T.pack
                                                                                                                        "UTCTime"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy UTCTime),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "userId"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "user_id"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      Nothing)
                                                                                                                     (T.pack
                                                                                                                        "UserId"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy UserId),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = ForeignRef
                                                                                                                          (EntityNameHS
                                                                                                                             (T.pack
                                                                                                                                "User")),
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "categoryId"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "category_id"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      Nothing)
                                                                                                                     (T.pack
                                                                                                                        "CategoryId"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy CategoryId),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = ForeignRef
                                                                                                                          (EntityNameHS
                                                                                                                             (T.pack
                                                                                                                                "Category")),
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "content"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "content"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      (Just
                                                                                                                         (T.pack
                                                                                                                            "T")))
                                                                                                                     (T.pack
                                                                                                                        "Text"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy T.Text),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "imagesIds"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "images_ids"),
                                                                                                       fieldType = FTList
                                                                                                                     ((FTTypeCon
                                                                                                                         Nothing)
                                                                                                                        (T.pack
                                                                                                                           "ImageId")),
                                                                                                       fieldSqlType = SqlString,
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "isPublish"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "is_publish"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      Nothing)
                                                                                                                     (T.pack
                                                                                                                        "Bool"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy Bool),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False}],
             persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityId = EntityIdField
                                                                                                 (((((((((((FieldDef
                                                                                                              (FieldNameHS
                                                                                                                 (T.pack
                                                                                                                    "Id")))
                                                                                                             (FieldNameDB
                                                                                                                (T.pack
                                                                                                                   "id")))
                                                                                                            ((FTTypeCon
                                                                                                                Nothing)
                                                                                                               (T.pack
                                                                                                                  "NewsId")))
                                                                                                           SqlInt64)
                                                                                                          [])
                                                                                                         True)
                                                                                                        NoReference)
                                                                                                       ((FieldCascade
                                                                                                           Nothing)
                                                                                                          Nothing))
                                                                                                      Nothing)
                                                                                                     Nothing)
                                                                                                    True),
             persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityForeigns = []}
      toPersistFields
        (News x_aoVI x_aoVJ x_aoVK x_aoVL x_aoVM x_aoVN x_aoVO)
        = [SomePersistField x_aoVI, SomePersistField x_aoVJ,
           SomePersistField x_aoVK, SomePersistField x_aoVL,
           SomePersistField x_aoVM, SomePersistField x_aoVN,
           SomePersistField x_aoVO]
      fromPersistValues
        [x1_aoVQ, x2_aoVR, x3_aoVS, x4_aoVT, x5_aoVU, x6_aoVV, x7_aoVW]
        = News
            <$>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "news")) (T.pack "title"))
                 . fromPersistValue)
                x1_aoVQ
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "news")) (T.pack "created"))
                 . fromPersistValue)
                x2_aoVR
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "news")) (T.pack "userId"))
                 . fromPersistValue)
                x3_aoVS
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "news")) (T.pack "categoryId"))
                 . fromPersistValue)
                x4_aoVT
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "news")) (T.pack "content"))
                 . fromPersistValue)
                x5_aoVU
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "news")) (T.pack "imagesIds"))
                 . fromPersistValue)
                x6_aoVV
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "news")) (T.pack "isPublish"))
                 . fromPersistValue)
                x7_aoVW
      fromPersistValues x_aoVP
        = (Left
             $ (mappend (T.pack "News: fromPersistValues failed on: "))
                 (T.pack $ show x_aoVP))
      persistUniqueToFieldNames UniqueNews {}
        = ((FieldNameHS (T.pack "title"), FieldNameDB (T.pack "title"))
             GHC.Base.:| [])
      persistUniqueToValues (UniqueNews x_aoVX) = [toPersistValue x_aoVX]
      persistUniqueKeys
        (News _title_aoVY _created_aoVZ _userId_aoW0 _categoryId_aoW1
              _content_aoW2 _imagesIds_aoW3 _isPublish_aoW4)
        = [UniqueNews _title_aoVY]
      persistFieldDef NewsId
        = Database.Persist.TH.stripIdFieldImpl
            (EntityIdField
               (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                           (FieldNameDB (T.pack "id")))
                          ((FTTypeCon Nothing) (T.pack "NewsId")))
                         SqlInt64)
                        [])
                       True)
                      NoReference)
                     ((FieldCascade Nothing) Nothing))
                    Nothing)
                   Nothing)
                  True))
      persistFieldDef NewsTitle
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy News))
            (FieldNameHS (T.pack "title"))
      persistFieldDef NewsCreated
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy News))
            (FieldNameHS (T.pack "created"))
      persistFieldDef NewsUserId
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy News))
            (FieldNameHS (T.pack "userId"))
      persistFieldDef NewsCategoryId
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy News))
            (FieldNameHS (T.pack "categoryId"))
      persistFieldDef NewsContent
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy News))
            (FieldNameHS (T.pack "content"))
      persistFieldDef NewsImagesIds
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy News))
            (FieldNameHS (T.pack "imagesIds"))
      persistFieldDef NewsIsPublish
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy News))
            (FieldNameHS (T.pack "isPublish"))
      persistIdField = NewsId
      fieldLens NewsId
        = (PTH.lensPTH entityKey)
            (\ (Entity _ value_aoW6) key_aoW7 -> (Entity key_aoW7) value_aoW6)
      fieldLens NewsTitle
        = (PTH.lensPTH ((\ News {newsTitle = x} -> x) . entityVal))
            (\ (Entity key_aoW8 value_aoW9) x_aoWa
               -> (Entity key_aoW8)
                    (case value_aoW9 of
                       News {newsCreated = newsCreated, newsUserId = newsUserId,
                             newsCategoryId = newsCategoryId, newsContent = newsContent,
                             newsImagesIds = newsImagesIds, newsIsPublish = newsIsPublish}
                         -> News
                              {newsTitle = x_aoWa, newsCreated = newsCreated,
                               newsUserId = newsUserId, newsCategoryId = newsCategoryId,
                               newsContent = newsContent, newsImagesIds = newsImagesIds,
                               newsIsPublish = newsIsPublish}))
      fieldLens NewsCreated
        = (PTH.lensPTH ((\ News {newsCreated = x} -> x) . entityVal))
            (\ (Entity key_aoW8 value_aoW9) x_aoWa
               -> (Entity key_aoW8)
                    (case value_aoW9 of
                       News {newsTitle = newsTitle, newsUserId = newsUserId,
                             newsCategoryId = newsCategoryId, newsContent = newsContent,
                             newsImagesIds = newsImagesIds, newsIsPublish = newsIsPublish}
                         -> News
                              {newsTitle = newsTitle, newsCreated = x_aoWa,
                               newsUserId = newsUserId, newsCategoryId = newsCategoryId,
                               newsContent = newsContent, newsImagesIds = newsImagesIds,
                               newsIsPublish = newsIsPublish}))
      fieldLens NewsUserId
        = (PTH.lensPTH ((\ News {newsUserId = x} -> x) . entityVal))
            (\ (Entity key_aoW8 value_aoW9) x_aoWa
               -> (Entity key_aoW8)
                    (case value_aoW9 of
                       News {newsTitle = newsTitle, newsCreated = newsCreated,
                             newsCategoryId = newsCategoryId, newsContent = newsContent,
                             newsImagesIds = newsImagesIds, newsIsPublish = newsIsPublish}
                         -> News
                              {newsTitle = newsTitle, newsCreated = newsCreated,
                               newsUserId = x_aoWa, newsCategoryId = newsCategoryId,
                               newsContent = newsContent, newsImagesIds = newsImagesIds,
                               newsIsPublish = newsIsPublish}))
      fieldLens NewsCategoryId
        = (PTH.lensPTH ((\ News {newsCategoryId = x} -> x) . entityVal))
            (\ (Entity key_aoW8 value_aoW9) x_aoWa
               -> (Entity key_aoW8)
                    (case value_aoW9 of
                       News {newsTitle = newsTitle, newsCreated = newsCreated,
                             newsUserId = newsUserId, newsContent = newsContent,
                             newsImagesIds = newsImagesIds, newsIsPublish = newsIsPublish}
                         -> News
                              {newsTitle = newsTitle, newsCreated = newsCreated,
                               newsUserId = newsUserId, newsCategoryId = x_aoWa,
                               newsContent = newsContent, newsImagesIds = newsImagesIds,
                               newsIsPublish = newsIsPublish}))
      fieldLens NewsContent
        = (PTH.lensPTH ((\ News {newsContent = x} -> x) . entityVal))
            (\ (Entity key_aoW8 value_aoW9) x_aoWa
               -> (Entity key_aoW8)
                    (case value_aoW9 of
                       News {newsTitle = newsTitle, newsCreated = newsCreated,
                             newsUserId = newsUserId, newsCategoryId = newsCategoryId,
                             newsImagesIds = newsImagesIds, newsIsPublish = newsIsPublish}
                         -> News
                              {newsTitle = newsTitle, newsCreated = newsCreated,
                               newsUserId = newsUserId, newsCategoryId = newsCategoryId,
                               newsContent = x_aoWa, newsImagesIds = newsImagesIds,
                               newsIsPublish = newsIsPublish}))
      fieldLens NewsImagesIds
        = (PTH.lensPTH ((\ News {newsImagesIds = x} -> x) . entityVal))
            (\ (Entity key_aoW8 value_aoW9) x_aoWa
               -> (Entity key_aoW8)
                    (case value_aoW9 of
                       News {newsTitle = newsTitle, newsCreated = newsCreated,
                             newsUserId = newsUserId, newsCategoryId = newsCategoryId,
                             newsContent = newsContent, newsIsPublish = newsIsPublish}
                         -> News
                              {newsTitle = newsTitle, newsCreated = newsCreated,
                               newsUserId = newsUserId, newsCategoryId = newsCategoryId,
                               newsContent = newsContent, newsImagesIds = x_aoWa,
                               newsIsPublish = newsIsPublish}))
      fieldLens NewsIsPublish
        = (PTH.lensPTH ((\ News {newsIsPublish = x} -> x) . entityVal))
            (\ (Entity key_aoW8 value_aoW9) x_aoWa
               -> (Entity key_aoW8)
                    (case value_aoW9 of
                       News {newsTitle = newsTitle, newsCreated = newsCreated,
                             newsUserId = newsUserId, newsCategoryId = newsCategoryId,
                             newsContent = newsContent, newsImagesIds = newsImagesIds}
                         -> News
                              {newsTitle = newsTitle, newsCreated = newsCreated,
                               newsUserId = newsUserId, newsCategoryId = newsCategoryId,
                               newsContent = newsContent, newsImagesIds = newsImagesIds,
                               newsIsPublish = x_aoWa}))
    instance ToBackendKey Database.Persist.SqlBackend.Internal.SqlBackend News where
      toBackendKey = \ NewsKey {unNewsKey = x} -> x
      fromBackendKey = NewsKey
    data Image
      = Image {imageHeader :: !T.Text, imageBase64 :: !T.Text}
      deriving stock (Eq, Show)
    type ImageId = Database.Persist.Key Image
    instance PersistEntity Image where
      type PersistEntityBackend Image = Database.Persist.SqlBackend.Internal.SqlBackend
      data Unique Image = UniqueImage T.Text T.Text
      newtype Database.Persist.Key Image
        = ImageKey {unImageKey :: (BackendKey Database.Persist.SqlBackend.Internal.SqlBackend)}
        deriving stock Show
        deriving stock Read
        deriving newtype Eq
        deriving newtype Ord
        deriving newtype path-pieces-0.2.1-E15XfVOwfTfIr2VliI4YGA:Web.PathPieces.PathPiece
        deriving newtype http-api-data-0.4.3-8AwfdtQImWAISYRgwZNRi0:Web.Internal.HttpApiData.ToHttpApiData
        deriving newtype http-api-data-0.4.3-8AwfdtQImWAISYRgwZNRi0:Web.Internal.HttpApiData.FromHttpApiData
        deriving newtype PersistField
        deriving newtype persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.PersistFieldSql
        deriving newtype ToJSON
        deriving newtype FromJSON
      data EntityField Image typ
        = (typ ~ ImageId) => ImageId |
          (typ ~ T.Text) => ImageHeader |
          (typ ~ T.Text) => ImageBase64
      keyToValues
        = ((: []) . (toPersistValue . (\ ImageKey {unImageKey = x} -> x)))
      keyFromValues
        = (fmap ImageKey
             . (fromPersistValue . Database.Persist.TH.headNote))
      keyFromRecordM = Nothing
      entityDef _
        = ((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                      (EntityNameHS (T.pack "Image")))
                     (EntityNameDB (T.pack "images")))
                    (EntityIdField
                       (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                   (FieldNameDB (T.pack "id")))
                                  ((FTTypeCon Nothing) (T.pack "ImageId")))
                                 SqlInt64)
                                [])
                               True)
                              NoReference)
                             ((FieldCascade Nothing) Nothing))
                            Nothing)
                           Nothing)
                          True)))
                   [T.pack "sql=images"])
                  [])
                 [(((UniqueDef (ConstraintNameHS (T.pack "UniqueImage")))
                      (ConstraintNameDB (T.pack "unique_image")))
                     ((FieldNameHS (T.pack "header"), FieldNameDB (T.pack "header"))
                        GHC.Base.:|
                          [(FieldNameHS (T.pack "base64"), FieldNameDB (T.pack "base64"))]))
                    []])
                [])
               [T.pack "Eq", T.pack "Show"])
              Data.Map.Internal.Tip)
             False)
            Nothing
            {persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityFields = [FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "header"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "header"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      (Just
                                                                                                                         (T.pack
                                                                                                                            "T")))
                                                                                                                     (T.pack
                                                                                                                        "Text"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy T.Text),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "base64"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "base64"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      (Just
                                                                                                                         (T.pack
                                                                                                                            "T")))
                                                                                                                     (T.pack
                                                                                                                        "Text"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy T.Text),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False}],
             persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityId = EntityIdField
                                                                                                 (((((((((((FieldDef
                                                                                                              (FieldNameHS
                                                                                                                 (T.pack
                                                                                                                    "Id")))
                                                                                                             (FieldNameDB
                                                                                                                (T.pack
                                                                                                                   "id")))
                                                                                                            ((FTTypeCon
                                                                                                                Nothing)
                                                                                                               (T.pack
                                                                                                                  "ImageId")))
                                                                                                           SqlInt64)
                                                                                                          [])
                                                                                                         True)
                                                                                                        NoReference)
                                                                                                       ((FieldCascade
                                                                                                           Nothing)
                                                                                                          Nothing))
                                                                                                      Nothing)
                                                                                                     Nothing)
                                                                                                    True),
             persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityForeigns = []}
      toPersistFields (Image x_aoWb x_aoWc)
        = [SomePersistField x_aoWb, SomePersistField x_aoWc]
      fromPersistValues [x1_aoWe, x2_aoWf]
        = Image
            <$>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "images")) (T.pack "header"))
                 . fromPersistValue)
                x1_aoWe
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "images")) (T.pack "base64"))
                 . fromPersistValue)
                x2_aoWf
      fromPersistValues x_aoWd
        = (Left
             $ (mappend (T.pack "Image: fromPersistValues failed on: "))
                 (T.pack $ show x_aoWd))
      persistUniqueToFieldNames UniqueImage {}
        = ((FieldNameHS (T.pack "header"), FieldNameDB (T.pack "header"))
             GHC.Base.:|
               [(FieldNameHS (T.pack "base64"), FieldNameDB (T.pack "base64"))])
      persistUniqueToValues (UniqueImage x_aoWg x_aoWh)
        = [toPersistValue x_aoWg, toPersistValue x_aoWh]
      persistUniqueKeys (Image _header_aoWi _base64_aoWj)
        = [(UniqueImage _header_aoWi) _base64_aoWj]
      persistFieldDef ImageId
        = Database.Persist.TH.stripIdFieldImpl
            (EntityIdField
               (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                           (FieldNameDB (T.pack "id")))
                          ((FTTypeCon Nothing) (T.pack "ImageId")))
                         SqlInt64)
                        [])
                       True)
                      NoReference)
                     ((FieldCascade Nothing) Nothing))
                    Nothing)
                   Nothing)
                  True))
      persistFieldDef ImageHeader
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy Image))
            (FieldNameHS (T.pack "header"))
      persistFieldDef ImageBase64
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy Image))
            (FieldNameHS (T.pack "base64"))
      persistIdField = ImageId
      fieldLens ImageId
        = (PTH.lensPTH entityKey)
            (\ (Entity _ value_aoWl) key_aoWm -> (Entity key_aoWm) value_aoWl)
      fieldLens ImageHeader
        = (PTH.lensPTH ((\ Image {imageHeader = x} -> x) . entityVal))
            (\ (Entity key_aoWn value_aoWo) x_aoWp
               -> (Entity key_aoWn)
                    (case value_aoWo of
                       Image {imageBase64 = imageBase64}
                         -> Image {imageHeader = x_aoWp, imageBase64 = imageBase64}))
      fieldLens ImageBase64
        = (PTH.lensPTH ((\ Image {imageBase64 = x} -> x) . entityVal))
            (\ (Entity key_aoWn value_aoWo) x_aoWp
               -> (Entity key_aoWn)
                    (case value_aoWo of
                       Image {imageHeader = imageHeader}
                         -> Image {imageHeader = imageHeader, imageBase64 = x_aoWp}))
    instance ToBackendKey Database.Persist.SqlBackend.Internal.SqlBackend Image where
      toBackendKey = \ ImageKey {unImageKey = x} -> x
      fromBackendKey = ImageKey
    data ImageBank
      = ImageBank {imageBankNewsId :: !NewsId,
                   imageBankImageId :: !ImageId}
      deriving stock (Eq, Show)
    type ImageBankId = Database.Persist.Key ImageBank
    instance PersistEntity ImageBank where
      type PersistEntityBackend ImageBank = Database.Persist.SqlBackend.Internal.SqlBackend
      data Unique ImageBank
      data Database.Persist.Key ImageBank
        = ImageBankKey {imageBankKeynewsId :: NewsId,
                        imageBankKeyimageId :: ImageId}
        deriving stock Show
        deriving stock Read
        deriving stock Eq
        deriving stock Ord
        deriving stock Generic
      data EntityField ImageBank typ
        = (typ ~ ImageBankId) => ImageBankId |
          (typ ~ NewsId) => ImageBankNewsId |
          (typ ~ ImageId) => ImageBankImageId
      keyToValues record_aoWz
        = [toPersistValue (imageBankKeynewsId record_aoWz),
           toPersistValue (imageBankKeyimageId record_aoWz)]
      keyFromValues [x1_aoWB, x2_aoWC]
        = ImageBankKey
            <$>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "images_bank")) (T.pack "newsId"))
                 . fromPersistValue)
                x1_aoWB
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "images_bank")) (T.pack "imageId"))
                 . fromPersistValue)
                x2_aoWC
      keyFromValues x_aoWA
        = (Left
             $ (mappend (T.pack "ImageBank: keyFromValues failed on: "))
                 (T.pack $ show x_aoWA))
      keyFromRecordM
        = Just
            (\ record_aoWI
               -> (ImageBankKey (imageBankNewsId record_aoWI))
                    (imageBankImageId record_aoWI))
      entityDef _
        = ((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                      (EntityNameHS (T.pack "ImageBank")))
                     (EntityNameDB (T.pack "images_bank")))
                    (EntityIdField
                       (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                   (FieldNameDB (T.pack "id")))
                                  ((FTTypeCon Nothing) (T.pack "ImageBankId")))
                                 (SqlOther (T.pack "Primary Key")))
                                [])
                               True)
                              NoReference)
                             ((FieldCascade Nothing) Nothing))
                            Nothing)
                           Nothing)
                          True)))
                   [T.pack "sql=images_bank"])
                  [])
                 [])
                [])
               [T.pack "Eq", T.pack "Show"])
              Data.Map.Internal.Tip)
             False)
            Nothing
            {persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityFields = [FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "newsId"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "news_id"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      Nothing)
                                                                                                                     (T.pack
                                                                                                                        "NewsId"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy NewsId),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = ForeignRef
                                                                                                                          (EntityNameHS
                                                                                                                             (T.pack
                                                                                                                                "News")),
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "imageId"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "image_id"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      Nothing)
                                                                                                                     (T.pack
                                                                                                                        "ImageId"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy ImageId),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = ForeignRef
                                                                                                                          (EntityNameHS
                                                                                                                             (T.pack
                                                                                                                                "Image")),
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False}],
             persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityId = EntityIdNaturalKey
                                                                                                 CompositeDef
                                                                                                   {compositeFields = Data.List.NonEmpty.fromList
                                                                                                                        [(Database.Persist.TH.lookupEntityField
                                                                                                                            (Data.Proxy.Proxy ::
                                                                                                                               Data.Proxy.Proxy ImageBank))
                                                                                                                           (FieldNameHS
                                                                                                                              (T.pack
                                                                                                                                 "newsId")),
                                                                                                                         (Database.Persist.TH.lookupEntityField
                                                                                                                            (Data.Proxy.Proxy ::
                                                                                                                               Data.Proxy.Proxy ImageBank))
                                                                                                                           (FieldNameHS
                                                                                                                              (T.pack
                                                                                                                                 "imageId"))],
                                                                                                    compositeAttrs = []},
             persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityForeigns = []}
      toPersistFields (ImageBank x_aoWq x_aoWr)
        = [SomePersistField x_aoWq, SomePersistField x_aoWr]
      fromPersistValues [x1_aoWt, x2_aoWu]
        = ImageBank
            <$>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "images_bank")) (T.pack "newsId"))
                 . fromPersistValue)
                x1_aoWt
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "images_bank")) (T.pack "imageId"))
                 . fromPersistValue)
                x2_aoWu
      fromPersistValues x_aoWs
        = (Left
             $ (mappend (T.pack "ImageBank: fromPersistValues failed on: "))
                 (T.pack $ show x_aoWs))
      persistUniqueToFieldNames _
        = error "Degenerate case, should never happen"
      persistUniqueToValues _
        = error "Degenerate case, should never happen"
      persistUniqueKeys (ImageBank _newsId_aoWv _imageId_aoWw) = []
      persistFieldDef ImageBankId
        = Database.Persist.TH.stripIdFieldImpl
            (EntityIdNaturalKey
               CompositeDef
                 {compositeFields = Data.List.NonEmpty.fromList
                                      [(Database.Persist.TH.lookupEntityField
                                          (Data.Proxy.Proxy :: Data.Proxy.Proxy ImageBank))
                                         (FieldNameHS (T.pack "newsId")),
                                       (Database.Persist.TH.lookupEntityField
                                          (Data.Proxy.Proxy :: Data.Proxy.Proxy ImageBank))
                                         (FieldNameHS (T.pack "imageId"))],
                  compositeAttrs = []})
      persistFieldDef ImageBankNewsId
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy ImageBank))
            (FieldNameHS (T.pack "newsId"))
      persistFieldDef ImageBankImageId
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy ImageBank))
            (FieldNameHS (T.pack "imageId"))
      persistIdField = ImageBankId
      fieldLens ImageBankId
        = (PTH.lensPTH entityKey)
            (\ (Entity _ value_aoWD) key_aoWE -> (Entity key_aoWE) value_aoWD)
      fieldLens ImageBankNewsId
        = (PTH.lensPTH
             ((\ ImageBank {imageBankNewsId = x} -> x) . entityVal))
            (\ (Entity key_aoWF value_aoWG) x_aoWH
               -> (Entity key_aoWF)
                    (case value_aoWG of
                       ImageBank {imageBankImageId = imageBankImageId}
                         -> ImageBank
                              {imageBankNewsId = x_aoWH, imageBankImageId = imageBankImageId}))
      fieldLens ImageBankImageId
        = (PTH.lensPTH
             ((\ ImageBank {imageBankImageId = x} -> x) . entityVal))
            (\ (Entity key_aoWF value_aoWG) x_aoWH
               -> (Entity key_aoWF)
                    (case value_aoWG of
                       ImageBank {imageBankNewsId = imageBankNewsId}
                         -> ImageBank
                              {imageBankNewsId = imageBankNewsId, imageBankImageId = x_aoWH}))
    instance PersistField (Database.Persist.Key ImageBank) where
      toPersistValue = (PersistList . keyToValues)
      fromPersistValue (PersistList l_aoWx) = keyFromValues l_aoWx
      fromPersistValue got_aoWy
        = (error
             $ ("fromPersistValue: expected PersistList, got: "
                  `mappend` show got_aoWy))
    instance persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.PersistFieldSql (Database.Persist.Key ImageBank) where
      persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
        _
        = SqlString
    instance ToJSON (Database.Persist.Key ImageBank)
    instance FromJSON (Database.Persist.Key ImageBank)
    instance OnlyOneUniqueKey User where
      onlyUniqueP = (head . persistUniqueKeys)
    instance AtLeastOneUniqueKey User where
      requireUniquesP = (Data.List.NonEmpty.fromList . persistUniqueKeys)
    instance OnlyOneUniqueKey Category where
      onlyUniqueP = (head . persistUniqueKeys)
    instance AtLeastOneUniqueKey Category where
      requireUniquesP = (Data.List.NonEmpty.fromList . persistUniqueKeys)
    instance OnlyOneUniqueKey News where
      onlyUniqueP = (head . persistUniqueKeys)
    instance AtLeastOneUniqueKey News where
      requireUniquesP = (Data.List.NonEmpty.fromList . persistUniqueKeys)
    instance OnlyOneUniqueKey Image where
      onlyUniqueP = (head . persistUniqueKeys)
    instance AtLeastOneUniqueKey Image where
      requireUniquesP = (Data.List.NonEmpty.fromList . persistUniqueKeys)
    instance GHC.TypeLits.TypeError (NoUniqueKeysError ImageBank) =>
             OnlyOneUniqueKey ImageBank where
      onlyUniqueP _ = error "impossible"
    instance GHC.TypeLits.TypeError (MultipleUniqueKeysError ImageBank) =>
             AtLeastOneUniqueKey ImageBank where
      requireUniquesP _ = error "impossible"
    instance SymbolToField "id" User (Database.Persist.Key User) where
      symbolToField = UserId
    instance SymbolToField "name" User T.Text where
      symbolToField = UserName
    instance SymbolToField "login" User T.Text where
      symbolToField = UserLogin
    instance SymbolToField "quasiPassword" User T.Text where
      symbolToField = UserQuasiPassword
    instance SymbolToField "created" User UTCTime where
      symbolToField = UserCreated
    instance SymbolToField "isAdmin" User Bool where
      symbolToField = UserIsAdmin
    instance SymbolToField "isPublisher" User Bool where
      symbolToField = UserIsPublisher
    instance SymbolToField "id" Category (Database.Persist.Key Category) where
      symbolToField = CategoryId
    instance SymbolToField "label" Category T.Text where
      symbolToField = CategoryLabel
    instance SymbolToField "parent" Category (Maybe CategoryId) where
      symbolToField = CategoryParent
    instance SymbolToField "id" News (Database.Persist.Key News) where
      symbolToField = NewsId
    instance SymbolToField "title" News T.Text where
      symbolToField = NewsTitle
    instance SymbolToField "created" News UTCTime where
      symbolToField = NewsCreated
    instance SymbolToField "userId" News UserId where
      symbolToField = NewsUserId
    instance SymbolToField "categoryId" News CategoryId where
      symbolToField = NewsCategoryId
    instance SymbolToField "content" News T.Text where
      symbolToField = NewsContent
    instance SymbolToField "imagesIds" News [ImageId] where
      symbolToField = NewsImagesIds
    instance SymbolToField "isPublish" News Bool where
      symbolToField = NewsIsPublish
    instance SymbolToField "id" Image (Database.Persist.Key Image) where
      symbolToField = ImageId
    instance SymbolToField "header" Image T.Text where
      symbolToField = ImageHeader
    instance SymbolToField "base64" Image T.Text where
      symbolToField = ImageBase64
    instance SymbolToField "newsId" ImageBank NewsId where
      symbolToField = ImageBankNewsId
    instance SymbolToField "imageId" ImageBank ImageId where
      symbolToField = ImageBankImageId
    entityDefListFormigrateAll :: [EntityDef]
    entityDefListFormigrateAll
      = [entityDef (Data.Proxy.Proxy :: Data.Proxy.Proxy User),
         entityDef (Data.Proxy.Proxy :: Data.Proxy.Proxy Category),
         entityDef (Data.Proxy.Proxy :: Data.Proxy.Proxy News),
         entityDef (Data.Proxy.Proxy :: Data.Proxy.Proxy Image),
         entityDef (Data.Proxy.Proxy :: Data.Proxy.Proxy ImageBank)]
    migrateAll :: Database.Persist.Sql.Migration.Migration
    migrateAll = PTH.migrateModels entityDefListFormigrateAll
/home/h/projects/webServer/src/Base/BasicSchema.hs:(61,93)-(97,2): Splicing expression
    Language.Haskell.TH.Quote.quoteExp
      PTH.persistLowerCase
      "\n\
      \ User sql=users\n\
      \  name T.Text\n\
      \  login T.Text\n\
      \  quasiPassword T.Text\n\
      \  created UTCTime\n\
      \  isAdmin Bool\n\
      \  isPublisher Bool\n\
      \  UniqueUser login\n\
      \  deriving Eq Show\n\
      \ Category sql=categories\n\
      \  label T.Text\n\
      \  parent CategoryId Maybe\n\
      \  UniqueCategory label\n\
      \  deriving Eq Show\n\
      \ News sql=news\n\
      \  title T.Text\n\
      \  created UTCTime\n\
      \  userId UserId\n\
      \  categoryId CategoryId\n\
      \  content T.Text\n\
      \  imagesIds [ImageId]\n\
      \  isPublish Bool\n\
      \  UniqueNews title\n\
      \  deriving Eq Show\n\
      \ Image sql=images\n\
      \  header T.Text\n\
      \  base64 T.Text\n\
      \  UniqueImage header base64\n\
      \  deriving Eq Show\n\
      \ ImageBank sql=images_bank -- for tests.\n\
      \  newsId NewsId\n\
      \  imageId ImageId\n\
      \  -- UniqueImageBank newsId imageId\n\
      \  Primary newsId imageId\n\
      \  deriving Eq Show\n"
  ======>
    [(((Database.Persist.Quasi.Internal.UnboundEntityDef [])
         (Database.Persist.Quasi.Internal.DefaultKey
            (FieldNameDB (T.pack "id"))))
        (((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                     (EntityNameHS (T.pack "User")))
                    (EntityNameDB (T.pack "users")))
                   (EntityIdField
                      (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                  (FieldNameDB (T.pack "id")))
                                 ((FTTypeCon Nothing) (T.pack "UserId")))
                                SqlInt64)
                               [])
                              True)
                             NoReference)
                            ((FieldCascade Nothing) Nothing))
                           Nothing)
                          Nothing)
                         True)))
                  [T.pack "sql=users"])
                 [])
                [(((UniqueDef (ConstraintNameHS (T.pack "UniqueUser")))
                     (ConstraintNameDB (T.pack "unique_user")))
                    ((FieldNameHS (T.pack "login"), FieldNameDB (T.pack "login"))
                       GHC.Base.:| []))
                   []])
               [])
              [T.pack "Eq", T.pack "Show"])
             Data.Map.Internal.Tip)
            False)
           Nothing))
       [(((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "name")))
                (FieldNameDB (T.pack "name")))
               [])
              True)
             ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "login")))
                (FieldNameDB (T.pack "login")))
               [])
              True)
             ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "quasiPassword")))
                (FieldNameDB (T.pack "quasi_password")))
               [])
              True)
             ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "created")))
                (FieldNameDB (T.pack "created")))
               [])
              True)
             ((FTTypeCon Nothing) (T.pack "UTCTime")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "isAdmin")))
                (FieldNameDB (T.pack "is_admin")))
               [])
              True)
             ((FTTypeCon Nothing) (T.pack "Bool")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "isPublisher")))
                (FieldNameDB (T.pack "is_publisher")))
               [])
              True)
             ((FTTypeCon Nothing) (T.pack "Bool")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing],
     (((Database.Persist.Quasi.Internal.UnboundEntityDef [])
         (Database.Persist.Quasi.Internal.DefaultKey
            (FieldNameDB (T.pack "id"))))
        (((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                     (EntityNameHS (T.pack "Category")))
                    (EntityNameDB (T.pack "categories")))
                   (EntityIdField
                      (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                  (FieldNameDB (T.pack "id")))
                                 ((FTTypeCon Nothing) (T.pack "CategoryId")))
                                SqlInt64)
                               [])
                              True)
                             NoReference)
                            ((FieldCascade Nothing) Nothing))
                           Nothing)
                          Nothing)
                         True)))
                  [T.pack "sql=categories"])
                 [])
                [(((UniqueDef (ConstraintNameHS (T.pack "UniqueCategory")))
                     (ConstraintNameDB (T.pack "unique_category")))
                    ((FieldNameHS (T.pack "label"), FieldNameDB (T.pack "label"))
                       GHC.Base.:| []))
                   []])
               [])
              [T.pack "Eq", T.pack "Show"])
             Data.Map.Internal.Tip)
            False)
           Nothing))
       [(((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "label")))
                (FieldNameDB (T.pack "label")))
               [])
              True)
             ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "parent")))
                (FieldNameDB (T.pack "parent")))
               [FieldAttrMaybe])
              True)
             ((FTTypeCon Nothing) (T.pack "CategoryId")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing],
     (((Database.Persist.Quasi.Internal.UnboundEntityDef [])
         (Database.Persist.Quasi.Internal.DefaultKey
            (FieldNameDB (T.pack "id"))))
        (((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                     (EntityNameHS (T.pack "News")))
                    (EntityNameDB (T.pack "news")))
                   (EntityIdField
                      (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                  (FieldNameDB (T.pack "id")))
                                 ((FTTypeCon Nothing) (T.pack "NewsId")))
                                SqlInt64)
                               [])
                              True)
                             NoReference)
                            ((FieldCascade Nothing) Nothing))
                           Nothing)
                          Nothing)
                         True)))
                  [T.pack "sql=news"])
                 [])
                [(((UniqueDef (ConstraintNameHS (T.pack "UniqueNews")))
                     (ConstraintNameDB (T.pack "unique_news")))
                    ((FieldNameHS (T.pack "title"), FieldNameDB (T.pack "title"))
                       GHC.Base.:| []))
                   []])
               [])
              [T.pack "Eq", T.pack "Show"])
             Data.Map.Internal.Tip)
            False)
           Nothing))
       [(((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "title")))
                (FieldNameDB (T.pack "title")))
               [])
              True)
             ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "created")))
                (FieldNameDB (T.pack "created")))
               [])
              True)
             ((FTTypeCon Nothing) (T.pack "UTCTime")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "userId")))
                (FieldNameDB (T.pack "user_id")))
               [])
              True)
             ((FTTypeCon Nothing) (T.pack "UserId")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "categoryId")))
                (FieldNameDB (T.pack "category_id")))
               [])
              True)
             ((FTTypeCon Nothing) (T.pack "CategoryId")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "content")))
                (FieldNameDB (T.pack "content")))
               [])
              True)
             ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "imagesIds")))
                (FieldNameDB (T.pack "images_ids")))
               [])
              True)
             (FTList ((FTTypeCon Nothing) (T.pack "ImageId"))))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "isPublish")))
                (FieldNameDB (T.pack "is_publish")))
               [])
              True)
             ((FTTypeCon Nothing) (T.pack "Bool")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing],
     (((Database.Persist.Quasi.Internal.UnboundEntityDef [])
         (Database.Persist.Quasi.Internal.DefaultKey
            (FieldNameDB (T.pack "id"))))
        (((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                     (EntityNameHS (T.pack "Image")))
                    (EntityNameDB (T.pack "images")))
                   (EntityIdField
                      (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                  (FieldNameDB (T.pack "id")))
                                 ((FTTypeCon Nothing) (T.pack "ImageId")))
                                SqlInt64)
                               [])
                              True)
                             NoReference)
                            ((FieldCascade Nothing) Nothing))
                           Nothing)
                          Nothing)
                         True)))
                  [T.pack "sql=images"])
                 [])
                [(((UniqueDef (ConstraintNameHS (T.pack "UniqueImage")))
                     (ConstraintNameDB (T.pack "unique_image")))
                    ((FieldNameHS (T.pack "header"), FieldNameDB (T.pack "header"))
                       GHC.Base.:|
                         [(FieldNameHS (T.pack "base64"), FieldNameDB (T.pack "base64"))]))
                   []])
               [])
              [T.pack "Eq", T.pack "Show"])
             Data.Map.Internal.Tip)
            False)
           Nothing))
       [(((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "header")))
                (FieldNameDB (T.pack "header")))
               [])
              True)
             ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "base64")))
                (FieldNameDB (T.pack "base64")))
               [])
              True)
             ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing],
     (((Database.Persist.Quasi.Internal.UnboundEntityDef [])
         (Database.Persist.Quasi.Internal.NaturalKey
            ((Database.Persist.Quasi.Internal.UnboundCompositeDef
                [FieldNameHS (T.pack "newsId"), FieldNameHS (T.pack "imageId")])
               [])))
        (((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                     (EntityNameHS (T.pack "ImageBank")))
                    (EntityNameDB (T.pack "images_bank")))
                   (EntityIdField
                      (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                  (FieldNameDB (T.pack "id")))
                                 ((FTTypeCon Nothing) (T.pack "ImageBankId")))
                                (SqlOther (T.pack "Primary Key")))
                               [])
                              True)
                             NoReference)
                            ((FieldCascade Nothing) Nothing))
                           Nothing)
                          Nothing)
                         True)))
                  [T.pack "sql=images_bank"])
                 [])
                [])
               [])
              [T.pack "Eq", T.pack "Show"])
             Data.Map.Internal.Tip)
            False)
           Nothing))
       [(((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "newsId")))
                (FieldNameDB (T.pack "news_id")))
               [])
              True)
             ((FTTypeCon Nothing) (T.pack "NewsId")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "imageId")))
                (FieldNameDB (T.pack "image_id")))
               [])
              True)
             ((FTTypeCon Nothing) (T.pack "ImageId")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing]]
/home/h/projects/webServer/src/Base/BasicSchema.hs:(61,1)-(97,2): Splicing declarations
    PTH.share
      [PTH.mkPersist PTH.sqlSettings, PTH.mkMigrate "migrateAll"]
      ([(((Database.Persist.Quasi.Internal.UnboundEntityDef [])
            (Database.Persist.Quasi.Internal.DefaultKey
               (FieldNameDB (T.pack "id"))))
           (((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                        (EntityNameHS (T.pack "User")))
                       (EntityNameDB (T.pack "users")))
                      (EntityIdField
                         (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                     (FieldNameDB (T.pack "id")))
                                    ((FTTypeCon Nothing) (T.pack "UserId")))
                                   SqlInt64)
                                  [])
                                 True)
                                NoReference)
                               ((FieldCascade Nothing) Nothing))
                              Nothing)
                             Nothing)
                            True)))
                     [T.pack "sql=users"])
                    [])
                   [(((UniqueDef (ConstraintNameHS (T.pack "UniqueUser")))
                        (ConstraintNameDB (T.pack "unique_user")))
                       ((FieldNameHS (T.pack "login"), FieldNameDB (T.pack "login"))
                          GHC.Base.:| []))
                      []])
                  [])
                 [T.pack "Eq", T.pack "Show"])
                Data.Map.Internal.Tip)
               False)
              Nothing))
          [(((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "name")))
                   (FieldNameDB (T.pack "name")))
                  [])
                 True)
                ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "login")))
                   (FieldNameDB (T.pack "login")))
                  [])
                 True)
                ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "quasiPassword")))
                   (FieldNameDB (T.pack "quasi_password")))
                  [])
                 True)
                ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "created")))
                   (FieldNameDB (T.pack "created")))
                  [])
                 True)
                ((FTTypeCon Nothing) (T.pack "UTCTime")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "isAdmin")))
                   (FieldNameDB (T.pack "is_admin")))
                  [])
                 True)
                ((FTTypeCon Nothing) (T.pack "Bool")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "isPublisher")))
                   (FieldNameDB (T.pack "is_publisher")))
                  [])
                 True)
                ((FTTypeCon Nothing) (T.pack "Bool")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing],
        (((Database.Persist.Quasi.Internal.UnboundEntityDef [])
            (Database.Persist.Quasi.Internal.DefaultKey
               (FieldNameDB (T.pack "id"))))
           (((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                        (EntityNameHS (T.pack "Category")))
                       (EntityNameDB (T.pack "categories")))
                      (EntityIdField
                         (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                     (FieldNameDB (T.pack "id")))
                                    ((FTTypeCon Nothing) (T.pack "CategoryId")))
                                   SqlInt64)
                                  [])
                                 True)
                                NoReference)
                               ((FieldCascade Nothing) Nothing))
                              Nothing)
                             Nothing)
                            True)))
                     [T.pack "sql=categories"])
                    [])
                   [(((UniqueDef (ConstraintNameHS (T.pack "UniqueCategory")))
                        (ConstraintNameDB (T.pack "unique_category")))
                       ((FieldNameHS (T.pack "label"), FieldNameDB (T.pack "label"))
                          GHC.Base.:| []))
                      []])
                  [])
                 [T.pack "Eq", T.pack "Show"])
                Data.Map.Internal.Tip)
               False)
              Nothing))
          [(((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "label")))
                   (FieldNameDB (T.pack "label")))
                  [])
                 True)
                ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "parent")))
                   (FieldNameDB (T.pack "parent")))
                  [FieldAttrMaybe])
                 True)
                ((FTTypeCon Nothing) (T.pack "CategoryId")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing],
        (((Database.Persist.Quasi.Internal.UnboundEntityDef [])
            (Database.Persist.Quasi.Internal.DefaultKey
               (FieldNameDB (T.pack "id"))))
           (((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                        (EntityNameHS (T.pack "News")))
                       (EntityNameDB (T.pack "news")))
                      (EntityIdField
                         (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                     (FieldNameDB (T.pack "id")))
                                    ((FTTypeCon Nothing) (T.pack "NewsId")))
                                   SqlInt64)
                                  [])
                                 True)
                                NoReference)
                               ((FieldCascade Nothing) Nothing))
                              Nothing)
                             Nothing)
                            True)))
                     [T.pack "sql=news"])
                    [])
                   [(((UniqueDef (ConstraintNameHS (T.pack "UniqueNews")))
                        (ConstraintNameDB (T.pack "unique_news")))
                       ((FieldNameHS (T.pack "title"), FieldNameDB (T.pack "title"))
                          GHC.Base.:| []))
                      []])
                  [])
                 [T.pack "Eq", T.pack "Show"])
                Data.Map.Internal.Tip)
               False)
              Nothing))
          [(((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "title")))
                   (FieldNameDB (T.pack "title")))
                  [])
                 True)
                ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "created")))
                   (FieldNameDB (T.pack "created")))
                  [])
                 True)
                ((FTTypeCon Nothing) (T.pack "UTCTime")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "userId")))
                   (FieldNameDB (T.pack "user_id")))
                  [])
                 True)
                ((FTTypeCon Nothing) (T.pack "UserId")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "categoryId")))
                   (FieldNameDB (T.pack "category_id")))
                  [])
                 True)
                ((FTTypeCon Nothing) (T.pack "CategoryId")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "content")))
                   (FieldNameDB (T.pack "content")))
                  [])
                 True)
                ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "imagesIds")))
                   (FieldNameDB (T.pack "images_ids")))
                  [])
                 True)
                (FTList ((FTTypeCon Nothing) (T.pack "ImageId"))))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "isPublish")))
                   (FieldNameDB (T.pack "is_publish")))
                  [])
                 True)
                ((FTTypeCon Nothing) (T.pack "Bool")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing],
        (((Database.Persist.Quasi.Internal.UnboundEntityDef [])
            (Database.Persist.Quasi.Internal.DefaultKey
               (FieldNameDB (T.pack "id"))))
           (((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                        (EntityNameHS (T.pack "Image")))
                       (EntityNameDB (T.pack "images")))
                      (EntityIdField
                         (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                     (FieldNameDB (T.pack "id")))
                                    ((FTTypeCon Nothing) (T.pack "ImageId")))
                                   SqlInt64)
                                  [])
                                 True)
                                NoReference)
                               ((FieldCascade Nothing) Nothing))
                              Nothing)
                             Nothing)
                            True)))
                     [T.pack "sql=images"])
                    [])
                   [(((UniqueDef (ConstraintNameHS (T.pack "UniqueImage")))
                        (ConstraintNameDB (T.pack "unique_image")))
                       ((FieldNameHS (T.pack "header"), FieldNameDB (T.pack "header"))
                          GHC.Base.:|
                            [(FieldNameHS (T.pack "base64"), FieldNameDB (T.pack "base64"))]))
                      []])
                  [])
                 [T.pack "Eq", T.pack "Show"])
                Data.Map.Internal.Tip)
               False)
              Nothing))
          [(((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "header")))
                   (FieldNameDB (T.pack "header")))
                  [])
                 True)
                ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "base64")))
                   (FieldNameDB (T.pack "base64")))
                  [])
                 True)
                ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing],
        (((Database.Persist.Quasi.Internal.UnboundEntityDef [])
            (Database.Persist.Quasi.Internal.NaturalKey
               ((Database.Persist.Quasi.Internal.UnboundCompositeDef
                   [FieldNameHS (T.pack "newsId"), FieldNameHS (T.pack "imageId")])
                  [])))
           (((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                        (EntityNameHS (T.pack "ImageBank")))
                       (EntityNameDB (T.pack "images_bank")))
                      (EntityIdField
                         (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                     (FieldNameDB (T.pack "id")))
                                    ((FTTypeCon Nothing) (T.pack "ImageBankId")))
                                   (SqlOther (T.pack "Primary Key")))
                                  [])
                                 True)
                                NoReference)
                               ((FieldCascade Nothing) Nothing))
                              Nothing)
                             Nothing)
                            True)))
                     [T.pack "sql=images_bank"])
                    [])
                   [])
                  [])
                 [T.pack "Eq", T.pack "Show"])
                Data.Map.Internal.Tip)
               False)
              Nothing))
          [(((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "newsId")))
                   (FieldNameDB (T.pack "news_id")))
                  [])
                 True)
                ((FTTypeCon Nothing) (T.pack "NewsId")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "imageId")))
                   (FieldNameDB (T.pack "image_id")))
                  [])
                 True)
                ((FTTypeCon Nothing) (T.pack "ImageId")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing]])
  ======>
    instance PersistField User where
      toPersistValue = Database.Persist.TH.entityToPersistValueHelper
      fromPersistValue
        = Database.Persist.TH.entityFromPersistValueHelper
            ["name", "login", "quasiPassword", "created", "isAdmin",
             "isPublisher"]
    instance persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.PersistFieldSql User where
      persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
        _
        = SqlString
    instance PersistField Category where
      toPersistValue = Database.Persist.TH.entityToPersistValueHelper
      fromPersistValue
        = Database.Persist.TH.entityFromPersistValueHelper
            ["label", "parent"]
    instance persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.PersistFieldSql Category where
      persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
        _
        = SqlString
    instance PersistField News where
      toPersistValue = Database.Persist.TH.entityToPersistValueHelper
      fromPersistValue
        = Database.Persist.TH.entityFromPersistValueHelper
            ["title", "created", "userId", "categoryId", "content",
             "imagesIds", "isPublish"]
    instance persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.PersistFieldSql News where
      persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
        _
        = SqlString
    instance PersistField Image where
      toPersistValue = Database.Persist.TH.entityToPersistValueHelper
      fromPersistValue
        = Database.Persist.TH.entityFromPersistValueHelper
            ["header", "base64"]
    instance persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.PersistFieldSql Image where
      persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
        _
        = SqlString
    instance PersistField ImageBank where
      toPersistValue = Database.Persist.TH.entityToPersistValueHelper
      fromPersistValue
        = Database.Persist.TH.entityFromPersistValueHelper
            ["newsId", "imageId"]
    instance persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.PersistFieldSql ImageBank where
      persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
        _
        = SqlString
    data User
      = User {userName :: !T.Text,
              userLogin :: !T.Text,
              userQuasiPassword :: !T.Text,
              userCreated :: !UTCTime,
              userIsAdmin :: !Bool,
              userIsPublisher :: !Bool}
      deriving stock (Eq, Show)
    type UserId = Database.Persist.Key User
    instance PersistEntity User where
      type PersistEntityBackend User = Database.Persist.SqlBackend.Internal.SqlBackend
      data Unique User = UniqueUser T.Text
      newtype Database.Persist.Key User
        = UserKey {unUserKey :: (BackendKey Database.Persist.SqlBackend.Internal.SqlBackend)}
        deriving stock Show
        deriving stock Read
        deriving newtype Eq
        deriving newtype Ord
        deriving newtype path-pieces-0.2.1-E15XfVOwfTfIr2VliI4YGA:Web.PathPieces.PathPiece
        deriving newtype http-api-data-0.4.3-8AwfdtQImWAISYRgwZNRi0:Web.Internal.HttpApiData.ToHttpApiData
        deriving newtype http-api-data-0.4.3-8AwfdtQImWAISYRgwZNRi0:Web.Internal.HttpApiData.FromHttpApiData
        deriving newtype PersistField
        deriving newtype persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.PersistFieldSql
        deriving newtype ToJSON
        deriving newtype FromJSON
      data EntityField User typ
        = (typ ~ UserId) => UserId |
          (typ ~ T.Text) => UserName |
          (typ ~ T.Text) => UserLogin |
          (typ ~ T.Text) => UserQuasiPassword |
          (typ ~ UTCTime) => UserCreated |
          (typ ~ Bool) => UserIsAdmin |
          (typ ~ Bool) => UserIsPublisher
      keyToValues
        = ((: []) . (toPersistValue . (\ UserKey {unUserKey = x} -> x)))
      keyFromValues
        = (fmap UserKey
             . (fromPersistValue . Database.Persist.TH.headNote))
      keyFromRecordM = Nothing
      entityDef _
        = ((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                      (EntityNameHS (T.pack "User")))
                     (EntityNameDB (T.pack "users")))
                    (EntityIdField
                       (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                   (FieldNameDB (T.pack "id")))
                                  ((FTTypeCon Nothing) (T.pack "UserId")))
                                 SqlInt64)
                                [])
                               True)
                              NoReference)
                             ((FieldCascade Nothing) Nothing))
                            Nothing)
                           Nothing)
                          True)))
                   [T.pack "sql=users"])
                  [])
                 [(((UniqueDef (ConstraintNameHS (T.pack "UniqueUser")))
                      (ConstraintNameDB (T.pack "unique_user")))
                     ((FieldNameHS (T.pack "login"), FieldNameDB (T.pack "login"))
                        GHC.Base.:| []))
                    []])
                [])
               [T.pack "Eq", T.pack "Show"])
              Data.Map.Internal.Tip)
             False)
            Nothing
            {persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityFields = [FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "name"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "name"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      (Just
                                                                                                                         (T.pack
                                                                                                                            "T")))
                                                                                                                     (T.pack
                                                                                                                        "Text"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy T.Text),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "login"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "login"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      (Just
                                                                                                                         (T.pack
                                                                                                                            "T")))
                                                                                                                     (T.pack
                                                                                                                        "Text"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy T.Text),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "quasiPassword"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "quasi_password"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      (Just
                                                                                                                         (T.pack
                                                                                                                            "T")))
                                                                                                                     (T.pack
                                                                                                                        "Text"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy T.Text),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "created"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "created"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      Nothing)
                                                                                                                     (T.pack
                                                                                                                        "UTCTime"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy UTCTime),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "isAdmin"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "is_admin"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      Nothing)
                                                                                                                     (T.pack
                                                                                                                        "Bool"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy Bool),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "isPublisher"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "is_publisher"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      Nothing)
                                                                                                                     (T.pack
                                                                                                                        "Bool"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy Bool),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False}],
             persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityId = EntityIdField
                                                                                                 (((((((((((FieldDef
                                                                                                              (FieldNameHS
                                                                                                                 (T.pack
                                                                                                                    "Id")))
                                                                                                             (FieldNameDB
                                                                                                                (T.pack
                                                                                                                   "id")))
                                                                                                            ((FTTypeCon
                                                                                                                Nothing)
                                                                                                               (T.pack
                                                                                                                  "UserId")))
                                                                                                           SqlInt64)
                                                                                                          [])
                                                                                                         True)
                                                                                                        NoReference)
                                                                                                       ((FieldCascade
                                                                                                           Nothing)
                                                                                                          Nothing))
                                                                                                      Nothing)
                                                                                                     Nothing)
                                                                                                    True),
             persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityForeigns = []}
      toPersistFields
        (User x_a1ahv x_a1ahw x_a1ahx x_a1ahy x_a1ahz x_a1ahA)
        = [SomePersistField x_a1ahv, SomePersistField x_a1ahw,
           SomePersistField x_a1ahx, SomePersistField x_a1ahy,
           SomePersistField x_a1ahz, SomePersistField x_a1ahA]
      fromPersistValues
        [x1_a1ahC, x2_a1ahD, x3_a1ahE, x4_a1ahF, x5_a1ahG, x6_a1ahH]
        = User
            <$>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "users")) (T.pack "name"))
                 . fromPersistValue)
                x1_a1ahC
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "users")) (T.pack "login"))
                 . fromPersistValue)
                x2_a1ahD
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "users")) (T.pack "quasiPassword"))
                 . fromPersistValue)
                x3_a1ahE
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "users")) (T.pack "created"))
                 . fromPersistValue)
                x4_a1ahF
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "users")) (T.pack "isAdmin"))
                 . fromPersistValue)
                x5_a1ahG
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "users")) (T.pack "isPublisher"))
                 . fromPersistValue)
                x6_a1ahH
      fromPersistValues x_a1ahB
        = (Left
             $ (mappend (T.pack "User: fromPersistValues failed on: "))
                 (T.pack $ show x_a1ahB))
      persistUniqueToFieldNames UniqueUser {}
        = ((FieldNameHS (T.pack "login"), FieldNameDB (T.pack "login"))
             GHC.Base.:| [])
      persistUniqueToValues (UniqueUser x_a1ahI)
        = [toPersistValue x_a1ahI]
      persistUniqueKeys
        (User _name_a1ahJ _login_a1ahK _quasiPassword_a1ahL _created_a1ahM
              _isAdmin_a1ahN _isPublisher_a1ahO)
        = [UniqueUser _login_a1ahK]
      persistFieldDef UserId
        = Database.Persist.TH.stripIdFieldImpl
            (EntityIdField
               (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                           (FieldNameDB (T.pack "id")))
                          ((FTTypeCon Nothing) (T.pack "UserId")))
                         SqlInt64)
                        [])
                       True)
                      NoReference)
                     ((FieldCascade Nothing) Nothing))
                    Nothing)
                   Nothing)
                  True))
      persistFieldDef UserName
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy User))
            (FieldNameHS (T.pack "name"))
      persistFieldDef UserLogin
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy User))
            (FieldNameHS (T.pack "login"))
      persistFieldDef UserQuasiPassword
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy User))
            (FieldNameHS (T.pack "quasiPassword"))
      persistFieldDef UserCreated
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy User))
            (FieldNameHS (T.pack "created"))
      persistFieldDef UserIsAdmin
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy User))
            (FieldNameHS (T.pack "isAdmin"))
      persistFieldDef UserIsPublisher
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy User))
            (FieldNameHS (T.pack "isPublisher"))
      persistIdField = UserId
      fieldLens UserId
        = (PTH.lensPTH entityKey)
            (\ (Entity _ value_a1ahQ) key_a1ahR
               -> (Entity key_a1ahR) value_a1ahQ)
      fieldLens UserName
        = (PTH.lensPTH ((\ User {userName = x} -> x) . entityVal))
            (\ (Entity key_a1ahS value_a1ahT) x_a1ahU
               -> (Entity key_a1ahS)
                    (case value_a1ahT of
                       User {userLogin = userLogin, userQuasiPassword = userQuasiPassword,
                             userCreated = userCreated, userIsAdmin = userIsAdmin,
                             userIsPublisher = userIsPublisher}
                         -> User
                              {userName = x_a1ahU, userLogin = userLogin,
                               userQuasiPassword = userQuasiPassword, userCreated = userCreated,
                               userIsAdmin = userIsAdmin, userIsPublisher = userIsPublisher}))
      fieldLens UserLogin
        = (PTH.lensPTH ((\ User {userLogin = x} -> x) . entityVal))
            (\ (Entity key_a1ahS value_a1ahT) x_a1ahU
               -> (Entity key_a1ahS)
                    (case value_a1ahT of
                       User {userName = userName, userQuasiPassword = userQuasiPassword,
                             userCreated = userCreated, userIsAdmin = userIsAdmin,
                             userIsPublisher = userIsPublisher}
                         -> User
                              {userName = userName, userLogin = x_a1ahU,
                               userQuasiPassword = userQuasiPassword, userCreated = userCreated,
                               userIsAdmin = userIsAdmin, userIsPublisher = userIsPublisher}))
      fieldLens UserQuasiPassword
        = (PTH.lensPTH ((\ User {userQuasiPassword = x} -> x) . entityVal))
            (\ (Entity key_a1ahS value_a1ahT) x_a1ahU
               -> (Entity key_a1ahS)
                    (case value_a1ahT of
                       User {userName = userName, userLogin = userLogin,
                             userCreated = userCreated, userIsAdmin = userIsAdmin,
                             userIsPublisher = userIsPublisher}
                         -> User
                              {userName = userName, userLogin = userLogin,
                               userQuasiPassword = x_a1ahU, userCreated = userCreated,
                               userIsAdmin = userIsAdmin, userIsPublisher = userIsPublisher}))
      fieldLens UserCreated
        = (PTH.lensPTH ((\ User {userCreated = x} -> x) . entityVal))
            (\ (Entity key_a1ahS value_a1ahT) x_a1ahU
               -> (Entity key_a1ahS)
                    (case value_a1ahT of
                       User {userName = userName, userLogin = userLogin,
                             userQuasiPassword = userQuasiPassword, userIsAdmin = userIsAdmin,
                             userIsPublisher = userIsPublisher}
                         -> User
                              {userName = userName, userLogin = userLogin,
                               userQuasiPassword = userQuasiPassword, userCreated = x_a1ahU,
                               userIsAdmin = userIsAdmin, userIsPublisher = userIsPublisher}))
      fieldLens UserIsAdmin
        = (PTH.lensPTH ((\ User {userIsAdmin = x} -> x) . entityVal))
            (\ (Entity key_a1ahS value_a1ahT) x_a1ahU
               -> (Entity key_a1ahS)
                    (case value_a1ahT of
                       User {userName = userName, userLogin = userLogin,
                             userQuasiPassword = userQuasiPassword, userCreated = userCreated,
                             userIsPublisher = userIsPublisher}
                         -> User
                              {userName = userName, userLogin = userLogin,
                               userQuasiPassword = userQuasiPassword, userCreated = userCreated,
                               userIsAdmin = x_a1ahU, userIsPublisher = userIsPublisher}))
      fieldLens UserIsPublisher
        = (PTH.lensPTH ((\ User {userIsPublisher = x} -> x) . entityVal))
            (\ (Entity key_a1ahS value_a1ahT) x_a1ahU
               -> (Entity key_a1ahS)
                    (case value_a1ahT of
                       User {userName = userName, userLogin = userLogin,
                             userQuasiPassword = userQuasiPassword, userCreated = userCreated,
                             userIsAdmin = userIsAdmin}
                         -> User
                              {userName = userName, userLogin = userLogin,
                               userQuasiPassword = userQuasiPassword, userCreated = userCreated,
                               userIsAdmin = userIsAdmin, userIsPublisher = x_a1ahU}))
    instance ToBackendKey Database.Persist.SqlBackend.Internal.SqlBackend User where
      toBackendKey = \ UserKey {unUserKey = x} -> x
      fromBackendKey = UserKey
    data Category
      = Category {categoryLabel :: !T.Text,
                  categoryParent :: !(Maybe CategoryId)}
      deriving stock (Eq, Show)
    type CategoryId = Database.Persist.Key Category
    instance PersistEntity Category where
      type PersistEntityBackend Category = Database.Persist.SqlBackend.Internal.SqlBackend
      data Unique Category = UniqueCategory T.Text
      newtype Database.Persist.Key Category
        = CategoryKey {unCategoryKey :: (BackendKey Database.Persist.SqlBackend.Internal.SqlBackend)}
        deriving stock Show
        deriving stock Read
        deriving newtype Eq
        deriving newtype Ord
        deriving newtype path-pieces-0.2.1-E15XfVOwfTfIr2VliI4YGA:Web.PathPieces.PathPiece
        deriving newtype http-api-data-0.4.3-8AwfdtQImWAISYRgwZNRi0:Web.Internal.HttpApiData.ToHttpApiData
        deriving newtype http-api-data-0.4.3-8AwfdtQImWAISYRgwZNRi0:Web.Internal.HttpApiData.FromHttpApiData
        deriving newtype PersistField
        deriving newtype persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.PersistFieldSql
        deriving newtype ToJSON
        deriving newtype FromJSON
      data EntityField Category typ
        = (typ ~ CategoryId) => CategoryId |
          (typ ~ T.Text) => CategoryLabel |
          (typ ~ Maybe CategoryId) => CategoryParent
      keyToValues
        = ((: [])
             . (toPersistValue . (\ CategoryKey {unCategoryKey = x} -> x)))
      keyFromValues
        = (fmap CategoryKey
             . (fromPersistValue . Database.Persist.TH.headNote))
      keyFromRecordM = Nothing
      entityDef _
        = ((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                      (EntityNameHS (T.pack "Category")))
                     (EntityNameDB (T.pack "categories")))
                    (EntityIdField
                       (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                   (FieldNameDB (T.pack "id")))
                                  ((FTTypeCon Nothing) (T.pack "CategoryId")))
                                 SqlInt64)
                                [])
                               True)
                              NoReference)
                             ((FieldCascade Nothing) Nothing))
                            Nothing)
                           Nothing)
                          True)))
                   [T.pack "sql=categories"])
                  [])
                 [(((UniqueDef (ConstraintNameHS (T.pack "UniqueCategory")))
                      (ConstraintNameDB (T.pack "unique_category")))
                     ((FieldNameHS (T.pack "label"), FieldNameDB (T.pack "label"))
                        GHC.Base.:| []))
                    []])
                [])
               [T.pack "Eq", T.pack "Show"])
              Data.Map.Internal.Tip)
             False)
            Nothing
            {persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityFields = [FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "label"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "label"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      (Just
                                                                                                                         (T.pack
                                                                                                                            "T")))
                                                                                                                     (T.pack
                                                                                                                        "Text"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy T.Text),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "parent"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "parent"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      Nothing)
                                                                                                                     (T.pack
                                                                                                                        "CategoryId"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy CategoryId),
                                                                                                       fieldAttrs = [FieldAttrMaybe],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = ForeignRef
                                                                                                                          (EntityNameHS
                                                                                                                             (T.pack
                                                                                                                                "Category")),
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False}],
             persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityId = EntityIdField
                                                                                                 (((((((((((FieldDef
                                                                                                              (FieldNameHS
                                                                                                                 (T.pack
                                                                                                                    "Id")))
                                                                                                             (FieldNameDB
                                                                                                                (T.pack
                                                                                                                   "id")))
                                                                                                            ((FTTypeCon
                                                                                                                Nothing)
                                                                                                               (T.pack
                                                                                                                  "CategoryId")))
                                                                                                           SqlInt64)
                                                                                                          [])
                                                                                                         True)
                                                                                                        NoReference)
                                                                                                       ((FieldCascade
                                                                                                           Nothing)
                                                                                                          Nothing))
                                                                                                      Nothing)
                                                                                                     Nothing)
                                                                                                    True),
             persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityForeigns = []}
      toPersistFields (Category x_a1ahV x_a1ahW)
        = [SomePersistField x_a1ahV, SomePersistField x_a1ahW]
      fromPersistValues [x1_a1ahY, x2_a1ahZ]
        = Category
            <$>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "categories")) (T.pack "label"))
                 . fromPersistValue)
                x1_a1ahY
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "categories")) (T.pack "parent"))
                 . fromPersistValue)
                x2_a1ahZ
      fromPersistValues x_a1ahX
        = (Left
             $ (mappend (T.pack "Category: fromPersistValues failed on: "))
                 (T.pack $ show x_a1ahX))
      persistUniqueToFieldNames UniqueCategory {}
        = ((FieldNameHS (T.pack "label"), FieldNameDB (T.pack "label"))
             GHC.Base.:| [])
      persistUniqueToValues (UniqueCategory x_a1ai0)
        = [toPersistValue x_a1ai0]
      persistUniqueKeys (Category _label_a1ai1 _parent_a1ai2)
        = [UniqueCategory _label_a1ai1]
      persistFieldDef CategoryId
        = Database.Persist.TH.stripIdFieldImpl
            (EntityIdField
               (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                           (FieldNameDB (T.pack "id")))
                          ((FTTypeCon Nothing) (T.pack "CategoryId")))
                         SqlInt64)
                        [])
                       True)
                      NoReference)
                     ((FieldCascade Nothing) Nothing))
                    Nothing)
                   Nothing)
                  True))
      persistFieldDef CategoryLabel
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy Category))
            (FieldNameHS (T.pack "label"))
      persistFieldDef CategoryParent
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy Category))
            (FieldNameHS (T.pack "parent"))
      persistIdField = CategoryId
      fieldLens CategoryId
        = (PTH.lensPTH entityKey)
            (\ (Entity _ value_a1ai4) key_a1ai5
               -> (Entity key_a1ai5) value_a1ai4)
      fieldLens CategoryLabel
        = (PTH.lensPTH ((\ Category {categoryLabel = x} -> x) . entityVal))
            (\ (Entity key_a1ai6 value_a1ai7) x_a1ai8
               -> (Entity key_a1ai6)
                    (case value_a1ai7 of
                       Category {categoryParent = categoryParent}
                         -> Category
                              {categoryLabel = x_a1ai8, categoryParent = categoryParent}))
      fieldLens CategoryParent
        = (PTH.lensPTH
             ((\ Category {categoryParent = x} -> x) . entityVal))
            (\ (Entity key_a1ai6 value_a1ai7) x_a1ai8
               -> (Entity key_a1ai6)
                    (case value_a1ai7 of
                       Category {categoryLabel = categoryLabel}
                         -> Category
                              {categoryLabel = categoryLabel, categoryParent = x_a1ai8}))
    instance ToBackendKey Database.Persist.SqlBackend.Internal.SqlBackend Category where
      toBackendKey = \ CategoryKey {unCategoryKey = x} -> x
      fromBackendKey = CategoryKey
    data News
      = News {newsTitle :: !T.Text,
              newsCreated :: !UTCTime,
              newsUserId :: !UserId,
              newsCategoryId :: !CategoryId,
              newsContent :: !T.Text,
              newsImagesIds :: ![ImageId],
              newsIsPublish :: !Bool}
      deriving stock (Eq, Show)
    type NewsId = Database.Persist.Key News
    instance PersistEntity News where
      type PersistEntityBackend News = Database.Persist.SqlBackend.Internal.SqlBackend
      data Unique News = UniqueNews T.Text
      newtype Database.Persist.Key News
        = NewsKey {unNewsKey :: (BackendKey Database.Persist.SqlBackend.Internal.SqlBackend)}
        deriving stock Show
        deriving stock Read
        deriving newtype Eq
        deriving newtype Ord
        deriving newtype path-pieces-0.2.1-E15XfVOwfTfIr2VliI4YGA:Web.PathPieces.PathPiece
        deriving newtype http-api-data-0.4.3-8AwfdtQImWAISYRgwZNRi0:Web.Internal.HttpApiData.ToHttpApiData
        deriving newtype http-api-data-0.4.3-8AwfdtQImWAISYRgwZNRi0:Web.Internal.HttpApiData.FromHttpApiData
        deriving newtype PersistField
        deriving newtype persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.PersistFieldSql
        deriving newtype ToJSON
        deriving newtype FromJSON
      data EntityField News typ
        = (typ ~ NewsId) => NewsId |
          (typ ~ T.Text) => NewsTitle |
          (typ ~ UTCTime) => NewsCreated |
          (typ ~ UserId) => NewsUserId |
          (typ ~ CategoryId) => NewsCategoryId |
          (typ ~ T.Text) => NewsContent |
          (typ ~ [ImageId]) => NewsImagesIds |
          (typ ~ Bool) => NewsIsPublish
      keyToValues
        = ((: []) . (toPersistValue . (\ NewsKey {unNewsKey = x} -> x)))
      keyFromValues
        = (fmap NewsKey
             . (fromPersistValue . Database.Persist.TH.headNote))
      keyFromRecordM = Nothing
      entityDef _
        = ((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                      (EntityNameHS (T.pack "News")))
                     (EntityNameDB (T.pack "news")))
                    (EntityIdField
                       (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                   (FieldNameDB (T.pack "id")))
                                  ((FTTypeCon Nothing) (T.pack "NewsId")))
                                 SqlInt64)
                                [])
                               True)
                              NoReference)
                             ((FieldCascade Nothing) Nothing))
                            Nothing)
                           Nothing)
                          True)))
                   [T.pack "sql=news"])
                  [])
                 [(((UniqueDef (ConstraintNameHS (T.pack "UniqueNews")))
                      (ConstraintNameDB (T.pack "unique_news")))
                     ((FieldNameHS (T.pack "title"), FieldNameDB (T.pack "title"))
                        GHC.Base.:| []))
                    []])
                [])
               [T.pack "Eq", T.pack "Show"])
              Data.Map.Internal.Tip)
             False)
            Nothing
            {persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityFields = [FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "title"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "title"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      (Just
                                                                                                                         (T.pack
                                                                                                                            "T")))
                                                                                                                     (T.pack
                                                                                                                        "Text"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy T.Text),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "created"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "created"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      Nothing)
                                                                                                                     (T.pack
                                                                                                                        "UTCTime"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy UTCTime),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "userId"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "user_id"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      Nothing)
                                                                                                                     (T.pack
                                                                                                                        "UserId"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy UserId),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = ForeignRef
                                                                                                                          (EntityNameHS
                                                                                                                             (T.pack
                                                                                                                                "User")),
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "categoryId"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "category_id"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      Nothing)
                                                                                                                     (T.pack
                                                                                                                        "CategoryId"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy CategoryId),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = ForeignRef
                                                                                                                          (EntityNameHS
                                                                                                                             (T.pack
                                                                                                                                "Category")),
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "content"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "content"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      (Just
                                                                                                                         (T.pack
                                                                                                                            "T")))
                                                                                                                     (T.pack
                                                                                                                        "Text"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy T.Text),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "imagesIds"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "images_ids"),
                                                                                                       fieldType = FTList
                                                                                                                     ((FTTypeCon
                                                                                                                         Nothing)
                                                                                                                        (T.pack
                                                                                                                           "ImageId")),
                                                                                                       fieldSqlType = SqlString,
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "isPublish"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "is_publish"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      Nothing)
                                                                                                                     (T.pack
                                                                                                                        "Bool"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy Bool),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False}],
             persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityId = EntityIdField
                                                                                                 (((((((((((FieldDef
                                                                                                              (FieldNameHS
                                                                                                                 (T.pack
                                                                                                                    "Id")))
                                                                                                             (FieldNameDB
                                                                                                                (T.pack
                                                                                                                   "id")))
                                                                                                            ((FTTypeCon
                                                                                                                Nothing)
                                                                                                               (T.pack
                                                                                                                  "NewsId")))
                                                                                                           SqlInt64)
                                                                                                          [])
                                                                                                         True)
                                                                                                        NoReference)
                                                                                                       ((FieldCascade
                                                                                                           Nothing)
                                                                                                          Nothing))
                                                                                                      Nothing)
                                                                                                     Nothing)
                                                                                                    True),
             persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityForeigns = []}
      toPersistFields
        (News x_a1ai9 x_a1aia x_a1aib x_a1aic x_a1aid x_a1aie x_a1aif)
        = [SomePersistField x_a1ai9, SomePersistField x_a1aia,
           SomePersistField x_a1aib, SomePersistField x_a1aic,
           SomePersistField x_a1aid, SomePersistField x_a1aie,
           SomePersistField x_a1aif]
      fromPersistValues
        [x1_a1aih,
         x2_a1aii,
         x3_a1aij,
         x4_a1aik,
         x5_a1ail,
         x6_a1aim,
         x7_a1ain]
        = News
            <$>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "news")) (T.pack "title"))
                 . fromPersistValue)
                x1_a1aih
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "news")) (T.pack "created"))
                 . fromPersistValue)
                x2_a1aii
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "news")) (T.pack "userId"))
                 . fromPersistValue)
                x3_a1aij
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "news")) (T.pack "categoryId"))
                 . fromPersistValue)
                x4_a1aik
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "news")) (T.pack "content"))
                 . fromPersistValue)
                x5_a1ail
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "news")) (T.pack "imagesIds"))
                 . fromPersistValue)
                x6_a1aim
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "news")) (T.pack "isPublish"))
                 . fromPersistValue)
                x7_a1ain
      fromPersistValues x_a1aig
        = (Left
             $ (mappend (T.pack "News: fromPersistValues failed on: "))
                 (T.pack $ show x_a1aig))
      persistUniqueToFieldNames UniqueNews {}
        = ((FieldNameHS (T.pack "title"), FieldNameDB (T.pack "title"))
             GHC.Base.:| [])
      persistUniqueToValues (UniqueNews x_a1aio)
        = [toPersistValue x_a1aio]
      persistUniqueKeys
        (News _title_a1aip _created_a1aiq _userId_a1air _categoryId_a1ais
              _content_a1ait _imagesIds_a1aiu _isPublish_a1aiv)
        = [UniqueNews _title_a1aip]
      persistFieldDef NewsId
        = Database.Persist.TH.stripIdFieldImpl
            (EntityIdField
               (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                           (FieldNameDB (T.pack "id")))
                          ((FTTypeCon Nothing) (T.pack "NewsId")))
                         SqlInt64)
                        [])
                       True)
                      NoReference)
                     ((FieldCascade Nothing) Nothing))
                    Nothing)
                   Nothing)
                  True))
      persistFieldDef NewsTitle
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy News))
            (FieldNameHS (T.pack "title"))
      persistFieldDef NewsCreated
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy News))
            (FieldNameHS (T.pack "created"))
      persistFieldDef NewsUserId
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy News))
            (FieldNameHS (T.pack "userId"))
      persistFieldDef NewsCategoryId
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy News))
            (FieldNameHS (T.pack "categoryId"))
      persistFieldDef NewsContent
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy News))
            (FieldNameHS (T.pack "content"))
      persistFieldDef NewsImagesIds
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy News))
            (FieldNameHS (T.pack "imagesIds"))
      persistFieldDef NewsIsPublish
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy News))
            (FieldNameHS (T.pack "isPublish"))
      persistIdField = NewsId
      fieldLens NewsId
        = (PTH.lensPTH entityKey)
            (\ (Entity _ value_a1aix) key_a1aiy
               -> (Entity key_a1aiy) value_a1aix)
      fieldLens NewsTitle
        = (PTH.lensPTH ((\ News {newsTitle = x} -> x) . entityVal))
            (\ (Entity key_a1aiz value_a1aiA) x_a1aiB
               -> (Entity key_a1aiz)
                    (case value_a1aiA of
                       News {newsCreated = newsCreated, newsUserId = newsUserId,
                             newsCategoryId = newsCategoryId, newsContent = newsContent,
                             newsImagesIds = newsImagesIds, newsIsPublish = newsIsPublish}
                         -> News
                              {newsTitle = x_a1aiB, newsCreated = newsCreated,
                               newsUserId = newsUserId, newsCategoryId = newsCategoryId,
                               newsContent = newsContent, newsImagesIds = newsImagesIds,
                               newsIsPublish = newsIsPublish}))
      fieldLens NewsCreated
        = (PTH.lensPTH ((\ News {newsCreated = x} -> x) . entityVal))
            (\ (Entity key_a1aiz value_a1aiA) x_a1aiB
               -> (Entity key_a1aiz)
                    (case value_a1aiA of
                       News {newsTitle = newsTitle, newsUserId = newsUserId,
                             newsCategoryId = newsCategoryId, newsContent = newsContent,
                             newsImagesIds = newsImagesIds, newsIsPublish = newsIsPublish}
                         -> News
                              {newsTitle = newsTitle, newsCreated = x_a1aiB,
                               newsUserId = newsUserId, newsCategoryId = newsCategoryId,
                               newsContent = newsContent, newsImagesIds = newsImagesIds,
                               newsIsPublish = newsIsPublish}))
      fieldLens NewsUserId
        = (PTH.lensPTH ((\ News {newsUserId = x} -> x) . entityVal))
            (\ (Entity key_a1aiz value_a1aiA) x_a1aiB
               -> (Entity key_a1aiz)
                    (case value_a1aiA of
                       News {newsTitle = newsTitle, newsCreated = newsCreated,
                             newsCategoryId = newsCategoryId, newsContent = newsContent,
                             newsImagesIds = newsImagesIds, newsIsPublish = newsIsPublish}
                         -> News
                              {newsTitle = newsTitle, newsCreated = newsCreated,
                               newsUserId = x_a1aiB, newsCategoryId = newsCategoryId,
                               newsContent = newsContent, newsImagesIds = newsImagesIds,
                               newsIsPublish = newsIsPublish}))
      fieldLens NewsCategoryId
        = (PTH.lensPTH ((\ News {newsCategoryId = x} -> x) . entityVal))
            (\ (Entity key_a1aiz value_a1aiA) x_a1aiB
               -> (Entity key_a1aiz)
                    (case value_a1aiA of
                       News {newsTitle = newsTitle, newsCreated = newsCreated,
                             newsUserId = newsUserId, newsContent = newsContent,
                             newsImagesIds = newsImagesIds, newsIsPublish = newsIsPublish}
                         -> News
                              {newsTitle = newsTitle, newsCreated = newsCreated,
                               newsUserId = newsUserId, newsCategoryId = x_a1aiB,
                               newsContent = newsContent, newsImagesIds = newsImagesIds,
                               newsIsPublish = newsIsPublish}))
      fieldLens NewsContent
        = (PTH.lensPTH ((\ News {newsContent = x} -> x) . entityVal))
            (\ (Entity key_a1aiz value_a1aiA) x_a1aiB
               -> (Entity key_a1aiz)
                    (case value_a1aiA of
                       News {newsTitle = newsTitle, newsCreated = newsCreated,
                             newsUserId = newsUserId, newsCategoryId = newsCategoryId,
                             newsImagesIds = newsImagesIds, newsIsPublish = newsIsPublish}
                         -> News
                              {newsTitle = newsTitle, newsCreated = newsCreated,
                               newsUserId = newsUserId, newsCategoryId = newsCategoryId,
                               newsContent = x_a1aiB, newsImagesIds = newsImagesIds,
                               newsIsPublish = newsIsPublish}))
      fieldLens NewsImagesIds
        = (PTH.lensPTH ((\ News {newsImagesIds = x} -> x) . entityVal))
            (\ (Entity key_a1aiz value_a1aiA) x_a1aiB
               -> (Entity key_a1aiz)
                    (case value_a1aiA of
                       News {newsTitle = newsTitle, newsCreated = newsCreated,
                             newsUserId = newsUserId, newsCategoryId = newsCategoryId,
                             newsContent = newsContent, newsIsPublish = newsIsPublish}
                         -> News
                              {newsTitle = newsTitle, newsCreated = newsCreated,
                               newsUserId = newsUserId, newsCategoryId = newsCategoryId,
                               newsContent = newsContent, newsImagesIds = x_a1aiB,
                               newsIsPublish = newsIsPublish}))
      fieldLens NewsIsPublish
        = (PTH.lensPTH ((\ News {newsIsPublish = x} -> x) . entityVal))
            (\ (Entity key_a1aiz value_a1aiA) x_a1aiB
               -> (Entity key_a1aiz)
                    (case value_a1aiA of
                       News {newsTitle = newsTitle, newsCreated = newsCreated,
                             newsUserId = newsUserId, newsCategoryId = newsCategoryId,
                             newsContent = newsContent, newsImagesIds = newsImagesIds}
                         -> News
                              {newsTitle = newsTitle, newsCreated = newsCreated,
                               newsUserId = newsUserId, newsCategoryId = newsCategoryId,
                               newsContent = newsContent, newsImagesIds = newsImagesIds,
                               newsIsPublish = x_a1aiB}))
    instance ToBackendKey Database.Persist.SqlBackend.Internal.SqlBackend News where
      toBackendKey = \ NewsKey {unNewsKey = x} -> x
      fromBackendKey = NewsKey
    data Image
      = Image {imageHeader :: !T.Text, imageBase64 :: !T.Text}
      deriving stock (Eq, Show)
    type ImageId = Database.Persist.Key Image
    instance PersistEntity Image where
      type PersistEntityBackend Image = Database.Persist.SqlBackend.Internal.SqlBackend
      data Unique Image = UniqueImage T.Text T.Text
      newtype Database.Persist.Key Image
        = ImageKey {unImageKey :: (BackendKey Database.Persist.SqlBackend.Internal.SqlBackend)}
        deriving stock Show
        deriving stock Read
        deriving newtype Eq
        deriving newtype Ord
        deriving newtype path-pieces-0.2.1-E15XfVOwfTfIr2VliI4YGA:Web.PathPieces.PathPiece
        deriving newtype http-api-data-0.4.3-8AwfdtQImWAISYRgwZNRi0:Web.Internal.HttpApiData.ToHttpApiData
        deriving newtype http-api-data-0.4.3-8AwfdtQImWAISYRgwZNRi0:Web.Internal.HttpApiData.FromHttpApiData
        deriving newtype PersistField
        deriving newtype persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.PersistFieldSql
        deriving newtype ToJSON
        deriving newtype FromJSON
      data EntityField Image typ
        = (typ ~ ImageId) => ImageId |
          (typ ~ T.Text) => ImageHeader |
          (typ ~ T.Text) => ImageBase64
      keyToValues
        = ((: []) . (toPersistValue . (\ ImageKey {unImageKey = x} -> x)))
      keyFromValues
        = (fmap ImageKey
             . (fromPersistValue . Database.Persist.TH.headNote))
      keyFromRecordM = Nothing
      entityDef _
        = ((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                      (EntityNameHS (T.pack "Image")))
                     (EntityNameDB (T.pack "images")))
                    (EntityIdField
                       (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                   (FieldNameDB (T.pack "id")))
                                  ((FTTypeCon Nothing) (T.pack "ImageId")))
                                 SqlInt64)
                                [])
                               True)
                              NoReference)
                             ((FieldCascade Nothing) Nothing))
                            Nothing)
                           Nothing)
                          True)))
                   [T.pack "sql=images"])
                  [])
                 [(((UniqueDef (ConstraintNameHS (T.pack "UniqueImage")))
                      (ConstraintNameDB (T.pack "unique_image")))
                     ((FieldNameHS (T.pack "header"), FieldNameDB (T.pack "header"))
                        GHC.Base.:|
                          [(FieldNameHS (T.pack "base64"), FieldNameDB (T.pack "base64"))]))
                    []])
                [])
               [T.pack "Eq", T.pack "Show"])
              Data.Map.Internal.Tip)
             False)
            Nothing
            {persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityFields = [FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "header"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "header"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      (Just
                                                                                                                         (T.pack
                                                                                                                            "T")))
                                                                                                                     (T.pack
                                                                                                                        "Text"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy T.Text),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "base64"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "base64"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      (Just
                                                                                                                         (T.pack
                                                                                                                            "T")))
                                                                                                                     (T.pack
                                                                                                                        "Text"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy T.Text),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False}],
             persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityId = EntityIdField
                                                                                                 (((((((((((FieldDef
                                                                                                              (FieldNameHS
                                                                                                                 (T.pack
                                                                                                                    "Id")))
                                                                                                             (FieldNameDB
                                                                                                                (T.pack
                                                                                                                   "id")))
                                                                                                            ((FTTypeCon
                                                                                                                Nothing)
                                                                                                               (T.pack
                                                                                                                  "ImageId")))
                                                                                                           SqlInt64)
                                                                                                          [])
                                                                                                         True)
                                                                                                        NoReference)
                                                                                                       ((FieldCascade
                                                                                                           Nothing)
                                                                                                          Nothing))
                                                                                                      Nothing)
                                                                                                     Nothing)
                                                                                                    True),
             persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityForeigns = []}
      toPersistFields (Image x_a1aiC x_a1aiD)
        = [SomePersistField x_a1aiC, SomePersistField x_a1aiD]
      fromPersistValues [x1_a1aiF, x2_a1aiG]
        = Image
            <$>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "images")) (T.pack "header"))
                 . fromPersistValue)
                x1_a1aiF
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "images")) (T.pack "base64"))
                 . fromPersistValue)
                x2_a1aiG
      fromPersistValues x_a1aiE
        = (Left
             $ (mappend (T.pack "Image: fromPersistValues failed on: "))
                 (T.pack $ show x_a1aiE))
      persistUniqueToFieldNames UniqueImage {}
        = ((FieldNameHS (T.pack "header"), FieldNameDB (T.pack "header"))
             GHC.Base.:|
               [(FieldNameHS (T.pack "base64"), FieldNameDB (T.pack "base64"))])
      persistUniqueToValues (UniqueImage x_a1aiH x_a1aiI)
        = [toPersistValue x_a1aiH, toPersistValue x_a1aiI]
      persistUniqueKeys (Image _header_a1aiJ _base64_a1aiK)
        = [(UniqueImage _header_a1aiJ) _base64_a1aiK]
      persistFieldDef ImageId
        = Database.Persist.TH.stripIdFieldImpl
            (EntityIdField
               (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                           (FieldNameDB (T.pack "id")))
                          ((FTTypeCon Nothing) (T.pack "ImageId")))
                         SqlInt64)
                        [])
                       True)
                      NoReference)
                     ((FieldCascade Nothing) Nothing))
                    Nothing)
                   Nothing)
                  True))
      persistFieldDef ImageHeader
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy Image))
            (FieldNameHS (T.pack "header"))
      persistFieldDef ImageBase64
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy Image))
            (FieldNameHS (T.pack "base64"))
      persistIdField = ImageId
      fieldLens ImageId
        = (PTH.lensPTH entityKey)
            (\ (Entity _ value_a1aiM) key_a1aiN
               -> (Entity key_a1aiN) value_a1aiM)
      fieldLens ImageHeader
        = (PTH.lensPTH ((\ Image {imageHeader = x} -> x) . entityVal))
            (\ (Entity key_a1aiO value_a1aiP) x_a1aiQ
               -> (Entity key_a1aiO)
                    (case value_a1aiP of
                       Image {imageBase64 = imageBase64}
                         -> Image {imageHeader = x_a1aiQ, imageBase64 = imageBase64}))
      fieldLens ImageBase64
        = (PTH.lensPTH ((\ Image {imageBase64 = x} -> x) . entityVal))
            (\ (Entity key_a1aiO value_a1aiP) x_a1aiQ
               -> (Entity key_a1aiO)
                    (case value_a1aiP of
                       Image {imageHeader = imageHeader}
                         -> Image {imageHeader = imageHeader, imageBase64 = x_a1aiQ}))
    instance ToBackendKey Database.Persist.SqlBackend.Internal.SqlBackend Image where
      toBackendKey = \ ImageKey {unImageKey = x} -> x
      fromBackendKey = ImageKey
    data ImageBank
      = ImageBank {imageBankNewsId :: !NewsId,
                   imageBankImageId :: !ImageId}
      deriving stock (Eq, Show)
    type ImageBankId = Database.Persist.Key ImageBank
    instance PersistEntity ImageBank where
      type PersistEntityBackend ImageBank = Database.Persist.SqlBackend.Internal.SqlBackend
      data Unique ImageBank
      data Database.Persist.Key ImageBank
        = ImageBankKey {imageBankKeynewsId :: NewsId,
                        imageBankKeyimageId :: ImageId}
        deriving stock Show
        deriving stock Read
        deriving stock Eq
        deriving stock Ord
        deriving stock Generic
      data EntityField ImageBank typ
        = (typ ~ ImageBankId) => ImageBankId |
          (typ ~ NewsId) => ImageBankNewsId |
          (typ ~ ImageId) => ImageBankImageId
      keyToValues record_a1aj0
        = [toPersistValue (imageBankKeynewsId record_a1aj0),
           toPersistValue (imageBankKeyimageId record_a1aj0)]
      keyFromValues [x1_a1aj2, x2_a1aj3]
        = ImageBankKey
            <$>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "images_bank")) (T.pack "newsId"))
                 . fromPersistValue)
                x1_a1aj2
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "images_bank")) (T.pack "imageId"))
                 . fromPersistValue)
                x2_a1aj3
      keyFromValues x_a1aj1
        = (Left
             $ (mappend (T.pack "ImageBank: keyFromValues failed on: "))
                 (T.pack $ show x_a1aj1))
      keyFromRecordM
        = Just
            (\ record_a1aj9
               -> (ImageBankKey (imageBankNewsId record_a1aj9))
                    (imageBankImageId record_a1aj9))
      entityDef _
        = ((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                      (EntityNameHS (T.pack "ImageBank")))
                     (EntityNameDB (T.pack "images_bank")))
                    (EntityIdField
                       (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                   (FieldNameDB (T.pack "id")))
                                  ((FTTypeCon Nothing) (T.pack "ImageBankId")))
                                 (SqlOther (T.pack "Primary Key")))
                                [])
                               True)
                              NoReference)
                             ((FieldCascade Nothing) Nothing))
                            Nothing)
                           Nothing)
                          True)))
                   [T.pack "sql=images_bank"])
                  [])
                 [])
                [])
               [T.pack "Eq", T.pack "Show"])
              Data.Map.Internal.Tip)
             False)
            Nothing
            {persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityFields = [FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "newsId"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "news_id"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      Nothing)
                                                                                                                     (T.pack
                                                                                                                        "NewsId"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy NewsId),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = ForeignRef
                                                                                                                          (EntityNameHS
                                                                                                                             (T.pack
                                                                                                                                "News")),
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "imageId"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "image_id"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      Nothing)
                                                                                                                     (T.pack
                                                                                                                        "ImageId"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy ImageId),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = ForeignRef
                                                                                                                          (EntityNameHS
                                                                                                                             (T.pack
                                                                                                                                "Image")),
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False}],
             persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityId = EntityIdNaturalKey
                                                                                                 CompositeDef
                                                                                                   {compositeFields = Data.List.NonEmpty.fromList
                                                                                                                        [(Database.Persist.TH.lookupEntityField
                                                                                                                            (Data.Proxy.Proxy ::
                                                                                                                               Data.Proxy.Proxy ImageBank))
                                                                                                                           (FieldNameHS
                                                                                                                              (T.pack
                                                                                                                                 "newsId")),
                                                                                                                         (Database.Persist.TH.lookupEntityField
                                                                                                                            (Data.Proxy.Proxy ::
                                                                                                                               Data.Proxy.Proxy ImageBank))
                                                                                                                           (FieldNameHS
                                                                                                                              (T.pack
                                                                                                                                 "imageId"))],
                                                                                                    compositeAttrs = []},
             persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityForeigns = []}
      toPersistFields (ImageBank x_a1aiR x_a1aiS)
        = [SomePersistField x_a1aiR, SomePersistField x_a1aiS]
      fromPersistValues [x1_a1aiU, x2_a1aiV]
        = ImageBank
            <$>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "images_bank")) (T.pack "newsId"))
                 . fromPersistValue)
                x1_a1aiU
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "images_bank")) (T.pack "imageId"))
                 . fromPersistValue)
                x2_a1aiV
      fromPersistValues x_a1aiT
        = (Left
             $ (mappend (T.pack "ImageBank: fromPersistValues failed on: "))
                 (T.pack $ show x_a1aiT))
      persistUniqueToFieldNames _
        = error "Degenerate case, should never happen"
      persistUniqueToValues _
        = error "Degenerate case, should never happen"
      persistUniqueKeys (ImageBank _newsId_a1aiW _imageId_a1aiX) = []
      persistFieldDef ImageBankId
        = Database.Persist.TH.stripIdFieldImpl
            (EntityIdNaturalKey
               CompositeDef
                 {compositeFields = Data.List.NonEmpty.fromList
                                      [(Database.Persist.TH.lookupEntityField
                                          (Data.Proxy.Proxy :: Data.Proxy.Proxy ImageBank))
                                         (FieldNameHS (T.pack "newsId")),
                                       (Database.Persist.TH.lookupEntityField
                                          (Data.Proxy.Proxy :: Data.Proxy.Proxy ImageBank))
                                         (FieldNameHS (T.pack "imageId"))],
                  compositeAttrs = []})
      persistFieldDef ImageBankNewsId
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy ImageBank))
            (FieldNameHS (T.pack "newsId"))
      persistFieldDef ImageBankImageId
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy ImageBank))
            (FieldNameHS (T.pack "imageId"))
      persistIdField = ImageBankId
      fieldLens ImageBankId
        = (PTH.lensPTH entityKey)
            (\ (Entity _ value_a1aj4) key_a1aj5
               -> (Entity key_a1aj5) value_a1aj4)
      fieldLens ImageBankNewsId
        = (PTH.lensPTH
             ((\ ImageBank {imageBankNewsId = x} -> x) . entityVal))
            (\ (Entity key_a1aj6 value_a1aj7) x_a1aj8
               -> (Entity key_a1aj6)
                    (case value_a1aj7 of
                       ImageBank {imageBankImageId = imageBankImageId}
                         -> ImageBank
                              {imageBankNewsId = x_a1aj8, imageBankImageId = imageBankImageId}))
      fieldLens ImageBankImageId
        = (PTH.lensPTH
             ((\ ImageBank {imageBankImageId = x} -> x) . entityVal))
            (\ (Entity key_a1aj6 value_a1aj7) x_a1aj8
               -> (Entity key_a1aj6)
                    (case value_a1aj7 of
                       ImageBank {imageBankNewsId = imageBankNewsId}
                         -> ImageBank
                              {imageBankNewsId = imageBankNewsId, imageBankImageId = x_a1aj8}))
    instance PersistField (Database.Persist.Key ImageBank) where
      toPersistValue = (PersistList . keyToValues)
      fromPersistValue (PersistList l_a1aiY) = keyFromValues l_a1aiY
      fromPersistValue got_a1aiZ
        = (error
             $ ("fromPersistValue: expected PersistList, got: "
                  `mappend` show got_a1aiZ))
    instance persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.PersistFieldSql (Database.Persist.Key ImageBank) where
      persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
        _
        = SqlString
    instance ToJSON (Database.Persist.Key ImageBank)
    instance FromJSON (Database.Persist.Key ImageBank)
    instance OnlyOneUniqueKey User where
      onlyUniqueP = (head . persistUniqueKeys)
    instance AtLeastOneUniqueKey User where
      requireUniquesP = (Data.List.NonEmpty.fromList . persistUniqueKeys)
    instance OnlyOneUniqueKey Category where
      onlyUniqueP = (head . persistUniqueKeys)
    instance AtLeastOneUniqueKey Category where
      requireUniquesP = (Data.List.NonEmpty.fromList . persistUniqueKeys)
    instance OnlyOneUniqueKey News where
      onlyUniqueP = (head . persistUniqueKeys)
    instance AtLeastOneUniqueKey News where
      requireUniquesP = (Data.List.NonEmpty.fromList . persistUniqueKeys)
    instance OnlyOneUniqueKey Image where
      onlyUniqueP = (head . persistUniqueKeys)
    instance AtLeastOneUniqueKey Image where
      requireUniquesP = (Data.List.NonEmpty.fromList . persistUniqueKeys)
    instance GHC.TypeLits.TypeError (NoUniqueKeysError ImageBank) =>
             OnlyOneUniqueKey ImageBank where
      onlyUniqueP _ = error "impossible"
    instance GHC.TypeLits.TypeError (MultipleUniqueKeysError ImageBank) =>
             AtLeastOneUniqueKey ImageBank where
      requireUniquesP _ = error "impossible"
    instance SymbolToField "id" User (Database.Persist.Key User) where
      symbolToField = UserId
    instance SymbolToField "name" User T.Text where
      symbolToField = UserName
    instance SymbolToField "login" User T.Text where
      symbolToField = UserLogin
    instance SymbolToField "quasiPassword" User T.Text where
      symbolToField = UserQuasiPassword
    instance SymbolToField "created" User UTCTime where
      symbolToField = UserCreated
    instance SymbolToField "isAdmin" User Bool where
      symbolToField = UserIsAdmin
    instance SymbolToField "isPublisher" User Bool where
      symbolToField = UserIsPublisher
    instance SymbolToField "id" Category (Database.Persist.Key Category) where
      symbolToField = CategoryId
    instance SymbolToField "label" Category T.Text where
      symbolToField = CategoryLabel
    instance SymbolToField "parent" Category (Maybe CategoryId) where
      symbolToField = CategoryParent
    instance SymbolToField "id" News (Database.Persist.Key News) where
      symbolToField = NewsId
    instance SymbolToField "title" News T.Text where
      symbolToField = NewsTitle
    instance SymbolToField "created" News UTCTime where
      symbolToField = NewsCreated
    instance SymbolToField "userId" News UserId where
      symbolToField = NewsUserId
    instance SymbolToField "categoryId" News CategoryId where
      symbolToField = NewsCategoryId
    instance SymbolToField "content" News T.Text where
      symbolToField = NewsContent
    instance SymbolToField "imagesIds" News [ImageId] where
      symbolToField = NewsImagesIds
    instance SymbolToField "isPublish" News Bool where
      symbolToField = NewsIsPublish
    instance SymbolToField "id" Image (Database.Persist.Key Image) where
      symbolToField = ImageId
    instance SymbolToField "header" Image T.Text where
      symbolToField = ImageHeader
    instance SymbolToField "base64" Image T.Text where
      symbolToField = ImageBase64
    instance SymbolToField "newsId" ImageBank NewsId where
      symbolToField = ImageBankNewsId
    instance SymbolToField "imageId" ImageBank ImageId where
      symbolToField = ImageBankImageId
    entityDefListFormigrateAll :: [EntityDef]
    entityDefListFormigrateAll
      = [entityDef (Data.Proxy.Proxy :: Data.Proxy.Proxy User),
         entityDef (Data.Proxy.Proxy :: Data.Proxy.Proxy Category),
         entityDef (Data.Proxy.Proxy :: Data.Proxy.Proxy News),
         entityDef (Data.Proxy.Proxy :: Data.Proxy.Proxy Image),
         entityDef (Data.Proxy.Proxy :: Data.Proxy.Proxy ImageBank)]
    migrateAll :: Database.Persist.Sql.Migration.Migration
    migrateAll = PTH.migrateModels entityDefListFormigrateAll
/home/h/projects/webServer/src/Base/BasicSchema.hs:(61,93)-(97,2): Splicing expression
    Language.Haskell.TH.Quote.quoteExp
      PTH.persistLowerCase
      "\n\
      \ User sql=users\n\
      \  name T.Text\n\
      \  login T.Text\n\
      \  quasiPassword T.Text\n\
      \  created UTCTime\n\
      \  isAdmin Bool\n\
      \  isPublisher Bool\n\
      \  UniqueUser login\n\
      \  deriving Eq Show\n\
      \ Category sql=categories\n\
      \  label T.Text\n\
      \  parent CategoryId Maybe\n\
      \  UniqueCategory label\n\
      \  deriving Eq Show\n\
      \ News sql=news\n\
      \  title T.Text\n\
      \  created UTCTime\n\
      \  userId UserId\n\
      \  categoryId CategoryId\n\
      \  content T.Text\n\
      \  imagesIds [ImageId]\n\
      \  isPublish Bool\n\
      \  UniqueNews title\n\
      \  deriving Eq Show\n\
      \ Image sql=images\n\
      \  header T.Text\n\
      \  base64 T.Text\n\
      \  UniqueImage header base64\n\
      \  deriving Eq Show\n\
      \ ImageBank sql=images_bank -- for tests.\n\
      \  newsId NewsId\n\
      \  imageId ImageId\n\
      \  -- UniqueImageBank newsId imageId\n\
      \  Primary newsId imageId\n\
      \  deriving Eq Show\n"
  ======>
    [(((Database.Persist.Quasi.Internal.UnboundEntityDef [])
         (Database.Persist.Quasi.Internal.DefaultKey
            (FieldNameDB (T.pack "id"))))
        (((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                     (EntityNameHS (T.pack "User")))
                    (EntityNameDB (T.pack "users")))
                   (EntityIdField
                      (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                  (FieldNameDB (T.pack "id")))
                                 ((FTTypeCon Nothing) (T.pack "UserId")))
                                SqlInt64)
                               [])
                              True)
                             NoReference)
                            ((FieldCascade Nothing) Nothing))
                           Nothing)
                          Nothing)
                         True)))
                  [T.pack "sql=users"])
                 [])
                [(((UniqueDef (ConstraintNameHS (T.pack "UniqueUser")))
                     (ConstraintNameDB (T.pack "unique_user")))
                    ((FieldNameHS (T.pack "login"), FieldNameDB (T.pack "login"))
                       GHC.Base.:| []))
                   []])
               [])
              [T.pack "Eq", T.pack "Show"])
             Data.Map.Internal.Tip)
            False)
           Nothing))
       [(((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "name")))
                (FieldNameDB (T.pack "name")))
               [])
              True)
             ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "login")))
                (FieldNameDB (T.pack "login")))
               [])
              True)
             ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "quasiPassword")))
                (FieldNameDB (T.pack "quasi_password")))
               [])
              True)
             ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "created")))
                (FieldNameDB (T.pack "created")))
               [])
              True)
             ((FTTypeCon Nothing) (T.pack "UTCTime")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "isAdmin")))
                (FieldNameDB (T.pack "is_admin")))
               [])
              True)
             ((FTTypeCon Nothing) (T.pack "Bool")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "isPublisher")))
                (FieldNameDB (T.pack "is_publisher")))
               [])
              True)
             ((FTTypeCon Nothing) (T.pack "Bool")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing],
     (((Database.Persist.Quasi.Internal.UnboundEntityDef [])
         (Database.Persist.Quasi.Internal.DefaultKey
            (FieldNameDB (T.pack "id"))))
        (((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                     (EntityNameHS (T.pack "Category")))
                    (EntityNameDB (T.pack "categories")))
                   (EntityIdField
                      (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                  (FieldNameDB (T.pack "id")))
                                 ((FTTypeCon Nothing) (T.pack "CategoryId")))
                                SqlInt64)
                               [])
                              True)
                             NoReference)
                            ((FieldCascade Nothing) Nothing))
                           Nothing)
                          Nothing)
                         True)))
                  [T.pack "sql=categories"])
                 [])
                [(((UniqueDef (ConstraintNameHS (T.pack "UniqueCategory")))
                     (ConstraintNameDB (T.pack "unique_category")))
                    ((FieldNameHS (T.pack "label"), FieldNameDB (T.pack "label"))
                       GHC.Base.:| []))
                   []])
               [])
              [T.pack "Eq", T.pack "Show"])
             Data.Map.Internal.Tip)
            False)
           Nothing))
       [(((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "label")))
                (FieldNameDB (T.pack "label")))
               [])
              True)
             ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "parent")))
                (FieldNameDB (T.pack "parent")))
               [FieldAttrMaybe])
              True)
             ((FTTypeCon Nothing) (T.pack "CategoryId")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing],
     (((Database.Persist.Quasi.Internal.UnboundEntityDef [])
         (Database.Persist.Quasi.Internal.DefaultKey
            (FieldNameDB (T.pack "id"))))
        (((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                     (EntityNameHS (T.pack "News")))
                    (EntityNameDB (T.pack "news")))
                   (EntityIdField
                      (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                  (FieldNameDB (T.pack "id")))
                                 ((FTTypeCon Nothing) (T.pack "NewsId")))
                                SqlInt64)
                               [])
                              True)
                             NoReference)
                            ((FieldCascade Nothing) Nothing))
                           Nothing)
                          Nothing)
                         True)))
                  [T.pack "sql=news"])
                 [])
                [(((UniqueDef (ConstraintNameHS (T.pack "UniqueNews")))
                     (ConstraintNameDB (T.pack "unique_news")))
                    ((FieldNameHS (T.pack "title"), FieldNameDB (T.pack "title"))
                       GHC.Base.:| []))
                   []])
               [])
              [T.pack "Eq", T.pack "Show"])
             Data.Map.Internal.Tip)
            False)
           Nothing))
       [(((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "title")))
                (FieldNameDB (T.pack "title")))
               [])
              True)
             ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "created")))
                (FieldNameDB (T.pack "created")))
               [])
              True)
             ((FTTypeCon Nothing) (T.pack "UTCTime")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "userId")))
                (FieldNameDB (T.pack "user_id")))
               [])
              True)
             ((FTTypeCon Nothing) (T.pack "UserId")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "categoryId")))
                (FieldNameDB (T.pack "category_id")))
               [])
              True)
             ((FTTypeCon Nothing) (T.pack "CategoryId")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "content")))
                (FieldNameDB (T.pack "content")))
               [])
              True)
             ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "imagesIds")))
                (FieldNameDB (T.pack "images_ids")))
               [])
              True)
             (FTList ((FTTypeCon Nothing) (T.pack "ImageId"))))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "isPublish")))
                (FieldNameDB (T.pack "is_publish")))
               [])
              True)
             ((FTTypeCon Nothing) (T.pack "Bool")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing],
     (((Database.Persist.Quasi.Internal.UnboundEntityDef [])
         (Database.Persist.Quasi.Internal.DefaultKey
            (FieldNameDB (T.pack "id"))))
        (((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                     (EntityNameHS (T.pack "Image")))
                    (EntityNameDB (T.pack "images")))
                   (EntityIdField
                      (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                  (FieldNameDB (T.pack "id")))
                                 ((FTTypeCon Nothing) (T.pack "ImageId")))
                                SqlInt64)
                               [])
                              True)
                             NoReference)
                            ((FieldCascade Nothing) Nothing))
                           Nothing)
                          Nothing)
                         True)))
                  [T.pack "sql=images"])
                 [])
                [(((UniqueDef (ConstraintNameHS (T.pack "UniqueImage")))
                     (ConstraintNameDB (T.pack "unique_image")))
                    ((FieldNameHS (T.pack "header"), FieldNameDB (T.pack "header"))
                       GHC.Base.:|
                         [(FieldNameHS (T.pack "base64"), FieldNameDB (T.pack "base64"))]))
                   []])
               [])
              [T.pack "Eq", T.pack "Show"])
             Data.Map.Internal.Tip)
            False)
           Nothing))
       [(((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "header")))
                (FieldNameDB (T.pack "header")))
               [])
              True)
             ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "base64")))
                (FieldNameDB (T.pack "base64")))
               [])
              True)
             ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing],
     (((Database.Persist.Quasi.Internal.UnboundEntityDef [])
         (Database.Persist.Quasi.Internal.NaturalKey
            ((Database.Persist.Quasi.Internal.UnboundCompositeDef
                [FieldNameHS (T.pack "newsId"), FieldNameHS (T.pack "imageId")])
               [])))
        (((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                     (EntityNameHS (T.pack "ImageBank")))
                    (EntityNameDB (T.pack "images_bank")))
                   (EntityIdField
                      (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                  (FieldNameDB (T.pack "id")))
                                 ((FTTypeCon Nothing) (T.pack "ImageBankId")))
                                (SqlOther (T.pack "Primary Key")))
                               [])
                              True)
                             NoReference)
                            ((FieldCascade Nothing) Nothing))
                           Nothing)
                          Nothing)
                         True)))
                  [T.pack "sql=images_bank"])
                 [])
                [])
               [])
              [T.pack "Eq", T.pack "Show"])
             Data.Map.Internal.Tip)
            False)
           Nothing))
       [(((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "newsId")))
                (FieldNameDB (T.pack "news_id")))
               [])
              True)
             ((FTTypeCon Nothing) (T.pack "NewsId")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing,
        (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                 (FieldNameHS (T.pack "imageId")))
                (FieldNameDB (T.pack "image_id")))
               [])
              True)
             ((FTTypeCon Nothing) (T.pack "ImageId")))
            ((FieldCascade Nothing) Nothing))
           Nothing)
          Nothing]]
/home/h/projects/webServer/src/Base/BasicSchema.hs:(61,1)-(97,2): Splicing declarations
    PTH.share
      [PTH.mkPersist PTH.sqlSettings, PTH.mkMigrate "migrateAll"]
      ([(((Database.Persist.Quasi.Internal.UnboundEntityDef [])
            (Database.Persist.Quasi.Internal.DefaultKey
               (FieldNameDB (T.pack "id"))))
           (((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                        (EntityNameHS (T.pack "User")))
                       (EntityNameDB (T.pack "users")))
                      (EntityIdField
                         (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                     (FieldNameDB (T.pack "id")))
                                    ((FTTypeCon Nothing) (T.pack "UserId")))
                                   SqlInt64)
                                  [])
                                 True)
                                NoReference)
                               ((FieldCascade Nothing) Nothing))
                              Nothing)
                             Nothing)
                            True)))
                     [T.pack "sql=users"])
                    [])
                   [(((UniqueDef (ConstraintNameHS (T.pack "UniqueUser")))
                        (ConstraintNameDB (T.pack "unique_user")))
                       ((FieldNameHS (T.pack "login"), FieldNameDB (T.pack "login"))
                          GHC.Base.:| []))
                      []])
                  [])
                 [T.pack "Eq", T.pack "Show"])
                Data.Map.Internal.Tip)
               False)
              Nothing))
          [(((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "name")))
                   (FieldNameDB (T.pack "name")))
                  [])
                 True)
                ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "login")))
                   (FieldNameDB (T.pack "login")))
                  [])
                 True)
                ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "quasiPassword")))
                   (FieldNameDB (T.pack "quasi_password")))
                  [])
                 True)
                ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "created")))
                   (FieldNameDB (T.pack "created")))
                  [])
                 True)
                ((FTTypeCon Nothing) (T.pack "UTCTime")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "isAdmin")))
                   (FieldNameDB (T.pack "is_admin")))
                  [])
                 True)
                ((FTTypeCon Nothing) (T.pack "Bool")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "isPublisher")))
                   (FieldNameDB (T.pack "is_publisher")))
                  [])
                 True)
                ((FTTypeCon Nothing) (T.pack "Bool")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing],
        (((Database.Persist.Quasi.Internal.UnboundEntityDef [])
            (Database.Persist.Quasi.Internal.DefaultKey
               (FieldNameDB (T.pack "id"))))
           (((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                        (EntityNameHS (T.pack "Category")))
                       (EntityNameDB (T.pack "categories")))
                      (EntityIdField
                         (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                     (FieldNameDB (T.pack "id")))
                                    ((FTTypeCon Nothing) (T.pack "CategoryId")))
                                   SqlInt64)
                                  [])
                                 True)
                                NoReference)
                               ((FieldCascade Nothing) Nothing))
                              Nothing)
                             Nothing)
                            True)))
                     [T.pack "sql=categories"])
                    [])
                   [(((UniqueDef (ConstraintNameHS (T.pack "UniqueCategory")))
                        (ConstraintNameDB (T.pack "unique_category")))
                       ((FieldNameHS (T.pack "label"), FieldNameDB (T.pack "label"))
                          GHC.Base.:| []))
                      []])
                  [])
                 [T.pack "Eq", T.pack "Show"])
                Data.Map.Internal.Tip)
               False)
              Nothing))
          [(((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "label")))
                   (FieldNameDB (T.pack "label")))
                  [])
                 True)
                ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "parent")))
                   (FieldNameDB (T.pack "parent")))
                  [FieldAttrMaybe])
                 True)
                ((FTTypeCon Nothing) (T.pack "CategoryId")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing],
        (((Database.Persist.Quasi.Internal.UnboundEntityDef [])
            (Database.Persist.Quasi.Internal.DefaultKey
               (FieldNameDB (T.pack "id"))))
           (((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                        (EntityNameHS (T.pack "News")))
                       (EntityNameDB (T.pack "news")))
                      (EntityIdField
                         (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                     (FieldNameDB (T.pack "id")))
                                    ((FTTypeCon Nothing) (T.pack "NewsId")))
                                   SqlInt64)
                                  [])
                                 True)
                                NoReference)
                               ((FieldCascade Nothing) Nothing))
                              Nothing)
                             Nothing)
                            True)))
                     [T.pack "sql=news"])
                    [])
                   [(((UniqueDef (ConstraintNameHS (T.pack "UniqueNews")))
                        (ConstraintNameDB (T.pack "unique_news")))
                       ((FieldNameHS (T.pack "title"), FieldNameDB (T.pack "title"))
                          GHC.Base.:| []))
                      []])
                  [])
                 [T.pack "Eq", T.pack "Show"])
                Data.Map.Internal.Tip)
               False)
              Nothing))
          [(((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "title")))
                   (FieldNameDB (T.pack "title")))
                  [])
                 True)
                ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "created")))
                   (FieldNameDB (T.pack "created")))
                  [])
                 True)
                ((FTTypeCon Nothing) (T.pack "UTCTime")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "userId")))
                   (FieldNameDB (T.pack "user_id")))
                  [])
                 True)
                ((FTTypeCon Nothing) (T.pack "UserId")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "categoryId")))
                   (FieldNameDB (T.pack "category_id")))
                  [])
                 True)
                ((FTTypeCon Nothing) (T.pack "CategoryId")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "content")))
                   (FieldNameDB (T.pack "content")))
                  [])
                 True)
                ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "imagesIds")))
                   (FieldNameDB (T.pack "images_ids")))
                  [])
                 True)
                (FTList ((FTTypeCon Nothing) (T.pack "ImageId"))))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "isPublish")))
                   (FieldNameDB (T.pack "is_publish")))
                  [])
                 True)
                ((FTTypeCon Nothing) (T.pack "Bool")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing],
        (((Database.Persist.Quasi.Internal.UnboundEntityDef [])
            (Database.Persist.Quasi.Internal.DefaultKey
               (FieldNameDB (T.pack "id"))))
           (((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                        (EntityNameHS (T.pack "Image")))
                       (EntityNameDB (T.pack "images")))
                      (EntityIdField
                         (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                     (FieldNameDB (T.pack "id")))
                                    ((FTTypeCon Nothing) (T.pack "ImageId")))
                                   SqlInt64)
                                  [])
                                 True)
                                NoReference)
                               ((FieldCascade Nothing) Nothing))
                              Nothing)
                             Nothing)
                            True)))
                     [T.pack "sql=images"])
                    [])
                   [(((UniqueDef (ConstraintNameHS (T.pack "UniqueImage")))
                        (ConstraintNameDB (T.pack "unique_image")))
                       ((FieldNameHS (T.pack "header"), FieldNameDB (T.pack "header"))
                          GHC.Base.:|
                            [(FieldNameHS (T.pack "base64"), FieldNameDB (T.pack "base64"))]))
                      []])
                  [])
                 [T.pack "Eq", T.pack "Show"])
                Data.Map.Internal.Tip)
               False)
              Nothing))
          [(((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "header")))
                   (FieldNameDB (T.pack "header")))
                  [])
                 True)
                ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "base64")))
                   (FieldNameDB (T.pack "base64")))
                  [])
                 True)
                ((FTTypeCon (Just (T.pack "T"))) (T.pack "Text")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing],
        (((Database.Persist.Quasi.Internal.UnboundEntityDef [])
            (Database.Persist.Quasi.Internal.NaturalKey
               ((Database.Persist.Quasi.Internal.UnboundCompositeDef
                   [FieldNameHS (T.pack "newsId"), FieldNameHS (T.pack "imageId")])
                  [])))
           (((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                        (EntityNameHS (T.pack "ImageBank")))
                       (EntityNameDB (T.pack "images_bank")))
                      (EntityIdField
                         (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                     (FieldNameDB (T.pack "id")))
                                    ((FTTypeCon Nothing) (T.pack "ImageBankId")))
                                   (SqlOther (T.pack "Primary Key")))
                                  [])
                                 True)
                                NoReference)
                               ((FieldCascade Nothing) Nothing))
                              Nothing)
                             Nothing)
                            True)))
                     [T.pack "sql=images_bank"])
                    [])
                   [])
                  [])
                 [T.pack "Eq", T.pack "Show"])
                Data.Map.Internal.Tip)
               False)
              Nothing))
          [(((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "newsId")))
                   (FieldNameDB (T.pack "news_id")))
                  [])
                 True)
                ((FTTypeCon Nothing) (T.pack "NewsId")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing,
           (((((((Database.Persist.Quasi.Internal.UnboundFieldDef
                    (FieldNameHS (T.pack "imageId")))
                   (FieldNameDB (T.pack "image_id")))
                  [])
                 True)
                ((FTTypeCon Nothing) (T.pack "ImageId")))
               ((FieldCascade Nothing) Nothing))
              Nothing)
             Nothing]])
  ======>
    instance PersistField User where
      toPersistValue = Database.Persist.TH.entityToPersistValueHelper
      fromPersistValue
        = Database.Persist.TH.entityFromPersistValueHelper
            ["name", "login", "quasiPassword", "created", "isAdmin",
             "isPublisher"]
    instance persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.PersistFieldSql User where
      persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
        _
        = SqlString
    instance PersistField Category where
      toPersistValue = Database.Persist.TH.entityToPersistValueHelper
      fromPersistValue
        = Database.Persist.TH.entityFromPersistValueHelper
            ["label", "parent"]
    instance persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.PersistFieldSql Category where
      persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
        _
        = SqlString
    instance PersistField News where
      toPersistValue = Database.Persist.TH.entityToPersistValueHelper
      fromPersistValue
        = Database.Persist.TH.entityFromPersistValueHelper
            ["title", "created", "userId", "categoryId", "content",
             "imagesIds", "isPublish"]
    instance persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.PersistFieldSql News where
      persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
        _
        = SqlString
    instance PersistField Image where
      toPersistValue = Database.Persist.TH.entityToPersistValueHelper
      fromPersistValue
        = Database.Persist.TH.entityFromPersistValueHelper
            ["header", "base64"]
    instance persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.PersistFieldSql Image where
      persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
        _
        = SqlString
    instance PersistField ImageBank where
      toPersistValue = Database.Persist.TH.entityToPersistValueHelper
      fromPersistValue
        = Database.Persist.TH.entityFromPersistValueHelper
            ["newsId", "imageId"]
    instance persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.PersistFieldSql ImageBank where
      persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
        _
        = SqlString
    data User
      = User {userName :: !T.Text,
              userLogin :: !T.Text,
              userQuasiPassword :: !T.Text,
              userCreated :: !UTCTime,
              userIsAdmin :: !Bool,
              userIsPublisher :: !Bool}
      deriving stock (Eq, Show)
    type UserId = Database.Persist.Key User
    instance PersistEntity User where
      type PersistEntityBackend User = Database.Persist.SqlBackend.Internal.SqlBackend
      data Unique User = UniqueUser T.Text
      newtype Database.Persist.Key User
        = UserKey {unUserKey :: (BackendKey Database.Persist.SqlBackend.Internal.SqlBackend)}
        deriving stock Show
        deriving stock Read
        deriving newtype Eq
        deriving newtype Ord
        deriving newtype path-pieces-0.2.1-E15XfVOwfTfIr2VliI4YGA:Web.PathPieces.PathPiece
        deriving newtype http-api-data-0.4.3-8AwfdtQImWAISYRgwZNRi0:Web.Internal.HttpApiData.ToHttpApiData
        deriving newtype http-api-data-0.4.3-8AwfdtQImWAISYRgwZNRi0:Web.Internal.HttpApiData.FromHttpApiData
        deriving newtype PersistField
        deriving newtype persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.PersistFieldSql
        deriving newtype ToJSON
        deriving newtype FromJSON
      data EntityField User typ
        = (typ ~ UserId) => UserId |
          (typ ~ T.Text) => UserName |
          (typ ~ T.Text) => UserLogin |
          (typ ~ T.Text) => UserQuasiPassword |
          (typ ~ UTCTime) => UserCreated |
          (typ ~ Bool) => UserIsAdmin |
          (typ ~ Bool) => UserIsPublisher
      keyToValues
        = ((: []) . (toPersistValue . (\ UserKey {unUserKey = x} -> x)))
      keyFromValues
        = (fmap UserKey
             . (fromPersistValue . Database.Persist.TH.headNote))
      keyFromRecordM = Nothing
      entityDef _
        = ((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                      (EntityNameHS (T.pack "User")))
                     (EntityNameDB (T.pack "users")))
                    (EntityIdField
                       (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                   (FieldNameDB (T.pack "id")))
                                  ((FTTypeCon Nothing) (T.pack "UserId")))
                                 SqlInt64)
                                [])
                               True)
                              NoReference)
                             ((FieldCascade Nothing) Nothing))
                            Nothing)
                           Nothing)
                          True)))
                   [T.pack "sql=users"])
                  [])
                 [(((UniqueDef (ConstraintNameHS (T.pack "UniqueUser")))
                      (ConstraintNameDB (T.pack "unique_user")))
                     ((FieldNameHS (T.pack "login"), FieldNameDB (T.pack "login"))
                        GHC.Base.:| []))
                    []])
                [])
               [T.pack "Eq", T.pack "Show"])
              Data.Map.Internal.Tip)
             False)
            Nothing
            {persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityFields = [FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "name"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "name"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      (Just
                                                                                                                         (T.pack
                                                                                                                            "T")))
                                                                                                                     (T.pack
                                                                                                                        "Text"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy T.Text),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "login"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "login"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      (Just
                                                                                                                         (T.pack
                                                                                                                            "T")))
                                                                                                                     (T.pack
                                                                                                                        "Text"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy T.Text),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "quasiPassword"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "quasi_password"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      (Just
                                                                                                                         (T.pack
                                                                                                                            "T")))
                                                                                                                     (T.pack
                                                                                                                        "Text"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy T.Text),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "created"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "created"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      Nothing)
                                                                                                                     (T.pack
                                                                                                                        "UTCTime"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy UTCTime),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "isAdmin"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "is_admin"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      Nothing)
                                                                                                                     (T.pack
                                                                                                                        "Bool"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy Bool),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "isPublisher"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "is_publisher"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      Nothing)
                                                                                                                     (T.pack
                                                                                                                        "Bool"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy Bool),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False}],
             persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityId = EntityIdField
                                                                                                 (((((((((((FieldDef
                                                                                                              (FieldNameHS
                                                                                                                 (T.pack
                                                                                                                    "Id")))
                                                                                                             (FieldNameDB
                                                                                                                (T.pack
                                                                                                                   "id")))
                                                                                                            ((FTTypeCon
                                                                                                                Nothing)
                                                                                                               (T.pack
                                                                                                                  "UserId")))
                                                                                                           SqlInt64)
                                                                                                          [])
                                                                                                         True)
                                                                                                        NoReference)
                                                                                                       ((FieldCascade
                                                                                                           Nothing)
                                                                                                          Nothing))
                                                                                                      Nothing)
                                                                                                     Nothing)
                                                                                                    True),
             persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityForeigns = []}
      toPersistFields
        (User x_a1ycZ x_a1yd0 x_a1yd1 x_a1yd2 x_a1yd3 x_a1yd4)
        = [SomePersistField x_a1ycZ, SomePersistField x_a1yd0,
           SomePersistField x_a1yd1, SomePersistField x_a1yd2,
           SomePersistField x_a1yd3, SomePersistField x_a1yd4]
      fromPersistValues
        [x1_a1yd6, x2_a1yd7, x3_a1yd8, x4_a1yd9, x5_a1yda, x6_a1ydb]
        = User
            <$>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "users")) (T.pack "name"))
                 . fromPersistValue)
                x1_a1yd6
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "users")) (T.pack "login"))
                 . fromPersistValue)
                x2_a1yd7
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "users")) (T.pack "quasiPassword"))
                 . fromPersistValue)
                x3_a1yd8
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "users")) (T.pack "created"))
                 . fromPersistValue)
                x4_a1yd9
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "users")) (T.pack "isAdmin"))
                 . fromPersistValue)
                x5_a1yda
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "users")) (T.pack "isPublisher"))
                 . fromPersistValue)
                x6_a1ydb
      fromPersistValues x_a1yd5
        = (Left
             $ (mappend (T.pack "User: fromPersistValues failed on: "))
                 (T.pack $ show x_a1yd5))
      persistUniqueToFieldNames UniqueUser {}
        = ((FieldNameHS (T.pack "login"), FieldNameDB (T.pack "login"))
             GHC.Base.:| [])
      persistUniqueToValues (UniqueUser x_a1ydc)
        = [toPersistValue x_a1ydc]
      persistUniqueKeys
        (User _name_a1ydd _login_a1yde _quasiPassword_a1ydf _created_a1ydg
              _isAdmin_a1ydh _isPublisher_a1ydi)
        = [UniqueUser _login_a1yde]
      persistFieldDef UserId
        = Database.Persist.TH.stripIdFieldImpl
            (EntityIdField
               (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                           (FieldNameDB (T.pack "id")))
                          ((FTTypeCon Nothing) (T.pack "UserId")))
                         SqlInt64)
                        [])
                       True)
                      NoReference)
                     ((FieldCascade Nothing) Nothing))
                    Nothing)
                   Nothing)
                  True))
      persistFieldDef UserName
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy User))
            (FieldNameHS (T.pack "name"))
      persistFieldDef UserLogin
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy User))
            (FieldNameHS (T.pack "login"))
      persistFieldDef UserQuasiPassword
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy User))
            (FieldNameHS (T.pack "quasiPassword"))
      persistFieldDef UserCreated
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy User))
            (FieldNameHS (T.pack "created"))
      persistFieldDef UserIsAdmin
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy User))
            (FieldNameHS (T.pack "isAdmin"))
      persistFieldDef UserIsPublisher
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy User))
            (FieldNameHS (T.pack "isPublisher"))
      persistIdField = UserId
      fieldLens UserId
        = (PTH.lensPTH entityKey)
            (\ (Entity _ value_a1ydk) key_a1ydl
               -> (Entity key_a1ydl) value_a1ydk)
      fieldLens UserName
        = (PTH.lensPTH ((\ User {userName = x} -> x) . entityVal))
            (\ (Entity key_a1ydm value_a1ydn) x_a1ydo
               -> (Entity key_a1ydm)
                    (case value_a1ydn of
                       User {userLogin = userLogin, userQuasiPassword = userQuasiPassword,
                             userCreated = userCreated, userIsAdmin = userIsAdmin,
                             userIsPublisher = userIsPublisher}
                         -> User
                              {userName = x_a1ydo, userLogin = userLogin,
                               userQuasiPassword = userQuasiPassword, userCreated = userCreated,
                               userIsAdmin = userIsAdmin, userIsPublisher = userIsPublisher}))
      fieldLens UserLogin
        = (PTH.lensPTH ((\ User {userLogin = x} -> x) . entityVal))
            (\ (Entity key_a1ydm value_a1ydn) x_a1ydo
               -> (Entity key_a1ydm)
                    (case value_a1ydn of
                       User {userName = userName, userQuasiPassword = userQuasiPassword,
                             userCreated = userCreated, userIsAdmin = userIsAdmin,
                             userIsPublisher = userIsPublisher}
                         -> User
                              {userName = userName, userLogin = x_a1ydo,
                               userQuasiPassword = userQuasiPassword, userCreated = userCreated,
                               userIsAdmin = userIsAdmin, userIsPublisher = userIsPublisher}))
      fieldLens UserQuasiPassword
        = (PTH.lensPTH ((\ User {userQuasiPassword = x} -> x) . entityVal))
            (\ (Entity key_a1ydm value_a1ydn) x_a1ydo
               -> (Entity key_a1ydm)
                    (case value_a1ydn of
                       User {userName = userName, userLogin = userLogin,
                             userCreated = userCreated, userIsAdmin = userIsAdmin,
                             userIsPublisher = userIsPublisher}
                         -> User
                              {userName = userName, userLogin = userLogin,
                               userQuasiPassword = x_a1ydo, userCreated = userCreated,
                               userIsAdmin = userIsAdmin, userIsPublisher = userIsPublisher}))
      fieldLens UserCreated
        = (PTH.lensPTH ((\ User {userCreated = x} -> x) . entityVal))
            (\ (Entity key_a1ydm value_a1ydn) x_a1ydo
               -> (Entity key_a1ydm)
                    (case value_a1ydn of
                       User {userName = userName, userLogin = userLogin,
                             userQuasiPassword = userQuasiPassword, userIsAdmin = userIsAdmin,
                             userIsPublisher = userIsPublisher}
                         -> User
                              {userName = userName, userLogin = userLogin,
                               userQuasiPassword = userQuasiPassword, userCreated = x_a1ydo,
                               userIsAdmin = userIsAdmin, userIsPublisher = userIsPublisher}))
      fieldLens UserIsAdmin
        = (PTH.lensPTH ((\ User {userIsAdmin = x} -> x) . entityVal))
            (\ (Entity key_a1ydm value_a1ydn) x_a1ydo
               -> (Entity key_a1ydm)
                    (case value_a1ydn of
                       User {userName = userName, userLogin = userLogin,
                             userQuasiPassword = userQuasiPassword, userCreated = userCreated,
                             userIsPublisher = userIsPublisher}
                         -> User
                              {userName = userName, userLogin = userLogin,
                               userQuasiPassword = userQuasiPassword, userCreated = userCreated,
                               userIsAdmin = x_a1ydo, userIsPublisher = userIsPublisher}))
      fieldLens UserIsPublisher
        = (PTH.lensPTH ((\ User {userIsPublisher = x} -> x) . entityVal))
            (\ (Entity key_a1ydm value_a1ydn) x_a1ydo
               -> (Entity key_a1ydm)
                    (case value_a1ydn of
                       User {userName = userName, userLogin = userLogin,
                             userQuasiPassword = userQuasiPassword, userCreated = userCreated,
                             userIsAdmin = userIsAdmin}
                         -> User
                              {userName = userName, userLogin = userLogin,
                               userQuasiPassword = userQuasiPassword, userCreated = userCreated,
                               userIsAdmin = userIsAdmin, userIsPublisher = x_a1ydo}))
    instance ToBackendKey Database.Persist.SqlBackend.Internal.SqlBackend User where
      toBackendKey = \ UserKey {unUserKey = x} -> x
      fromBackendKey = UserKey
    data Category
      = Category {categoryLabel :: !T.Text,
                  categoryParent :: !(Maybe CategoryId)}
      deriving stock (Eq, Show)
    type CategoryId = Database.Persist.Key Category
    instance PersistEntity Category where
      type PersistEntityBackend Category = Database.Persist.SqlBackend.Internal.SqlBackend
      data Unique Category = UniqueCategory T.Text
      newtype Database.Persist.Key Category
        = CategoryKey {unCategoryKey :: (BackendKey Database.Persist.SqlBackend.Internal.SqlBackend)}
        deriving stock Show
        deriving stock Read
        deriving newtype Eq
        deriving newtype Ord
        deriving newtype path-pieces-0.2.1-E15XfVOwfTfIr2VliI4YGA:Web.PathPieces.PathPiece
        deriving newtype http-api-data-0.4.3-8AwfdtQImWAISYRgwZNRi0:Web.Internal.HttpApiData.ToHttpApiData
        deriving newtype http-api-data-0.4.3-8AwfdtQImWAISYRgwZNRi0:Web.Internal.HttpApiData.FromHttpApiData
        deriving newtype PersistField
        deriving newtype persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.PersistFieldSql
        deriving newtype ToJSON
        deriving newtype FromJSON
      data EntityField Category typ
        = (typ ~ CategoryId) => CategoryId |
          (typ ~ T.Text) => CategoryLabel |
          (typ ~ Maybe CategoryId) => CategoryParent
      keyToValues
        = ((: [])
             . (toPersistValue . (\ CategoryKey {unCategoryKey = x} -> x)))
      keyFromValues
        = (fmap CategoryKey
             . (fromPersistValue . Database.Persist.TH.headNote))
      keyFromRecordM = Nothing
      entityDef _
        = ((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                      (EntityNameHS (T.pack "Category")))
                     (EntityNameDB (T.pack "categories")))
                    (EntityIdField
                       (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                   (FieldNameDB (T.pack "id")))
                                  ((FTTypeCon Nothing) (T.pack "CategoryId")))
                                 SqlInt64)
                                [])
                               True)
                              NoReference)
                             ((FieldCascade Nothing) Nothing))
                            Nothing)
                           Nothing)
                          True)))
                   [T.pack "sql=categories"])
                  [])
                 [(((UniqueDef (ConstraintNameHS (T.pack "UniqueCategory")))
                      (ConstraintNameDB (T.pack "unique_category")))
                     ((FieldNameHS (T.pack "label"), FieldNameDB (T.pack "label"))
                        GHC.Base.:| []))
                    []])
                [])
               [T.pack "Eq", T.pack "Show"])
              Data.Map.Internal.Tip)
             False)
            Nothing
            {persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityFields = [FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "label"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "label"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      (Just
                                                                                                                         (T.pack
                                                                                                                            "T")))
                                                                                                                     (T.pack
                                                                                                                        "Text"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy T.Text),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "parent"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "parent"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      Nothing)
                                                                                                                     (T.pack
                                                                                                                        "CategoryId"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy CategoryId),
                                                                                                       fieldAttrs = [FieldAttrMaybe],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = ForeignRef
                                                                                                                          (EntityNameHS
                                                                                                                             (T.pack
                                                                                                                                "Category")),
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False}],
             persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityId = EntityIdField
                                                                                                 (((((((((((FieldDef
                                                                                                              (FieldNameHS
                                                                                                                 (T.pack
                                                                                                                    "Id")))
                                                                                                             (FieldNameDB
                                                                                                                (T.pack
                                                                                                                   "id")))
                                                                                                            ((FTTypeCon
                                                                                                                Nothing)
                                                                                                               (T.pack
                                                                                                                  "CategoryId")))
                                                                                                           SqlInt64)
                                                                                                          [])
                                                                                                         True)
                                                                                                        NoReference)
                                                                                                       ((FieldCascade
                                                                                                           Nothing)
                                                                                                          Nothing))
                                                                                                      Nothing)
                                                                                                     Nothing)
                                                                                                    True),
             persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityForeigns = []}
      toPersistFields (Category x_a1ydp x_a1ydq)
        = [SomePersistField x_a1ydp, SomePersistField x_a1ydq]
      fromPersistValues [x1_a1yds, x2_a1ydt]
        = Category
            <$>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "categories")) (T.pack "label"))
                 . fromPersistValue)
                x1_a1yds
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "categories")) (T.pack "parent"))
                 . fromPersistValue)
                x2_a1ydt
      fromPersistValues x_a1ydr
        = (Left
             $ (mappend (T.pack "Category: fromPersistValues failed on: "))
                 (T.pack $ show x_a1ydr))
      persistUniqueToFieldNames UniqueCategory {}
        = ((FieldNameHS (T.pack "label"), FieldNameDB (T.pack "label"))
             GHC.Base.:| [])
      persistUniqueToValues (UniqueCategory x_a1ydu)
        = [toPersistValue x_a1ydu]
      persistUniqueKeys (Category _label_a1ydv _parent_a1ydw)
        = [UniqueCategory _label_a1ydv]
      persistFieldDef CategoryId
        = Database.Persist.TH.stripIdFieldImpl
            (EntityIdField
               (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                           (FieldNameDB (T.pack "id")))
                          ((FTTypeCon Nothing) (T.pack "CategoryId")))
                         SqlInt64)
                        [])
                       True)
                      NoReference)
                     ((FieldCascade Nothing) Nothing))
                    Nothing)
                   Nothing)
                  True))
      persistFieldDef CategoryLabel
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy Category))
            (FieldNameHS (T.pack "label"))
      persistFieldDef CategoryParent
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy Category))
            (FieldNameHS (T.pack "parent"))
      persistIdField = CategoryId
      fieldLens CategoryId
        = (PTH.lensPTH entityKey)
            (\ (Entity _ value_a1ydy) key_a1ydz
               -> (Entity key_a1ydz) value_a1ydy)
      fieldLens CategoryLabel
        = (PTH.lensPTH ((\ Category {categoryLabel = x} -> x) . entityVal))
            (\ (Entity key_a1ydA value_a1ydB) x_a1ydC
               -> (Entity key_a1ydA)
                    (case value_a1ydB of
                       Category {categoryParent = categoryParent}
                         -> Category
                              {categoryLabel = x_a1ydC, categoryParent = categoryParent}))
      fieldLens CategoryParent
        = (PTH.lensPTH
             ((\ Category {categoryParent = x} -> x) . entityVal))
            (\ (Entity key_a1ydA value_a1ydB) x_a1ydC
               -> (Entity key_a1ydA)
                    (case value_a1ydB of
                       Category {categoryLabel = categoryLabel}
                         -> Category
                              {categoryLabel = categoryLabel, categoryParent = x_a1ydC}))
    instance ToBackendKey Database.Persist.SqlBackend.Internal.SqlBackend Category where
      toBackendKey = \ CategoryKey {unCategoryKey = x} -> x
      fromBackendKey = CategoryKey
    data News
      = News {newsTitle :: !T.Text,
              newsCreated :: !UTCTime,
              newsUserId :: !UserId,
              newsCategoryId :: !CategoryId,
              newsContent :: !T.Text,
              newsImagesIds :: ![ImageId],
              newsIsPublish :: !Bool}
      deriving stock (Eq, Show)
    type NewsId = Database.Persist.Key News
    instance PersistEntity News where
      type PersistEntityBackend News = Database.Persist.SqlBackend.Internal.SqlBackend
      data Unique News = UniqueNews T.Text
      newtype Database.Persist.Key News
        = NewsKey {unNewsKey :: (BackendKey Database.Persist.SqlBackend.Internal.SqlBackend)}
        deriving stock Show
        deriving stock Read
        deriving newtype Eq
        deriving newtype Ord
        deriving newtype path-pieces-0.2.1-E15XfVOwfTfIr2VliI4YGA:Web.PathPieces.PathPiece
        deriving newtype http-api-data-0.4.3-8AwfdtQImWAISYRgwZNRi0:Web.Internal.HttpApiData.ToHttpApiData
        deriving newtype http-api-data-0.4.3-8AwfdtQImWAISYRgwZNRi0:Web.Internal.HttpApiData.FromHttpApiData
        deriving newtype PersistField
        deriving newtype persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.PersistFieldSql
        deriving newtype ToJSON
        deriving newtype FromJSON
      data EntityField News typ
        = (typ ~ NewsId) => NewsId |
          (typ ~ T.Text) => NewsTitle |
          (typ ~ UTCTime) => NewsCreated |
          (typ ~ UserId) => NewsUserId |
          (typ ~ CategoryId) => NewsCategoryId |
          (typ ~ T.Text) => NewsContent |
          (typ ~ [ImageId]) => NewsImagesIds |
          (typ ~ Bool) => NewsIsPublish
      keyToValues
        = ((: []) . (toPersistValue . (\ NewsKey {unNewsKey = x} -> x)))
      keyFromValues
        = (fmap NewsKey
             . (fromPersistValue . Database.Persist.TH.headNote))
      keyFromRecordM = Nothing
      entityDef _
        = ((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                      (EntityNameHS (T.pack "News")))
                     (EntityNameDB (T.pack "news")))
                    (EntityIdField
                       (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                   (FieldNameDB (T.pack "id")))
                                  ((FTTypeCon Nothing) (T.pack "NewsId")))
                                 SqlInt64)
                                [])
                               True)
                              NoReference)
                             ((FieldCascade Nothing) Nothing))
                            Nothing)
                           Nothing)
                          True)))
                   [T.pack "sql=news"])
                  [])
                 [(((UniqueDef (ConstraintNameHS (T.pack "UniqueNews")))
                      (ConstraintNameDB (T.pack "unique_news")))
                     ((FieldNameHS (T.pack "title"), FieldNameDB (T.pack "title"))
                        GHC.Base.:| []))
                    []])
                [])
               [T.pack "Eq", T.pack "Show"])
              Data.Map.Internal.Tip)
             False)
            Nothing
            {persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityFields = [FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "title"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "title"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      (Just
                                                                                                                         (T.pack
                                                                                                                            "T")))
                                                                                                                     (T.pack
                                                                                                                        "Text"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy T.Text),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "created"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "created"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      Nothing)
                                                                                                                     (T.pack
                                                                                                                        "UTCTime"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy UTCTime),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "userId"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "user_id"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      Nothing)
                                                                                                                     (T.pack
                                                                                                                        "UserId"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy UserId),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = ForeignRef
                                                                                                                          (EntityNameHS
                                                                                                                             (T.pack
                                                                                                                                "User")),
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "categoryId"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "category_id"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      Nothing)
                                                                                                                     (T.pack
                                                                                                                        "CategoryId"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy CategoryId),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = ForeignRef
                                                                                                                          (EntityNameHS
                                                                                                                             (T.pack
                                                                                                                                "Category")),
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "content"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "content"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      (Just
                                                                                                                         (T.pack
                                                                                                                            "T")))
                                                                                                                     (T.pack
                                                                                                                        "Text"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy T.Text),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "imagesIds"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "images_ids"),
                                                                                                       fieldType = FTList
                                                                                                                     ((FTTypeCon
                                                                                                                         Nothing)
                                                                                                                        (T.pack
                                                                                                                           "ImageId")),
                                                                                                       fieldSqlType = SqlString,
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "isPublish"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "is_publish"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      Nothing)
                                                                                                                     (T.pack
                                                                                                                        "Bool"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy Bool),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False}],
             persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityId = EntityIdField
                                                                                                 (((((((((((FieldDef
                                                                                                              (FieldNameHS
                                                                                                                 (T.pack
                                                                                                                    "Id")))
                                                                                                             (FieldNameDB
                                                                                                                (T.pack
                                                                                                                   "id")))
                                                                                                            ((FTTypeCon
                                                                                                                Nothing)
                                                                                                               (T.pack
                                                                                                                  "NewsId")))
                                                                                                           SqlInt64)
                                                                                                          [])
                                                                                                         True)
                                                                                                        NoReference)
                                                                                                       ((FieldCascade
                                                                                                           Nothing)
                                                                                                          Nothing))
                                                                                                      Nothing)
                                                                                                     Nothing)
                                                                                                    True),
             persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityForeigns = []}
      toPersistFields
        (News x_a1ydD x_a1ydE x_a1ydF x_a1ydG x_a1ydH x_a1ydI x_a1ydJ)
        = [SomePersistField x_a1ydD, SomePersistField x_a1ydE,
           SomePersistField x_a1ydF, SomePersistField x_a1ydG,
           SomePersistField x_a1ydH, SomePersistField x_a1ydI,
           SomePersistField x_a1ydJ]
      fromPersistValues
        [x1_a1ydL,
         x2_a1ydM,
         x3_a1ydN,
         x4_a1ydO,
         x5_a1ydP,
         x6_a1ydQ,
         x7_a1ydR]
        = News
            <$>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "news")) (T.pack "title"))
                 . fromPersistValue)
                x1_a1ydL
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "news")) (T.pack "created"))
                 . fromPersistValue)
                x2_a1ydM
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "news")) (T.pack "userId"))
                 . fromPersistValue)
                x3_a1ydN
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "news")) (T.pack "categoryId"))
                 . fromPersistValue)
                x4_a1ydO
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "news")) (T.pack "content"))
                 . fromPersistValue)
                x5_a1ydP
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "news")) (T.pack "imagesIds"))
                 . fromPersistValue)
                x6_a1ydQ
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "news")) (T.pack "isPublish"))
                 . fromPersistValue)
                x7_a1ydR
      fromPersistValues x_a1ydK
        = (Left
             $ (mappend (T.pack "News: fromPersistValues failed on: "))
                 (T.pack $ show x_a1ydK))
      persistUniqueToFieldNames UniqueNews {}
        = ((FieldNameHS (T.pack "title"), FieldNameDB (T.pack "title"))
             GHC.Base.:| [])
      persistUniqueToValues (UniqueNews x_a1ydS)
        = [toPersistValue x_a1ydS]
      persistUniqueKeys
        (News _title_a1ydT _created_a1ydU _userId_a1ydV _categoryId_a1ydW
              _content_a1ydX _imagesIds_a1ydY _isPublish_a1ydZ)
        = [UniqueNews _title_a1ydT]
      persistFieldDef NewsId
        = Database.Persist.TH.stripIdFieldImpl
            (EntityIdField
               (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                           (FieldNameDB (T.pack "id")))
                          ((FTTypeCon Nothing) (T.pack "NewsId")))
                         SqlInt64)
                        [])
                       True)
                      NoReference)
                     ((FieldCascade Nothing) Nothing))
                    Nothing)
                   Nothing)
                  True))
      persistFieldDef NewsTitle
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy News))
            (FieldNameHS (T.pack "title"))
      persistFieldDef NewsCreated
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy News))
            (FieldNameHS (T.pack "created"))
      persistFieldDef NewsUserId
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy News))
            (FieldNameHS (T.pack "userId"))
      persistFieldDef NewsCategoryId
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy News))
            (FieldNameHS (T.pack "categoryId"))
      persistFieldDef NewsContent
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy News))
            (FieldNameHS (T.pack "content"))
      persistFieldDef NewsImagesIds
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy News))
            (FieldNameHS (T.pack "imagesIds"))
      persistFieldDef NewsIsPublish
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy News))
            (FieldNameHS (T.pack "isPublish"))
      persistIdField = NewsId
      fieldLens NewsId
        = (PTH.lensPTH entityKey)
            (\ (Entity _ value_a1ye1) key_a1ye2
               -> (Entity key_a1ye2) value_a1ye1)
      fieldLens NewsTitle
        = (PTH.lensPTH ((\ News {newsTitle = x} -> x) . entityVal))
            (\ (Entity key_a1ye3 value_a1ye4) x_a1ye5
               -> (Entity key_a1ye3)
                    (case value_a1ye4 of
                       News {newsCreated = newsCreated, newsUserId = newsUserId,
                             newsCategoryId = newsCategoryId, newsContent = newsContent,
                             newsImagesIds = newsImagesIds, newsIsPublish = newsIsPublish}
                         -> News
                              {newsTitle = x_a1ye5, newsCreated = newsCreated,
                               newsUserId = newsUserId, newsCategoryId = newsCategoryId,
                               newsContent = newsContent, newsImagesIds = newsImagesIds,
                               newsIsPublish = newsIsPublish}))
      fieldLens NewsCreated
        = (PTH.lensPTH ((\ News {newsCreated = x} -> x) . entityVal))
            (\ (Entity key_a1ye3 value_a1ye4) x_a1ye5
               -> (Entity key_a1ye3)
                    (case value_a1ye4 of
                       News {newsTitle = newsTitle, newsUserId = newsUserId,
                             newsCategoryId = newsCategoryId, newsContent = newsContent,
                             newsImagesIds = newsImagesIds, newsIsPublish = newsIsPublish}
                         -> News
                              {newsTitle = newsTitle, newsCreated = x_a1ye5,
                               newsUserId = newsUserId, newsCategoryId = newsCategoryId,
                               newsContent = newsContent, newsImagesIds = newsImagesIds,
                               newsIsPublish = newsIsPublish}))
      fieldLens NewsUserId
        = (PTH.lensPTH ((\ News {newsUserId = x} -> x) . entityVal))
            (\ (Entity key_a1ye3 value_a1ye4) x_a1ye5
               -> (Entity key_a1ye3)
                    (case value_a1ye4 of
                       News {newsTitle = newsTitle, newsCreated = newsCreated,
                             newsCategoryId = newsCategoryId, newsContent = newsContent,
                             newsImagesIds = newsImagesIds, newsIsPublish = newsIsPublish}
                         -> News
                              {newsTitle = newsTitle, newsCreated = newsCreated,
                               newsUserId = x_a1ye5, newsCategoryId = newsCategoryId,
                               newsContent = newsContent, newsImagesIds = newsImagesIds,
                               newsIsPublish = newsIsPublish}))
      fieldLens NewsCategoryId
        = (PTH.lensPTH ((\ News {newsCategoryId = x} -> x) . entityVal))
            (\ (Entity key_a1ye3 value_a1ye4) x_a1ye5
               -> (Entity key_a1ye3)
                    (case value_a1ye4 of
                       News {newsTitle = newsTitle, newsCreated = newsCreated,
                             newsUserId = newsUserId, newsContent = newsContent,
                             newsImagesIds = newsImagesIds, newsIsPublish = newsIsPublish}
                         -> News
                              {newsTitle = newsTitle, newsCreated = newsCreated,
                               newsUserId = newsUserId, newsCategoryId = x_a1ye5,
                               newsContent = newsContent, newsImagesIds = newsImagesIds,
                               newsIsPublish = newsIsPublish}))
      fieldLens NewsContent
        = (PTH.lensPTH ((\ News {newsContent = x} -> x) . entityVal))
            (\ (Entity key_a1ye3 value_a1ye4) x_a1ye5
               -> (Entity key_a1ye3)
                    (case value_a1ye4 of
                       News {newsTitle = newsTitle, newsCreated = newsCreated,
                             newsUserId = newsUserId, newsCategoryId = newsCategoryId,
                             newsImagesIds = newsImagesIds, newsIsPublish = newsIsPublish}
                         -> News
                              {newsTitle = newsTitle, newsCreated = newsCreated,
                               newsUserId = newsUserId, newsCategoryId = newsCategoryId,
                               newsContent = x_a1ye5, newsImagesIds = newsImagesIds,
                               newsIsPublish = newsIsPublish}))
      fieldLens NewsImagesIds
        = (PTH.lensPTH ((\ News {newsImagesIds = x} -> x) . entityVal))
            (\ (Entity key_a1ye3 value_a1ye4) x_a1ye5
               -> (Entity key_a1ye3)
                    (case value_a1ye4 of
                       News {newsTitle = newsTitle, newsCreated = newsCreated,
                             newsUserId = newsUserId, newsCategoryId = newsCategoryId,
                             newsContent = newsContent, newsIsPublish = newsIsPublish}
                         -> News
                              {newsTitle = newsTitle, newsCreated = newsCreated,
                               newsUserId = newsUserId, newsCategoryId = newsCategoryId,
                               newsContent = newsContent, newsImagesIds = x_a1ye5,
                               newsIsPublish = newsIsPublish}))
      fieldLens NewsIsPublish
        = (PTH.lensPTH ((\ News {newsIsPublish = x} -> x) . entityVal))
            (\ (Entity key_a1ye3 value_a1ye4) x_a1ye5
               -> (Entity key_a1ye3)
                    (case value_a1ye4 of
                       News {newsTitle = newsTitle, newsCreated = newsCreated,
                             newsUserId = newsUserId, newsCategoryId = newsCategoryId,
                             newsContent = newsContent, newsImagesIds = newsImagesIds}
                         -> News
                              {newsTitle = newsTitle, newsCreated = newsCreated,
                               newsUserId = newsUserId, newsCategoryId = newsCategoryId,
                               newsContent = newsContent, newsImagesIds = newsImagesIds,
                               newsIsPublish = x_a1ye5}))
    instance ToBackendKey Database.Persist.SqlBackend.Internal.SqlBackend News where
      toBackendKey = \ NewsKey {unNewsKey = x} -> x
      fromBackendKey = NewsKey
    data Image
      = Image {imageHeader :: !T.Text, imageBase64 :: !T.Text}
      deriving stock (Eq, Show)
    type ImageId = Database.Persist.Key Image
    instance PersistEntity Image where
      type PersistEntityBackend Image = Database.Persist.SqlBackend.Internal.SqlBackend
      data Unique Image = UniqueImage T.Text T.Text
      newtype Database.Persist.Key Image
        = ImageKey {unImageKey :: (BackendKey Database.Persist.SqlBackend.Internal.SqlBackend)}
        deriving stock Show
        deriving stock Read
        deriving newtype Eq
        deriving newtype Ord
        deriving newtype path-pieces-0.2.1-E15XfVOwfTfIr2VliI4YGA:Web.PathPieces.PathPiece
        deriving newtype http-api-data-0.4.3-8AwfdtQImWAISYRgwZNRi0:Web.Internal.HttpApiData.ToHttpApiData
        deriving newtype http-api-data-0.4.3-8AwfdtQImWAISYRgwZNRi0:Web.Internal.HttpApiData.FromHttpApiData
        deriving newtype PersistField
        deriving newtype persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.PersistFieldSql
        deriving newtype ToJSON
        deriving newtype FromJSON
      data EntityField Image typ
        = (typ ~ ImageId) => ImageId |
          (typ ~ T.Text) => ImageHeader |
          (typ ~ T.Text) => ImageBase64
      keyToValues
        = ((: []) . (toPersistValue . (\ ImageKey {unImageKey = x} -> x)))
      keyFromValues
        = (fmap ImageKey
             . (fromPersistValue . Database.Persist.TH.headNote))
      keyFromRecordM = Nothing
      entityDef _
        = ((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                      (EntityNameHS (T.pack "Image")))
                     (EntityNameDB (T.pack "images")))
                    (EntityIdField
                       (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                   (FieldNameDB (T.pack "id")))
                                  ((FTTypeCon Nothing) (T.pack "ImageId")))
                                 SqlInt64)
                                [])
                               True)
                              NoReference)
                             ((FieldCascade Nothing) Nothing))
                            Nothing)
                           Nothing)
                          True)))
                   [T.pack "sql=images"])
                  [])
                 [(((UniqueDef (ConstraintNameHS (T.pack "UniqueImage")))
                      (ConstraintNameDB (T.pack "unique_image")))
                     ((FieldNameHS (T.pack "header"), FieldNameDB (T.pack "header"))
                        GHC.Base.:|
                          [(FieldNameHS (T.pack "base64"), FieldNameDB (T.pack "base64"))]))
                    []])
                [])
               [T.pack "Eq", T.pack "Show"])
              Data.Map.Internal.Tip)
             False)
            Nothing
            {persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityFields = [FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "header"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "header"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      (Just
                                                                                                                         (T.pack
                                                                                                                            "T")))
                                                                                                                     (T.pack
                                                                                                                        "Text"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy T.Text),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "base64"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "base64"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      (Just
                                                                                                                         (T.pack
                                                                                                                            "T")))
                                                                                                                     (T.pack
                                                                                                                        "Text"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy T.Text),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = NoReference,
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False}],
             persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityId = EntityIdField
                                                                                                 (((((((((((FieldDef
                                                                                                              (FieldNameHS
                                                                                                                 (T.pack
                                                                                                                    "Id")))
                                                                                                             (FieldNameDB
                                                                                                                (T.pack
                                                                                                                   "id")))
                                                                                                            ((FTTypeCon
                                                                                                                Nothing)
                                                                                                               (T.pack
                                                                                                                  "ImageId")))
                                                                                                           SqlInt64)
                                                                                                          [])
                                                                                                         True)
                                                                                                        NoReference)
                                                                                                       ((FieldCascade
                                                                                                           Nothing)
                                                                                                          Nothing))
                                                                                                      Nothing)
                                                                                                     Nothing)
                                                                                                    True),
             persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityForeigns = []}
      toPersistFields (Image x_a1ye6 x_a1ye7)
        = [SomePersistField x_a1ye6, SomePersistField x_a1ye7]
      fromPersistValues [x1_a1ye9, x2_a1yea]
        = Image
            <$>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "images")) (T.pack "header"))
                 . fromPersistValue)
                x1_a1ye9
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "images")) (T.pack "base64"))
                 . fromPersistValue)
                x2_a1yea
      fromPersistValues x_a1ye8
        = (Left
             $ (mappend (T.pack "Image: fromPersistValues failed on: "))
                 (T.pack $ show x_a1ye8))
      persistUniqueToFieldNames UniqueImage {}
        = ((FieldNameHS (T.pack "header"), FieldNameDB (T.pack "header"))
             GHC.Base.:|
               [(FieldNameHS (T.pack "base64"), FieldNameDB (T.pack "base64"))])
      persistUniqueToValues (UniqueImage x_a1yeb x_a1yec)
        = [toPersistValue x_a1yeb, toPersistValue x_a1yec]
      persistUniqueKeys (Image _header_a1yed _base64_a1yee)
        = [(UniqueImage _header_a1yed) _base64_a1yee]
      persistFieldDef ImageId
        = Database.Persist.TH.stripIdFieldImpl
            (EntityIdField
               (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                           (FieldNameDB (T.pack "id")))
                          ((FTTypeCon Nothing) (T.pack "ImageId")))
                         SqlInt64)
                        [])
                       True)
                      NoReference)
                     ((FieldCascade Nothing) Nothing))
                    Nothing)
                   Nothing)
                  True))
      persistFieldDef ImageHeader
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy Image))
            (FieldNameHS (T.pack "header"))
      persistFieldDef ImageBase64
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy Image))
            (FieldNameHS (T.pack "base64"))
      persistIdField = ImageId
      fieldLens ImageId
        = (PTH.lensPTH entityKey)
            (\ (Entity _ value_a1yeg) key_a1yeh
               -> (Entity key_a1yeh) value_a1yeg)
      fieldLens ImageHeader
        = (PTH.lensPTH ((\ Image {imageHeader = x} -> x) . entityVal))
            (\ (Entity key_a1yei value_a1yej) x_a1yek
               -> (Entity key_a1yei)
                    (case value_a1yej of
                       Image {imageBase64 = imageBase64}
                         -> Image {imageHeader = x_a1yek, imageBase64 = imageBase64}))
      fieldLens ImageBase64
        = (PTH.lensPTH ((\ Image {imageBase64 = x} -> x) . entityVal))
            (\ (Entity key_a1yei value_a1yej) x_a1yek
               -> (Entity key_a1yei)
                    (case value_a1yej of
                       Image {imageHeader = imageHeader}
                         -> Image {imageHeader = imageHeader, imageBase64 = x_a1yek}))
    instance ToBackendKey Database.Persist.SqlBackend.Internal.SqlBackend Image where
      toBackendKey = \ ImageKey {unImageKey = x} -> x
      fromBackendKey = ImageKey
    data ImageBank
      = ImageBank {imageBankNewsId :: !NewsId,
                   imageBankImageId :: !ImageId}
      deriving stock (Eq, Show)
    type ImageBankId = Database.Persist.Key ImageBank
    instance PersistEntity ImageBank where
      type PersistEntityBackend ImageBank = Database.Persist.SqlBackend.Internal.SqlBackend
      data Unique ImageBank
      data Database.Persist.Key ImageBank
        = ImageBankKey {imageBankKeynewsId :: NewsId,
                        imageBankKeyimageId :: ImageId}
        deriving stock Show
        deriving stock Read
        deriving stock Eq
        deriving stock Ord
        deriving stock Generic
      data EntityField ImageBank typ
        = (typ ~ ImageBankId) => ImageBankId |
          (typ ~ NewsId) => ImageBankNewsId |
          (typ ~ ImageId) => ImageBankImageId
      keyToValues record_a1yeu
        = [toPersistValue (imageBankKeynewsId record_a1yeu),
           toPersistValue (imageBankKeyimageId record_a1yeu)]
      keyFromValues [x1_a1yew, x2_a1yex]
        = ImageBankKey
            <$>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "images_bank")) (T.pack "newsId"))
                 . fromPersistValue)
                x1_a1yew
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "images_bank")) (T.pack "imageId"))
                 . fromPersistValue)
                x2_a1yex
      keyFromValues x_a1yev
        = (Left
             $ (mappend (T.pack "ImageBank: keyFromValues failed on: "))
                 (T.pack $ show x_a1yev))
      keyFromRecordM
        = Just
            (\ record_a1yeD
               -> (ImageBankKey (imageBankNewsId record_a1yeD))
                    (imageBankImageId record_a1yeD))
      entityDef _
        = ((((((((((persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.EntityDef
                      (EntityNameHS (T.pack "ImageBank")))
                     (EntityNameDB (T.pack "images_bank")))
                    (EntityIdField
                       (((((((((((FieldDef (FieldNameHS (T.pack "Id")))
                                   (FieldNameDB (T.pack "id")))
                                  ((FTTypeCon Nothing) (T.pack "ImageBankId")))
                                 (SqlOther (T.pack "Primary Key")))
                                [])
                               True)
                              NoReference)
                             ((FieldCascade Nothing) Nothing))
                            Nothing)
                           Nothing)
                          True)))
                   [T.pack "sql=images_bank"])
                  [])
                 [])
                [])
               [T.pack "Eq", T.pack "Show"])
              Data.Map.Internal.Tip)
             False)
            Nothing
            {persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityFields = [FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "newsId"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "news_id"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      Nothing)
                                                                                                                     (T.pack
                                                                                                                        "NewsId"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy NewsId),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = ForeignRef
                                                                                                                          (EntityNameHS
                                                                                                                             (T.pack
                                                                                                                                "News")),
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False},
                                                                                                    FieldDef
                                                                                                      {fieldHaskell = FieldNameHS
                                                                                                                        (T.pack
                                                                                                                           "imageId"),
                                                                                                       fieldDB = FieldNameDB
                                                                                                                   (T.pack
                                                                                                                      "image_id"),
                                                                                                       fieldType = (FTTypeCon
                                                                                                                      Nothing)
                                                                                                                     (T.pack
                                                                                                                        "ImageId"),
                                                                                                       fieldSqlType = persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
                                                                                                                        (Data.Proxy.Proxy ::
                                                                                                                           Data.Proxy.Proxy ImageId),
                                                                                                       fieldAttrs = [],
                                                                                                       fieldStrict = True,
                                                                                                       fieldReference = ForeignRef
                                                                                                                          (EntityNameHS
                                                                                                                             (T.pack
                                                                                                                                "Image")),
                                                                                                       fieldCascade = (FieldCascade
                                                                                                                         Nothing)
                                                                                                                        Nothing,
                                                                                                       fieldComments = Nothing,
                                                                                                       fieldGenerated = Nothing,
                                                                                                       fieldIsImplicitIdColumn = False}],
             persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityId = EntityIdNaturalKey
                                                                                                 CompositeDef
                                                                                                   {compositeFields = Data.List.NonEmpty.fromList
                                                                                                                        [(Database.Persist.TH.lookupEntityField
                                                                                                                            (Data.Proxy.Proxy ::
                                                                                                                               Data.Proxy.Proxy ImageBank))
                                                                                                                           (FieldNameHS
                                                                                                                              (T.pack
                                                                                                                                 "newsId")),
                                                                                                                         (Database.Persist.TH.lookupEntityField
                                                                                                                            (Data.Proxy.Proxy ::
                                                                                                                               Data.Proxy.Proxy ImageBank))
                                                                                                                           (FieldNameHS
                                                                                                                              (T.pack
                                                                                                                                 "imageId"))],
                                                                                                    compositeAttrs = []},
             persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Types.Base.entityForeigns = []}
      toPersistFields (ImageBank x_a1yel x_a1yem)
        = [SomePersistField x_a1yel, SomePersistField x_a1yem]
      fromPersistValues [x1_a1yeo, x2_a1yep]
        = ImageBank
            <$>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "images_bank")) (T.pack "newsId"))
                 . fromPersistValue)
                x1_a1yeo
            <*>
              (Database.Persist.TH.mapLeft
                 ((PTH.fieldError (T.pack "images_bank")) (T.pack "imageId"))
                 . fromPersistValue)
                x2_a1yep
      fromPersistValues x_a1yen
        = (Left
             $ (mappend (T.pack "ImageBank: fromPersistValues failed on: "))
                 (T.pack $ show x_a1yen))
      persistUniqueToFieldNames _
        = error "Degenerate case, should never happen"
      persistUniqueToValues _
        = error "Degenerate case, should never happen"
      persistUniqueKeys (ImageBank _newsId_a1yeq _imageId_a1yer) = []
      persistFieldDef ImageBankId
        = Database.Persist.TH.stripIdFieldImpl
            (EntityIdNaturalKey
               CompositeDef
                 {compositeFields = Data.List.NonEmpty.fromList
                                      [(Database.Persist.TH.lookupEntityField
                                          (Data.Proxy.Proxy :: Data.Proxy.Proxy ImageBank))
                                         (FieldNameHS (T.pack "newsId")),
                                       (Database.Persist.TH.lookupEntityField
                                          (Data.Proxy.Proxy :: Data.Proxy.Proxy ImageBank))
                                         (FieldNameHS (T.pack "imageId"))],
                  compositeAttrs = []})
      persistFieldDef ImageBankNewsId
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy ImageBank))
            (FieldNameHS (T.pack "newsId"))
      persistFieldDef ImageBankImageId
        = (Database.Persist.TH.lookupEntityField
             (Data.Proxy.Proxy :: Data.Proxy.Proxy ImageBank))
            (FieldNameHS (T.pack "imageId"))
      persistIdField = ImageBankId
      fieldLens ImageBankId
        = (PTH.lensPTH entityKey)
            (\ (Entity _ value_a1yey) key_a1yez
               -> (Entity key_a1yez) value_a1yey)
      fieldLens ImageBankNewsId
        = (PTH.lensPTH
             ((\ ImageBank {imageBankNewsId = x} -> x) . entityVal))
            (\ (Entity key_a1yeA value_a1yeB) x_a1yeC
               -> (Entity key_a1yeA)
                    (case value_a1yeB of
                       ImageBank {imageBankImageId = imageBankImageId}
                         -> ImageBank
                              {imageBankNewsId = x_a1yeC, imageBankImageId = imageBankImageId}))
      fieldLens ImageBankImageId
        = (PTH.lensPTH
             ((\ ImageBank {imageBankImageId = x} -> x) . entityVal))
            (\ (Entity key_a1yeA value_a1yeB) x_a1yeC
               -> (Entity key_a1yeA)
                    (case value_a1yeB of
                       ImageBank {imageBankNewsId = imageBankNewsId}
                         -> ImageBank
                              {imageBankNewsId = imageBankNewsId, imageBankImageId = x_a1yeC}))
    instance PersistField (Database.Persist.Key ImageBank) where
      toPersistValue = (PersistList . keyToValues)
      fromPersistValue (PersistList l_a1yes) = keyFromValues l_a1yes
      fromPersistValue got_a1yet
        = (error
             $ ("fromPersistValue: expected PersistList, got: "
                  `mappend` show got_a1yet))
    instance persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.PersistFieldSql (Database.Persist.Key ImageBank) where
      persistent-2.13.3.5-2RpXYPsly8d7lfymAx4ys3:Database.Persist.Sql.Class.sqlType
        _
        = SqlString
    instance ToJSON (Database.Persist.Key ImageBank)
    instance FromJSON (Database.Persist.Key ImageBank)
    instance OnlyOneUniqueKey User where
      onlyUniqueP = (head . persistUniqueKeys)
    instance AtLeastOneUniqueKey User where
      requireUniquesP = (Data.List.NonEmpty.fromList . persistUniqueKeys)
    instance OnlyOneUniqueKey Category where
      onlyUniqueP = (head . persistUniqueKeys)
    instance AtLeastOneUniqueKey Category where
      requireUniquesP = (Data.List.NonEmpty.fromList . persistUniqueKeys)
    instance OnlyOneUniqueKey News where
      onlyUniqueP = (head . persistUniqueKeys)
    instance AtLeastOneUniqueKey News where
      requireUniquesP = (Data.List.NonEmpty.fromList . persistUniqueKeys)
    instance OnlyOneUniqueKey Image where
      onlyUniqueP = (head . persistUniqueKeys)
    instance AtLeastOneUniqueKey Image where
      requireUniquesP = (Data.List.NonEmpty.fromList . persistUniqueKeys)
    instance GHC.TypeLits.TypeError (NoUniqueKeysError ImageBank) =>
             OnlyOneUniqueKey ImageBank where
      onlyUniqueP _ = error "impossible"
    instance GHC.TypeLits.TypeError (MultipleUniqueKeysError ImageBank) =>
             AtLeastOneUniqueKey ImageBank where
      requireUniquesP _ = error "impossible"
    instance SymbolToField "id" User (Database.Persist.Key User) where
      symbolToField = UserId
    instance SymbolToField "name" User T.Text where
      symbolToField = UserName
    instance SymbolToField "login" User T.Text where
      symbolToField = UserLogin
    instance SymbolToField "quasiPassword" User T.Text where
      symbolToField = UserQuasiPassword
    instance SymbolToField "created" User UTCTime where
      symbolToField = UserCreated
    instance SymbolToField "isAdmin" User Bool where
      symbolToField = UserIsAdmin
    instance SymbolToField "isPublisher" User Bool where
      symbolToField = UserIsPublisher
    instance SymbolToField "id" Category (Database.Persist.Key Category) where
      symbolToField = CategoryId
    instance SymbolToField "label" Category T.Text where
      symbolToField = CategoryLabel
    instance SymbolToField "parent" Category (Maybe CategoryId) where
      symbolToField = CategoryParent
    instance SymbolToField "id" News (Database.Persist.Key News) where
      symbolToField = NewsId
    instance SymbolToField "title" News T.Text where
      symbolToField = NewsTitle
    instance SymbolToField "created" News UTCTime where
      symbolToField = NewsCreated
    instance SymbolToField "userId" News UserId where
      symbolToField = NewsUserId
    instance SymbolToField "categoryId" News CategoryId where
      symbolToField = NewsCategoryId
    instance SymbolToField "content" News T.Text where
      symbolToField = NewsContent
    instance SymbolToField "imagesIds" News [ImageId] where
      symbolToField = NewsImagesIds
    instance SymbolToField "isPublish" News Bool where
      symbolToField = NewsIsPublish
    instance SymbolToField "id" Image (Database.Persist.Key Image) where
      symbolToField = ImageId
    instance SymbolToField "header" Image T.Text where
      symbolToField = ImageHeader
    instance SymbolToField "base64" Image T.Text where
      symbolToField = ImageBase64
    instance SymbolToField "newsId" ImageBank NewsId where
      symbolToField = ImageBankNewsId
    instance SymbolToField "imageId" ImageBank ImageId where
      symbolToField = ImageBankImageId
    entityDefListFormigrateAll :: [EntityDef]
    entityDefListFormigrateAll
      = [entityDef (Data.Proxy.Proxy :: Data.Proxy.Proxy User),
         entityDef (Data.Proxy.Proxy :: Data.Proxy.Proxy Category),
         entityDef (Data.Proxy.Proxy :: Data.Proxy.Proxy News),
         entityDef (Data.Proxy.Proxy :: Data.Proxy.Proxy Image),
         entityDef (Data.Proxy.Proxy :: Data.Proxy.Proxy ImageBank)]
    migrateAll :: Database.Persist.Sql.Migration.Migration
    migrateAll = PTH.migrateModels entityDefListFormigrateAll
